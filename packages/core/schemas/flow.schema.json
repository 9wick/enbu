{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "selectorSpec": {
      "anyOf": [
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "css": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^[a-zA-Z#.[:*]",
                  "description": "CSSセレクタ形式で要素を指定"
                }
              },
              "required": [
                "css"
              ]
            },
            {
              "type": "object",
              "properties": {
                "interactableText": {
                  "type": "string",
                  "minLength": 1,
                  "description": "インタラクティブ要素をテキスト内容で検索"
                }
              },
              "required": [
                "interactableText"
              ]
            },
            {
              "type": "object",
              "properties": {
                "xpath": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^\\/",
                  "description": "XPath形式で要素を指定"
                }
              },
              "required": [
                "xpath"
              ]
            }
          ]
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "css": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^[a-zA-Z#.[:*]",
                  "description": "CSSセレクタ形式で要素を指定"
                }
              },
              "required": [
                "css"
              ]
            },
            {
              "type": "object",
              "properties": {
                "anyText": {
                  "type": "string",
                  "minLength": 1,
                  "description": "全要素をテキスト内容で検索"
                }
              },
              "required": [
                "anyText"
              ]
            },
            {
              "type": "object",
              "properties": {
                "xpath": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^\\/",
                  "description": "XPath形式で要素を指定"
                }
              },
              "required": [
                "xpath"
              ]
            }
          ]
        }
      ],
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "openCommand": {
      "type": "object",
      "properties": {
        "open": {
          "type": "string",
          "minLength": 1,
          "description": "開くURL"
        }
      },
      "required": [
        "open"
      ],
      "description": "URLを開く",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "scrollCommand": {
      "type": "object",
      "properties": {
        "scroll": {
          "type": "object",
          "properties": {
            "direction": {
              "enum": [
                "up",
                "down",
                "left",
                "right"
              ],
              "description": "スクロール方向"
            },
            "amount": {
              "type": "number",
              "description": "スクロール量（ピクセル）"
            }
          },
          "required": [
            "direction",
            "amount"
          ]
        }
      },
      "required": [
        "scroll"
      ],
      "description": "ページをスクロールする",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "scrollIntoViewCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "scrollIntoView": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "scrollIntoView"
          ],
          "description": "テキストで要素を指定してスクロール"
        },
        {
          "type": "object",
          "properties": {
            "scrollIntoView": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "css": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^[a-zA-Z#.[:*]",
                      "description": "CSSセレクタ形式で要素を指定"
                    }
                  },
                  "required": [
                    "css"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "anyText": {
                      "type": "string",
                      "minLength": 1,
                      "description": "全要素をテキスト内容で検索"
                    }
                  },
                  "required": [
                    "anyText"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "xpath": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^\\/",
                      "description": "XPath形式で要素を指定"
                    }
                  },
                  "required": [
                    "xpath"
                  ]
                }
              ]
            }
          },
          "required": [
            "scrollIntoView"
          ],
          "description": "セレクタで要素を指定してスクロール"
        }
      ],
      "description": "要素が表示されるまでスクロール",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "clickCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "click": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "click"
          ],
          "description": "テキストで要素を指定してクリック"
        },
        {
          "type": "object",
          "properties": {
            "click": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "css": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^[a-zA-Z#.[:*]",
                      "description": "CSSセレクタ形式で要素を指定"
                    }
                  },
                  "required": [
                    "css"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "interactableText": {
                      "type": "string",
                      "minLength": 1,
                      "description": "インタラクティブ要素をテキスト内容で検索"
                    }
                  },
                  "required": [
                    "interactableText"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "xpath": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^\\/",
                      "description": "XPath形式で要素を指定"
                    }
                  },
                  "required": [
                    "xpath"
                  ]
                }
              ]
            }
          },
          "required": [
            "click"
          ],
          "description": "セレクタで要素を指定してクリック"
        }
      ],
      "description": "要素をクリックする",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "hoverCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "hover": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "hover"
          ],
          "description": "テキストで要素を指定してホバー"
        },
        {
          "type": "object",
          "properties": {
            "hover": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "css": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^[a-zA-Z#.[:*]",
                      "description": "CSSセレクタ形式で要素を指定"
                    }
                  },
                  "required": [
                    "css"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "interactableText": {
                      "type": "string",
                      "minLength": 1,
                      "description": "インタラクティブ要素をテキスト内容で検索"
                    }
                  },
                  "required": [
                    "interactableText"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "xpath": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^\\/",
                      "description": "XPath形式で要素を指定"
                    }
                  },
                  "required": [
                    "xpath"
                  ]
                }
              ]
            }
          },
          "required": [
            "hover"
          ],
          "description": "セレクタで要素を指定してホバー"
        }
      ],
      "description": "要素にホバーする",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "typeCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "object",
              "properties": {
                "css": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^[a-zA-Z#.[:*]",
                  "description": "CSSセレクタ形式で要素を指定"
                },
                "value": {
                  "type": "string",
                  "description": "入力するテキスト"
                }
              },
              "required": [
                "css",
                "value"
              ]
            }
          },
          "required": [
            "type"
          ],
          "description": "CSSセレクタで要素を指定して入力"
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "object",
              "properties": {
                "interactableText": {
                  "type": "string",
                  "minLength": 1,
                  "description": "インタラクティブ要素をテキスト内容で検索"
                },
                "value": {
                  "type": "string",
                  "description": "入力するテキスト"
                }
              },
              "required": [
                "interactableText",
                "value"
              ]
            }
          },
          "required": [
            "type"
          ],
          "description": "テキストで要素を指定して入力"
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "object",
              "properties": {
                "xpath": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^\\/",
                  "description": "XPath形式で要素を指定"
                },
                "value": {
                  "type": "string",
                  "description": "入力するテキスト"
                }
              },
              "required": [
                "xpath",
                "value"
              ]
            }
          },
          "required": [
            "type"
          ],
          "description": "XPathで要素を指定して入力"
        }
      ],
      "description": "要素にテキストを入力する（既存テキストに追加）",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "fillCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "fill": {
              "type": "object",
              "properties": {
                "css": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^[a-zA-Z#.[:*]",
                  "description": "CSSセレクタ形式で要素を指定"
                },
                "value": {
                  "type": "string",
                  "description": "入力するテキスト（既存テキストをクリアして入力）"
                }
              },
              "required": [
                "css",
                "value"
              ]
            }
          },
          "required": [
            "fill"
          ],
          "description": "CSSセレクタで要素を指定して入力"
        },
        {
          "type": "object",
          "properties": {
            "fill": {
              "type": "object",
              "properties": {
                "interactableText": {
                  "type": "string",
                  "minLength": 1,
                  "description": "インタラクティブ要素をテキスト内容で検索"
                },
                "value": {
                  "type": "string",
                  "description": "入力するテキスト（既存テキストをクリアして入力）"
                }
              },
              "required": [
                "interactableText",
                "value"
              ]
            }
          },
          "required": [
            "fill"
          ],
          "description": "テキストで要素を指定して入力"
        },
        {
          "type": "object",
          "properties": {
            "fill": {
              "type": "object",
              "properties": {
                "xpath": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^\\/",
                  "description": "XPath形式で要素を指定"
                },
                "value": {
                  "type": "string",
                  "description": "入力するテキスト（既存テキストをクリアして入力）"
                }
              },
              "required": [
                "xpath",
                "value"
              ]
            }
          },
          "required": [
            "fill"
          ],
          "description": "XPathで要素を指定して入力"
        }
      ],
      "description": "要素にテキストを入力する（既存テキストをクリアして入力）",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "selectCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "select": {
              "type": "object",
              "properties": {
                "css": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^[a-zA-Z#.[:*]",
                  "description": "CSSセレクタ形式で要素を指定"
                },
                "value": {
                  "type": "string",
                  "description": "選択するオプションの値"
                }
              },
              "required": [
                "css",
                "value"
              ]
            }
          },
          "required": [
            "select"
          ],
          "description": "CSSセレクタで要素を指定して選択"
        },
        {
          "type": "object",
          "properties": {
            "select": {
              "type": "object",
              "properties": {
                "interactableText": {
                  "type": "string",
                  "minLength": 1,
                  "description": "インタラクティブ要素をテキスト内容で検索"
                },
                "value": {
                  "type": "string",
                  "description": "選択するオプションの値"
                }
              },
              "required": [
                "interactableText",
                "value"
              ]
            }
          },
          "required": [
            "select"
          ],
          "description": "テキストで要素を指定して選択"
        },
        {
          "type": "object",
          "properties": {
            "select": {
              "type": "object",
              "properties": {
                "xpath": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^\\/",
                  "description": "XPath形式で要素を指定"
                },
                "value": {
                  "type": "string",
                  "description": "選択するオプションの値"
                }
              },
              "required": [
                "xpath",
                "value"
              ]
            }
          },
          "required": [
            "select"
          ],
          "description": "XPathで要素を指定して選択"
        }
      ],
      "description": "セレクトボックスからオプションを選択する",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "pressCommand": {
      "type": "object",
      "properties": {
        "press": {
          "type": "string",
          "minLength": 1,
          "description": "押すキー"
        }
      },
      "required": [
        "press"
      ],
      "description": "キーを押す",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "waitCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "wait": {
              "type": "number",
              "description": "待機時間（ミリ秒）"
            }
          },
          "required": [
            "wait"
          ],
          "description": "指定ミリ秒待機"
        },
        {
          "type": "object",
          "properties": {
            "wait": {
              "type": "object",
              "properties": {
                "css": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^[a-zA-Z#.[:*]",
                  "description": "CSSセレクタ形式で要素を指定"
                }
              },
              "required": [
                "css"
              ]
            }
          },
          "required": [
            "wait"
          ],
          "description": "CSSセレクタで指定した要素が表示されるまで待機"
        },
        {
          "type": "object",
          "properties": {
            "wait": {
              "type": "object",
              "properties": {
                "anyText": {
                  "type": "string",
                  "minLength": 1,
                  "description": "全要素をテキスト内容で検索"
                }
              },
              "required": [
                "anyText"
              ]
            }
          },
          "required": [
            "wait"
          ],
          "description": "テキストで指定した要素が表示されるまで待機"
        },
        {
          "type": "object",
          "properties": {
            "wait": {
              "type": "object",
              "properties": {
                "xpath": {
                  "type": "string",
                  "minLength": 1,
                  "pattern": "^\\/",
                  "description": "XPath形式で要素を指定"
                }
              },
              "required": [
                "xpath"
              ]
            }
          },
          "required": [
            "wait"
          ],
          "description": "XPathで指定した要素が表示されるまで待機"
        },
        {
          "type": "object",
          "properties": {
            "wait": {
              "type": "object",
              "properties": {
                "load": {
                  "enum": [
                    "load",
                    "domcontentloaded",
                    "networkidle"
                  ],
                  "description": "ページの読み込み状態"
                }
              },
              "required": [
                "load"
              ]
            }
          },
          "required": [
            "wait"
          ],
          "description": "ページの読み込み状態が指定の状態になるまで待機"
        },
        {
          "type": "object",
          "properties": {
            "wait": {
              "type": "object",
              "properties": {
                "url": {
                  "type": "string",
                  "description": "待機するURL（部分一致）"
                }
              },
              "required": [
                "url"
              ]
            }
          },
          "required": [
            "wait"
          ],
          "description": "URLが指定の文字列を含むまで待機"
        },
        {
          "type": "object",
          "properties": {
            "wait": {
              "type": "object",
              "properties": {
                "fn": {
                  "type": "string",
                  "minLength": 1,
                  "description": "待機条件の関数"
                }
              },
              "required": [
                "fn"
              ]
            }
          },
          "required": [
            "wait"
          ],
          "description": "関数が真を返すまで待機"
        }
      ],
      "description": "指定の条件まで待機する",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "screenshotCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "screenshot": {
              "type": "string",
              "minLength": 1,
              "description": "スクリーンショットの保存パス"
            }
          },
          "required": [
            "screenshot"
          ]
        },
        {
          "type": "object",
          "properties": {
            "screenshot": {
              "type": "object",
              "properties": {
                "path": {
                  "type": "string",
                  "minLength": 1,
                  "description": "スクリーンショットの保存パス"
                },
                "full": {
                  "type": "boolean",
                  "description": "フルページスクリーンショットを取得するか"
                }
              },
              "required": [
                "path"
              ]
            }
          },
          "required": [
            "screenshot"
          ]
        }
      ],
      "description": "スクリーンショットを取得する",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "assertVisibleCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "assertVisible": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "assertVisible"
          ],
          "description": "テキストで要素を指定して表示を検証"
        },
        {
          "type": "object",
          "properties": {
            "assertVisible": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "css": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^[a-zA-Z#.[:*]",
                      "description": "CSSセレクタ形式で要素を指定"
                    }
                  },
                  "required": [
                    "css"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "anyText": {
                      "type": "string",
                      "minLength": 1,
                      "description": "全要素をテキスト内容で検索"
                    }
                  },
                  "required": [
                    "anyText"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "xpath": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^\\/",
                      "description": "XPath形式で要素を指定"
                    }
                  },
                  "required": [
                    "xpath"
                  ]
                }
              ]
            }
          },
          "required": [
            "assertVisible"
          ],
          "description": "セレクタで要素を指定して表示を検証"
        }
      ],
      "description": "要素が表示されていることを検証する",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "assertNotVisibleCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "assertNotVisible": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "assertNotVisible"
          ],
          "description": "テキストで要素を指定して非表示を検証"
        },
        {
          "type": "object",
          "properties": {
            "assertNotVisible": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "css": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^[a-zA-Z#.[:*]",
                      "description": "CSSセレクタ形式で要素を指定"
                    }
                  },
                  "required": [
                    "css"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "anyText": {
                      "type": "string",
                      "minLength": 1,
                      "description": "全要素をテキスト内容で検索"
                    }
                  },
                  "required": [
                    "anyText"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "xpath": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^\\/",
                      "description": "XPath形式で要素を指定"
                    }
                  },
                  "required": [
                    "xpath"
                  ]
                }
              ]
            }
          },
          "required": [
            "assertNotVisible"
          ],
          "description": "セレクタで要素を指定して非表示を検証"
        }
      ],
      "description": "要素が非表示であることを検証する",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "assertEnabledCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "assertEnabled": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "assertEnabled"
          ],
          "description": "テキストで要素を指定して有効を検証"
        },
        {
          "type": "object",
          "properties": {
            "assertEnabled": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "css": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^[a-zA-Z#.[:*]",
                      "description": "CSSセレクタ形式で要素を指定"
                    }
                  },
                  "required": [
                    "css"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "interactableText": {
                      "type": "string",
                      "minLength": 1,
                      "description": "インタラクティブ要素をテキスト内容で検索"
                    }
                  },
                  "required": [
                    "interactableText"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "xpath": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^\\/",
                      "description": "XPath形式で要素を指定"
                    }
                  },
                  "required": [
                    "xpath"
                  ]
                }
              ]
            }
          },
          "required": [
            "assertEnabled"
          ],
          "description": "セレクタで要素を指定して有効を検証"
        }
      ],
      "description": "要素が有効であることを検証する",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "assertCheckedCommand": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "assertChecked": {
              "type": "string",
              "minLength": 1
            }
          },
          "required": [
            "assertChecked"
          ],
          "description": "テキストで要素を指定してチェック状態を検証"
        },
        {
          "anyOf": [
            {
              "type": "object",
              "properties": {
                "assertChecked": {
                  "type": "object",
                  "properties": {
                    "css": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^[a-zA-Z#.[:*]",
                      "description": "CSSセレクタ形式で要素を指定"
                    },
                    "checked": {
                      "type": "boolean",
                      "description": "期待されるチェック状態（省略時はtrue）"
                    }
                  },
                  "required": [
                    "css"
                  ]
                }
              },
              "required": [
                "assertChecked"
              ],
              "description": "CSSセレクタで要素を指定してチェック状態を検証"
            },
            {
              "type": "object",
              "properties": {
                "assertChecked": {
                  "type": "object",
                  "properties": {
                    "interactableText": {
                      "type": "string",
                      "minLength": 1,
                      "description": "インタラクティブ要素をテキスト内容で検索"
                    },
                    "checked": {
                      "type": "boolean",
                      "description": "期待されるチェック状態（省略時はtrue）"
                    }
                  },
                  "required": [
                    "interactableText"
                  ]
                }
              },
              "required": [
                "assertChecked"
              ],
              "description": "テキストで要素を指定してチェック状態を検証"
            },
            {
              "type": "object",
              "properties": {
                "assertChecked": {
                  "type": "object",
                  "properties": {
                    "xpath": {
                      "type": "string",
                      "minLength": 1,
                      "pattern": "^\\/",
                      "description": "XPath形式で要素を指定"
                    },
                    "checked": {
                      "type": "boolean",
                      "description": "期待されるチェック状態（省略時はtrue）"
                    }
                  },
                  "required": [
                    "xpath"
                  ]
                }
              },
              "required": [
                "assertChecked"
              ],
              "description": "XPathで要素を指定してチェック状態を検証"
            }
          ]
        }
      ],
      "description": "チェックボックス/ラジオボタンの状態を検証する",
      "$schema": "http://json-schema.org/draft-07/schema#"
    },
    "evalCommand": {
      "type": "object",
      "properties": {
        "eval": {
          "type": "string",
          "minLength": 1,
          "description": "実行するJavaScriptコード"
        }
      },
      "required": [
        "eval"
      ],
      "description": "JavaScriptを実行する",
      "$schema": "http://json-schema.org/draft-07/schema#"
    }
  }
}