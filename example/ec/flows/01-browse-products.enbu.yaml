# 商品閲覧テストフロー
# 商品一覧の表示、検索、詳細ページへの遷移を確認する

env:
  BASE_URL: http://localhost:3060

steps:
  # トップページを開く
  - open: ${BASE_URL}

  # ページタイトル「オンラインショップ」の表示確認
  - assertVisible: オンラインショップ

  # 「商品一覧」見出しの表示確認
  - assertVisible: 商品一覧

  # 商品が表示されていることを確認
  - assertVisible: プレミアムコーヒー豆 500g
  - assertVisible: 有機緑茶ティーバッグ 30包

  # 検索ボックスに「はちみつ」と入力（aria-label="商品を検索"を使用）
  - fill:
      selector: 商品を検索
      value: はちみつ

  # 検索ボタンをクリック
  - click: 検索する

  # 検索結果に「はちみつ」商品が表示されることを確認
  - assertVisible: 北海道産はちみつ 300g

  # トップページに戻る
  - open: ${BASE_URL}

  # 商品の「詳細を見る」ボタンをクリック（プレミアムコーヒー豆の商品名をクリック）
  - click: プレミアムコーヒー豆 500g

  # 商品詳細ページの表示確認（商品名の見出しとカートボタンで確認）
  - wait:
      text: エチオピア産の高品質アラビカ種
  - assertVisible: カートに追加
