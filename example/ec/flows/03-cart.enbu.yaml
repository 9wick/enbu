# カート操作テストフロー
# カートへの追加、数量変更を確認する
# 前提: ログイン済みの状態から開始

env:
  BASE_URL: http://localhost:3060

steps:
  # ログインしてトップページへ
  - open: ${BASE_URL}/login.html
  - fill:
      selector: メールアドレス
      value: test@example.com
  - fill:
      selector: パスワード
      value: password123
  - click: ログイン
  - wait:
      text: 商品一覧

  # 商品をカートに追加
  - click: カートに追加

  # カート追加完了のトースト表示確認
  - assertVisible: カートに追加しました

  # カート数が更新されていることを確認
  - wait: 500
  - assertVisible: (1)

  # カートページへ移動
  - click: カート

  # カートページの表示確認
  - assertVisible: ショッピングカート
  - assertVisible: プレミアムコーヒー豆 500g
  - assertVisible: 注文概要

  # 数量を増やす
  - click: +
  - assertVisible: 数量を更新しました
