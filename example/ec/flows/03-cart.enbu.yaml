# Cart Operations Test Flow
# Verify adding to cart and quantity changes

env:
  BASE_URL: http://localhost:3060

steps:
  # Login and go to top page
  - open: ${BASE_URL}/login.html
  - fill:
      selector: Email Address
      value: test@example.com
  - fill:
      selector: Password
      value: password123
  - click: Sign In
  - assertVisible: Welcome, John Smith
  - wait:
      text: John Smith

  # Wait for product listing to be displayed
  - assertVisible: Collection

  # Navigate to product detail page
  - click: Cashmere Wool Cardigan

  # Add to cart on product detail page
  - click: Add to Cart

  # Verify cart addition toast is displayed
  - assertVisible: has been added to your cart

  # Navigate to cart page (header cart link)
  - click: Shopping Bag (

  # Verify cart page is displayed
  - assertVisible: Shopping Bag
  - assertVisible: Cashmere Wool Cardigan
  - assertVisible: Order Summary

  # Increase quantity
  - click: +
  - assertVisible: Quantity updated
