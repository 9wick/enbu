# チェックアウトテストフロー
# 購入完了までの流れを確認する

env:
  BASE_URL: http://localhost:3060

steps:
  # ログインしてカートに商品を追加
  - open: ${BASE_URL}/login.html
  - fill:
      selector: メールアドレス
      value: test@example.com
  - fill:
      selector: パスワード
      value: password123
  - click: ログインする
  - assertVisible: ようこそ
  - wait:
      text: 山田太郎
  # 商品一覧が表示されるまで待機
  - assertVisible: 商品一覧
  # 商品詳細ページへ移動
  - click: プレミアムコーヒー豆 500g
  # 商品詳細ページでカートに追加
  - click: カートに追加
  - assertVisible: カートに追加しました
  # カートページへ移動（ヘッダーのカートリンクをクリック）
  - click: カート (

  # レジに進む
  - click: レジに進む

  # チェックアウトページの表示確認
  - assertVisible: お支払い情報入力
  - assertVisible: お届け先情報

  # 配送先情報を入力
  - fill:
      selector: 郵便番号
      value: 123-4567
  - fill:
      selector: 住所
      value: 東京都渋谷区テスト町1-2-3
  - fill:
      selector: 電話番号
      value: 090-1234-5678

  # 支払い方法はデフォルトでクレジットカードが選択済み

  # 注文内容が表示されていることを確認
  - assertVisible: 注文内容

  # 注文確定
  - click: 注文を確定する

  # 注文完了ページの表示確認
  - assertVisible: ご注文ありがとうございます
  - assertVisible: 注文番号
