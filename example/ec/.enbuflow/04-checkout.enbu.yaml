# Checkout Test Flow
# Verify the complete purchase flow

env:
  BASE_URL: http://localhost:3060

steps:
  # Login and add product to cart
  - open: ${BASE_URL}/login.html
  - fill:
      css: "#email"
      value: test@example.com
  - fill:
      css: "#password"
      value: password123
  - click: Sign In
  - assertVisible: Welcome, John Smith
  - wait:
      anyText: John Smith
  # Wait for product listing to be displayed
  - assertVisible: Collection
  # Navigate to product detail page
  - click: Cashmere Wool Cardigan
  # Add to cart on product detail page
  - click: Add to Cart
  - assertVisible: has been added to your cart
  # Navigate to cart page (header cart link)
  - click: Shopping Bag (

  # Proceed to checkout
  - click: Proceed to Checkout

  # Verify checkout page is displayed
  - assertVisible: Checkout
  - assertVisible: Shipping Information

  # Enter shipping information
  - fill:
      interactableText: Postal Code
      value: "123-4567"
  - fill:
      interactableText: Address
      value: 123 Fifth Avenue, New York
  - fill:
      interactableText: Phone Number
      value: "555-123-4567"

  # Payment method is Credit Card by default

  # Verify order contents are displayed
  - assertVisible: Order Summary

  # Place order
  - click: Place Order

  # Verify order completion page is displayed
  - assertVisible: Thank You
  - assertVisible: Order Number
