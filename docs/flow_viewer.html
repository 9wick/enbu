<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flow Viewer - runFlows</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cytoscape/3.30.2/cytoscape.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dagre/0.8.5/dagre.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/cytoscape-dagre@2.5.0/cytoscape-dagre.min.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: system-ui, sans-serif; }
    #container { display: flex; height: 100vh; }
    #controls { width: 250px; padding: 16px; background: #f5f5f5; border-right: 1px solid #ddd; overflow-y: auto; }
    #cy { flex: 1; }
    .control-group { margin-bottom: 16px; }
    .control-group label { display: block; margin-bottom: 4px; font-weight: bold; }
    .control-group input[type="number"] { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
    .control-group input[type="checkbox"] { margin-right: 8px; }
    .checkbox-label { display: flex; align-items: center; font-weight: normal; cursor: pointer; }
    button { width: 100%; padding: 12px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; }
    button:hover { background: #0056b3; }
    #tooltip { position: absolute; background: #333; color: white; padding: 8px 12px; border-radius: 4px; font-size: 12px; pointer-events: none; display: none; max-width: 400px; z-index: 1000; }
    #tooltip div { margin-bottom: 4px; }
    #tooltip div:last-child { margin-bottom: 0; }
    .meta { font-size: 12px; color: #666; margin-bottom: 16px; padding-bottom: 16px; border-bottom: 1px solid #ddd; }
    .meta p { margin-bottom: 4px; }
    h2 { font-size: 14px; margin-bottom: 12px; color: #333; }
    .button-group { display: flex; gap: 8px; margin-bottom: 8px; }
    .btn-small { padding: 4px 8px; font-size: 12px; background: #6c757d; flex: 1; }
    .btn-small:hover { background: #5a6268; }
    .lib-checkbox { display: block; margin-bottom: 4px; font-size: 12px; }
    #externalLibsContainer { max-height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 8px; border-radius: 4px; background: white; }
  </style>
</head>
<body>
  <div id="container">
    <div id="controls">
      <h2>Flow Viewer</h2>
      <div class="meta">
        <p><strong>Entry:</strong> runFlows</p>
        <p><strong>Nodes:</strong> 751</p>
        <p><strong>Edges:</strong> 1500</p>
        <p><strong>Generated:</strong> 2026/01/22 18:48</p>
      </div>
      <div class="control-group">
        <label class="checkbox-label">
          <input type="checkbox" id="merge" >
          Merge（同一関数を統合）
        </label>
      </div>
      <div class="control-group">
        <label><strong>外部ライブラリ</strong></label>
        <div class="button-group">
          <button type="button" id="selectAllLibs" class="btn-small">すべて選択</button>
          <button type="button" id="deselectAllLibs" class="btn-small">すべて解除</button>
        </div>
        <div id="externalLibsContainer">
          <!-- 動的に生成 -->
        </div>
      </div>
      <div class="control-group">
        <label for="layerDepth">Layer Depth（レイヤー階層）</label>
        <input type="number" id="layerDepth" value="2" min="1" max="10">
      </div>
      <div class="control-group">
        <label for="collapseLevel">Collapse Level（折りたたみ）</label>
        <input type="number" id="collapseLevel" value="9" min="0" max="99">
      </div>
      <button id="apply">Apply</button>
    </div>
    <div id="cy"></div>
  </div>
  <div id="tooltip"></div>
  <script>
    // 元データ（パラメータ変更時に再処理するため）
    const originalDiagram = {"meta":{"generatedAt":"2026-01-22T09:48:39.467Z","entryPoint":"runFlows","totalNodes":751,"totalEdges":1500},"nodes":[{"id":"runFlows_0","funcName":"runFlows","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":412,"inType":"RunFlowsInput","outType":"ResultAsync<RunFlowsOutput, OrchestratorError>"},{"id":"executeAllFlows_1","funcName":"executeAllFlows","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":387,"inType":"readonly Flow[], RunFlowsInput, number","outType":"Promise<RunFlowsOutput>"},{"id":"executeAllFlowsParallel_2","funcName":"executeAllFlowsParallel","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":319,"inType":"readonly Flow[], RunFlowsInput, number","outType":"Promise<RunFlowsOutput>"},{"id":"pLimit_3","funcName":"pLimit","filepath":"p-limit","layerPath":["p-limit"],"line":0,"inType":"number","outType":"","isExternal":true},{"id":"executeSingleFlow_4","funcName":"executeSingleFlow","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":255,"inType":"Flow, RunFlowsInput","outType":"Promise<FlowRunSummary>"},{"id":"generateSessionName_5","funcName":"generateSessionName","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":178,"inType":"string","outType":"string"},{"id":"notifyFlowProgress_6","funcName":"notifyFlowProgress","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":221,"inType":"RunFlowsInput, string, \"passed\" | \"failed\" | \"start\", number, number | undefined","outType":"Promise<void>"},{"id":"buildFlowExecutionOptions_7","funcName":"buildFlowExecutionOptions","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":193,"inType":"string, RunFlowsInput, string","outType":"FlowExecutionOptions"},{"id":"executeFlow_8","funcName":"executeFlow","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":279,"inType":"Flow, FlowExecutionOptions","outType":"ResultAsync<FlowResult, AgentBrowserError>"},{"id":"buildExecutionContext_9","funcName":"buildExecutionContext","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":111,"inType":"FlowExecutionOptions, Flow","outType":"ExecutionContext"},{"id":"okAsync_10","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"FlowResult","outType":"","isExternal":true},{"id":"errAsync_11","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"isFailedStepResult_12","funcName":"isFailedStepResult","filepath":"packages/core/src/executor/result.ts","layerPath":["packages/core/src","executor"],"line":346,"inType":"StepResult","outType":"boolean"},{"id":"buildFailedFlowResult_13","funcName":"buildFailedFlowResult","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":58,"inType":"Flow, string, number, StepResult[], FailedStepResult, number","outType":"FailedFlowResult"},{"id":"buildSuccessFlowResult_14","funcName":"buildSuccessFlowResult","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":89,"inType":"Flow, string, number, StepResult[]","outType":"PassedFlowResult"},{"id":"executeAllSteps_15","funcName":"executeAllSteps","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":174,"inType":"Flow, ExecutionContext, boolean, boolean, number, StepProgressCallback | { readonly _brand: \"NoCallback\"; }","outType":"Promise<ExecuteAllStepsResult>"},{"id":"isStepProgressCallback_16","funcName":"isStepProgressCallback","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":41,"inType":"StepProgressCallback | { readonly _brand: \"NoCallback\"; }","outType":"boolean"},{"id":"executeStep_17","funcName":"executeStep","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":615,"inType":"Command, number, ExecutionContext, boolean","outType":"Promise<StepResult>"},{"id":"takeErrorScreenshot_18","funcName":"takeErrorScreenshot","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"ExecutionContext, boolean","outType":"Promise<ScreenshotResult>"},{"id":"getAgentBrowserErrorMessage_19","funcName":"getAgentBrowserErrorMessage","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":72,"inType":"AgentBrowserError","outType":"string"},{"id":"captureErrorScreenshot_20","funcName":"captureErrorScreenshot","filepath":"packages/core/src/executor/error-screenshot.ts","layerPath":["packages/core/src","executor"],"line":30,"inType":"ExecutionContext","outType":"ResultAsync<string, AgentBrowserError>"},{"id":"browserScreenshot_21","funcName":"browserScreenshot","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"FilePath\">","outType":"","isExternal":true},{"id":"asFilePath_22","funcName":"asFilePath","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_23","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"SelectorWaitFailure | ExecutorError","outType":"","isExternal":true},{"id":"getErrorMessage_24","funcName":"getErrorMessage","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":170,"inType":"ExecutorError","outType":"string"},{"id":"hasMessageField_25","funcName":"hasMessageField","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":106,"inType":"ExecutorError","outType":"boolean"},{"id":"getCommandFailedFallback_26","funcName":"getCommandFailedFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":152,"inType":"ExecutorError","outType":"string"},{"id":"getCommandErrorFallback_27","funcName":"getCommandErrorFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }","outType":"string"},{"id":"getAssertionFallback_28","funcName":"getAssertionFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":126,"inType":"AssertionFailedError","outType":"string"},{"id":"match_29","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ExecutorError","outType":"","isExternal":true},{"id":"executeResolvedCommand_30","funcName":"executeResolvedCommand","filepath":"packages/core/src/executor/commands/handler-registry.ts","layerPath":["packages/core/src","executor/commands"],"line":26,"inType":"ResolvedCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"handleAssertChecked_31","funcName":"handleAssertChecked","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":487,"inType":"ResolvedAssertCheckedCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"getSelectorForErrorMessage_32","funcName":"getSelectorForErrorMessage","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":121,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"string"},{"id":"getSelectorString_33","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_34","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"checkChecked_35","funcName":"checkChecked","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":453,"inType":"string, { checked: boolean; }, number, boolean","outType":"ResultAsync<CommandResult, AssertionFailedError>"},{"id":"errAsync_36","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AssertionFailedError","outType":"","isExternal":true},{"id":"okAsync_37","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ stdout: string; duration: number; }","outType":"","isExternal":true},{"id":"browserIsChecked_38","funcName":"browserIsChecked","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_39","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_40","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_41","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_42","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_43","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_44","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleAssertEnabled_45","funcName":"handleAssertEnabled","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":418,"inType":"ResolvedAssertEnabledCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"getSelectorForErrorMessage_46","funcName":"getSelectorForErrorMessage","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":121,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"string"},{"id":"getSelectorString_47","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_48","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"checkEnabled_49","funcName":"checkEnabled","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":393,"inType":"string, { enabled: boolean; }, number","outType":"ResultAsync<CommandResult, AssertionFailedError>"},{"id":"errAsync_50","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AssertionFailedError","outType":"","isExternal":true},{"id":"okAsync_51","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ stdout: string; duration: number; }","outType":"","isExternal":true},{"id":"browserIsEnabled_52","funcName":"browserIsEnabled","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_53","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_54","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_55","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_56","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_57","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_58","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleAssertNotVisible_59","funcName":"handleAssertNotVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":353,"inType":"ResolvedAssertNotVisibleCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"getSelectorString_60","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_61","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"isTextSelector_62","funcName":"isTextSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":42,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"boolean"},{"id":"match_63","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleTextSelectorNotVisible_64","funcName":"handleTextSelectorNotVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":316,"inType":"string, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"checkTextNotVisible_65","funcName":"checkTextNotVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":271,"inType":"string, ExecutionContext, number","outType":"Promise<ResultAsync<CommandResult, ExecutorError>>"},{"id":"browserWaitForText_66","funcName":"browserWaitForText","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"errAsync_67","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"assertion_failed\"; message: string; command: string; selector: string; expected: boolean; actual: boolean; }","outType":"","isExternal":true},{"id":"okAsync_68","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ stdout: string; duration: number; }","outType":"","isExternal":true},{"id":"waitForPageStable_69","funcName":"waitForPageStable","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":71,"inType":"ExecutionContext","outType":"ResultAsync<undefined, AgentBrowserError>"},{"id":"browserWaitForNetworkIdle_70","funcName":"browserWaitForNetworkIdle","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }","outType":"","isExternal":true},{"id":"getAndCheckNotVisible_71","funcName":"getAndCheckNotVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":242,"inType":"ResolvedSelectorSpec, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"browserIsVisible_72","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"getSelectorForErrorMessage_73","funcName":"getSelectorForErrorMessage","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":121,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"string"},{"id":"getSelectorString_74","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_75","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"resolveCliSelector_76","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_77","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_78","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_79","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_80","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_81","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"checkNotVisible_82","funcName":"checkNotVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":214,"inType":"string, { visible: boolean; }, number","outType":"ResultAsync<CommandResult, AssertionFailedError>"},{"id":"errAsync_83","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AssertionFailedError","outType":"","isExternal":true},{"id":"okAsync_84","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ stdout: string; duration: number; }","outType":"","isExternal":true},{"id":"waitForPageStable_85","funcName":"waitForPageStable","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":71,"inType":"ExecutionContext","outType":"ResultAsync<undefined, AgentBrowserError>"},{"id":"browserWaitForNetworkIdle_86","funcName":"browserWaitForNetworkIdle","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }","outType":"","isExternal":true},{"id":"handleAssertVisible_87","funcName":"handleAssertVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":184,"inType":"ResolvedAssertVisibleCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"getSelectorString_88","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_89","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"isTextSelector_90","funcName":"isTextSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":42,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"boolean"},{"id":"match_91","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleTextSelectorVisible_92","funcName":"handleTextSelectorVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":143,"inType":"string, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"browserWaitForText_93","funcName":"browserWaitForText","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"waitForElement_94","funcName":"waitForElement","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":49,"inType":"ResolvedSelectorSpec, ExecutionContext","outType":"ResultAsync<undefined, AgentBrowserError>"},{"id":"isTextSelector_95","funcName":"isTextSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":42,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"boolean"},{"id":"match_96","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"getSelectorString_97","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_98","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"browserWaitForText_99","funcName":"browserWaitForText","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserWaitForSelector_100","funcName":"browserWaitForSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_101","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_102","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_103","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_104","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_105","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_106","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"getAndCheckVisibility_107","funcName":"getAndCheckVisibility","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":114,"inType":"ResolvedSelectorSpec, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"browserIsVisible_108","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"getSelectorForErrorMessage_109","funcName":"getSelectorForErrorMessage","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":121,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"string"},{"id":"getSelectorString_110","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_111","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"resolveCliSelector_112","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_113","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_114","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_115","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_116","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_117","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"checkVisibility_118","funcName":"checkVisibility","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":77,"inType":"string, { visible: boolean; }, number","outType":"ResultAsync<CommandResult, AssertionFailedError>"},{"id":"errAsync_119","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AssertionFailedError","outType":"","isExternal":true},{"id":"okAsync_120","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ stdout: string; duration: number; }","outType":"","isExternal":true},{"id":"handleEval_121","funcName":"handleEval","filepath":"packages/core/src/executor/commands/eval.ts","layerPath":["packages/core/src","executor/commands"],"line":17,"inType":"EvalCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserEval_122","funcName":"browserEval","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"JsExpression\">","outType":"","isExternal":true},{"id":"handleScreenshot_123","funcName":"handleScreenshot","filepath":"packages/core/src/executor/commands/capture.ts","layerPath":["packages/core/src","executor/commands"],"line":18,"inType":"ScreenshotCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserScreenshot_124","funcName":"browserScreenshot","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"FilePath\">","outType":"","isExternal":true},{"id":"handleWait_125","funcName":"handleWait","filepath":"packages/core/src/executor/commands/wait.ts","layerPath":["packages/core/src","executor/commands"],"line":53,"inType":"WaitCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"createResultMapper_126","funcName":"createResultMapper","filepath":"packages/core/src/executor/commands/wait.ts","layerPath":["packages/core/src","executor/commands"],"line":28,"inType":"number","outType":"<T>(output: T) => CommandResult"},{"id":"browserWaitForFunction_127","funcName":"browserWaitForFunction","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"JsExpression\">","outType":"","isExternal":true},{"id":"browserWaitForUrl_128","funcName":"browserWaitForUrl","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserWaitForLoad_129","funcName":"browserWaitForLoad","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"LoadState","outType":"","isExternal":true},{"id":"asCliXpathSelector_130","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserWaitForSelector_131","funcName":"browserWaitForSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_132","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"browserWaitForText_133","funcName":"browserWaitForText","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"AnyTextSelector\">","outType":"","isExternal":true},{"id":"browserWaitForMs_134","funcName":"browserWaitForMs","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"number","outType":"","isExternal":true},{"id":"match_135","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"WaitCommand","outType":"","isExternal":true},{"id":"handleScrollIntoView_136","funcName":"handleScrollIntoView","filepath":"packages/core/src/executor/commands/scroll.ts","layerPath":["packages/core/src","executor/commands"],"line":120,"inType":"ResolvedScrollIntoViewCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"getSelectorString_137","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_138","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"isTextSelector_139","funcName":"isTextSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":42,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"boolean"},{"id":"match_140","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleTextSelectorScrollIntoView_141","funcName":"handleTextSelectorScrollIntoView","filepath":"packages/core/src/executor/commands/scroll.ts","layerPath":["packages/core/src","executor/commands"],"line":58,"inType":"string, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"asCliTextSelector_142","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserScrollIntoView_143","funcName":"browserScrollIntoView","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"CliTextSelector\">","outType":"","isExternal":true},{"id":"errAsync_144","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"browserWaitForText_145","funcName":"browserWaitForText","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"handleCssOrRefScrollIntoView_146","funcName":"handleCssOrRefScrollIntoView","filepath":"packages/core/src/executor/commands/scroll.ts","layerPath":["packages/core/src","executor/commands"],"line":93,"inType":"ResolvedScrollIntoViewCommand, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"resolveCliSelector_147","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_148","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_149","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_150","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_151","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_152","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"browserScrollIntoView_153","funcName":"browserScrollIntoView","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"handleScroll_154","funcName":"handleScroll","filepath":"packages/core/src/executor/commands/scroll.ts","layerPath":["packages/core/src","executor/commands"],"line":33,"inType":"ScrollCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserScroll_155","funcName":"browserScroll","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"ScrollDirection","outType":"","isExternal":true},{"id":"handleSelect_156","funcName":"handleSelect","filepath":"packages/core/src/executor/commands/hover-select.ts","layerPath":["packages/core/src","executor/commands"],"line":48,"inType":"ResolvedSelectCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserSelect_157","funcName":"browserSelect","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_158","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_159","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_160","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_161","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_162","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_163","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleHover_164","funcName":"handleHover","filepath":"packages/core/src/executor/commands/hover-select.ts","layerPath":["packages/core/src","executor/commands"],"line":24,"inType":"ResolvedHoverCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserHover_165","funcName":"browserHover","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_166","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_167","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_168","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_169","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_170","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_171","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handlePress_172","funcName":"handlePress","filepath":"packages/core/src/executor/commands/interaction.ts","layerPath":["packages/core/src","executor/commands"],"line":107,"inType":"PressCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserPress_173","funcName":"browserPress","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"KeyboardKey\">","outType":"","isExternal":true},{"id":"handleFill_174","funcName":"handleFill","filepath":"packages/core/src/executor/commands/interaction.ts","layerPath":["packages/core/src","executor/commands"],"line":83,"inType":"ResolvedFillCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserFill_175","funcName":"browserFill","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_176","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_177","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_178","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_179","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_180","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_181","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleType_182","funcName":"handleType","filepath":"packages/core/src/executor/commands/interaction.ts","layerPath":["packages/core/src","executor/commands"],"line":58,"inType":"ResolvedTypeCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserType_183","funcName":"browserType","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_184","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_185","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_186","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_187","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_188","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_189","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleClick_190","funcName":"handleClick","filepath":"packages/core/src/executor/commands/interaction.ts","layerPath":["packages/core/src","executor/commands"],"line":34,"inType":"ResolvedClickCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserClick_191","funcName":"browserClick","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_192","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_193","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_194","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_195","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_196","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_197","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleOpen_198","funcName":"handleOpen","filepath":"packages/core/src/executor/commands/navigation.ts","layerPath":["packages/core/src","executor/commands"],"line":17,"inType":"OpenCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserOpen_199","funcName":"browserOpen","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"Url\">","outType":"","isExternal":true},{"id":"match_200","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedCommand","outType":"","isExternal":true},{"id":"processSelectorWait_201","funcName":"processSelectorWait","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":521,"inType":"Command, ExecutionContext","outType":"ResultAsync<ResolvedCommand, SelectorWaitFailure>"},{"id":"extractSelectorSpecOrFail_202","funcName":"extractSelectorSpecOrFail","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":460,"inType":"Command","outType":"ResultAsync<SelectorSpec, SelectorWaitFailure>"},{"id":"errAsync_203","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }","outType":"","isExternal":true},{"id":"okAsync_204","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"SelectorSpec","outType":"","isExternal":true},{"id":"match_205","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ExtractSelectorResult","outType":"","isExternal":true},{"id":"extractSelectorSpec_206","funcName":"extractSelectorSpec","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":680,"inType":"Command","outType":"ExtractSelectorResult"},{"id":"match_207","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"Command","outType":"","isExternal":true},{"id":"processDirectOrWaitSelector_208","funcName":"processDirectOrWaitSelector","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":333,"inType":"T, SelectorSpec, boolean, ExecutionContext, (cmd: T, resolved: ResolvedSelectorSpec) => ResolvedCommand","outType":"ResultAsync<ResolvedCommand, SelectorWaitFailure>"},{"id":"toWaitableSelectorSpec_209","funcName":"toWaitableSelectorSpec","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":294,"inType":"SelectorSpec","outType":"ResultAsync<WaitableSelectorSpec, SelectorWaitFailure>"},{"id":"errAsync_210","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }","outType":"","isExternal":true},{"id":"okAsync_211","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ xpath: string & Brand<\"XpathSelector\">; }","outType":"","isExternal":true},{"id":"match_212","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"SelectorSpec","outType":"","isExternal":true},{"id":"processWaitableSelector_213","funcName":"processWaitableSelector","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":272,"inType":"T, WaitableSelectorSpec, ExecutionContext, (cmd: T, resolved: ResolvedSelectorSpec) => ResolvedCommand","outType":"ResultAsync<ResolvedCommand, SelectorWaitFailure>"},{"id":"waitResultToResolvedSelectorSpec_214","funcName":"waitResultToResolvedSelectorSpec","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":209,"inType":"WaitResult","outType":"ResolvedSelectorSpec"},{"id":"match_215","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"WaitResult","outType":"","isExternal":true},{"id":"waitForSelector_216","funcName":"waitForSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":222,"inType":"SelectorSpec, ExecutionContext","outType":"ResultAsync<WaitResult, AgentBrowserError>"},{"id":"waitForTextAndResolveRef_217","funcName":"waitForTextAndResolveRef","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":183,"inType":"string & Brand<\"InteractableTextSelector\">, ExecutionContext","outType":"ResultAsync<string & Brand<\"RefSelector\">, AgentBrowserError>"},{"id":"createTextToRefCheckFunc_218","funcName":"createTextToRefCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":96,"inType":"string & Brand<\"InteractableTextSelector\">, ExecutionContext","outType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"id":"findMatchingRefId_219","funcName":"findMatchingRefId","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":75,"inType":"string, SnapshotRefs","outType":"MatchResult"},{"id":"isMatchingElement_220","funcName":"isMatchingElement","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":64,"inType":"{ name: string; role: string; }, string","outType":"boolean"},{"id":"match_221","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"MatchResult","outType":"","isExternal":true},{"id":"asRefSelector_222","funcName":"asRefSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserSnapshot_223","funcName":"browserSnapshot","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }","outType":"","isExternal":true},{"id":"waitUntil_224","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_225","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_226","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_227","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_228","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_229","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_230","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_231","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_232","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_233","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"waitForXpathSelector_234","funcName":"waitForXpathSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":159,"inType":"string & Brand<\"XpathSelector\">, ExecutionContext","outType":"ResultAsync<true, AgentBrowserError>"},{"id":"asCliXpathSelector_235","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_236","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"true","outType":"","isExternal":true},{"id":"createVisibilityCheckFunc_237","funcName":"createVisibilityCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":36,"inType":"CliSelector, ExecutionContext","outType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"id":"browserIsVisible_238","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"waitUntil_239","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_240","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_241","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_242","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_243","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_244","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_245","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_246","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_247","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_248","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"waitForCssSelector_249","funcName":"waitForCssSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":141,"inType":"string & Brand<\"CssSelector\">, ExecutionContext","outType":"ResultAsync<true, AgentBrowserError>"},{"id":"createVisibilityCheckFunc_250","funcName":"createVisibilityCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":36,"inType":"CliSelector, ExecutionContext","outType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"id":"browserIsVisible_251","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"waitUntil_252","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_253","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_254","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_255","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_256","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_257","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_258","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_259","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_260","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_261","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"match_262","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"SelectorSpec","outType":"","isExternal":true},{"id":"getErrorMessage_263","funcName":"getErrorMessage","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":170,"inType":"ExecutorError","outType":"string"},{"id":"hasMessageField_264","funcName":"hasMessageField","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":106,"inType":"ExecutorError","outType":"boolean"},{"id":"getCommandFailedFallback_265","funcName":"getCommandFailedFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":152,"inType":"ExecutorError","outType":"string"},{"id":"getCommandErrorFallback_266","funcName":"getCommandErrorFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }","outType":"string"},{"id":"getAssertionFallback_267","funcName":"getAssertionFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":126,"inType":"AssertionFailedError","outType":"string"},{"id":"match_268","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ExecutorError","outType":"","isExternal":true},{"id":"okAsync_269","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"ResolvedCommand","outType":"","isExternal":true},{"id":"match_270","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"DirectResolveResult","outType":"","isExternal":true},{"id":"tryDirectResolve_271","funcName":"tryDirectResolve","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":238,"inType":"SelectorSpec, boolean","outType":"DirectResolveResult"},{"id":"match_272","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"SelectorSpec","outType":"","isExternal":true},{"id":"extractWaitableSelectorSpecOrFail_273","funcName":"extractWaitableSelectorSpecOrFail","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":479,"inType":"Command","outType":"ResultAsync<WaitableSelectorSpec, SelectorWaitFailure>"},{"id":"errAsync_274","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }","outType":"","isExternal":true},{"id":"okAsync_275","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ xpath: string & Brand<\"XpathSelector\">; }","outType":"","isExternal":true},{"id":"match_276","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ExtractSelectorResult","outType":"","isExternal":true},{"id":"extractSelectorSpec_277","funcName":"extractSelectorSpec","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":680,"inType":"Command","outType":"ExtractSelectorResult"},{"id":"match_278","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"Command","outType":"","isExternal":true},{"id":"processWaitableSelector_279","funcName":"processWaitableSelector","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":272,"inType":"T, WaitableSelectorSpec, ExecutionContext, (cmd: T, resolved: ResolvedSelectorSpec) => ResolvedCommand","outType":"ResultAsync<ResolvedCommand, SelectorWaitFailure>"},{"id":"waitResultToResolvedSelectorSpec_280","funcName":"waitResultToResolvedSelectorSpec","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":209,"inType":"WaitResult","outType":"ResolvedSelectorSpec"},{"id":"match_281","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"WaitResult","outType":"","isExternal":true},{"id":"waitForSelector_282","funcName":"waitForSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":222,"inType":"SelectorSpec, ExecutionContext","outType":"ResultAsync<WaitResult, AgentBrowserError>"},{"id":"waitForTextAndResolveRef_283","funcName":"waitForTextAndResolveRef","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":183,"inType":"string & Brand<\"InteractableTextSelector\">, ExecutionContext","outType":"ResultAsync<string & Brand<\"RefSelector\">, AgentBrowserError>"},{"id":"createTextToRefCheckFunc_284","funcName":"createTextToRefCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":96,"inType":"string & Brand<\"InteractableTextSelector\">, ExecutionContext","outType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"id":"findMatchingRefId_285","funcName":"findMatchingRefId","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":75,"inType":"string, SnapshotRefs","outType":"MatchResult"},{"id":"isMatchingElement_286","funcName":"isMatchingElement","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":64,"inType":"{ name: string; role: string; }, string","outType":"boolean"},{"id":"match_287","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"MatchResult","outType":"","isExternal":true},{"id":"asRefSelector_288","funcName":"asRefSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserSnapshot_289","funcName":"browserSnapshot","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }","outType":"","isExternal":true},{"id":"waitUntil_290","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_291","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_292","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_293","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_294","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_295","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_296","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_297","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_298","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_299","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"sleep_300","funcName":"sleep","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":58,"inType":"number","outType":"Promise<void>"},{"id":"waitForXpathSelector_301","funcName":"waitForXpathSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":159,"inType":"string & Brand<\"XpathSelector\">, ExecutionContext","outType":"ResultAsync<true, AgentBrowserError>"},{"id":"asCliXpathSelector_302","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_303","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"true","outType":"","isExternal":true},{"id":"createVisibilityCheckFunc_304","funcName":"createVisibilityCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":36,"inType":"CliSelector, ExecutionContext","outType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"id":"browserIsVisible_305","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"waitUntil_306","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_307","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_308","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_309","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_310","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_311","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_312","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_313","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_314","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_315","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"sleep_316","funcName":"sleep","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":58,"inType":"number","outType":"Promise<void>"},{"id":"waitForCssSelector_317","funcName":"waitForCssSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":141,"inType":"string & Brand<\"CssSelector\">, ExecutionContext","outType":"ResultAsync<true, AgentBrowserError>"},{"id":"createVisibilityCheckFunc_318","funcName":"createVisibilityCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":36,"inType":"CliSelector, ExecutionContext","outType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"id":"browserIsVisible_319","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"waitUntil_320","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_321","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_322","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_323","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_324","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_325","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_326","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_327","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_328","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_329","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"sleep_330","funcName":"sleep","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":58,"inType":"number","outType":"Promise<void>"},{"id":"match_331","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"SelectorSpec","outType":"","isExternal":true},{"id":"getErrorMessage_332","funcName":"getErrorMessage","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":170,"inType":"ExecutorError","outType":"string"},{"id":"hasMessageField_333","funcName":"hasMessageField","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":106,"inType":"ExecutorError","outType":"boolean"},{"id":"getCommandFailedFallback_334","funcName":"getCommandFailedFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":152,"inType":"ExecutorError","outType":"string"},{"id":"getCommandErrorFallback_335","funcName":"getCommandErrorFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }","outType":"string"},{"id":"getAssertionFallback_336","funcName":"getAssertionFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":126,"inType":"AssertionFailedError","outType":"string"},{"id":"match_337","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ExecutorError","outType":"","isExternal":true},{"id":"okAsync_338","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"EvalCommand","outType":"","isExternal":true},{"id":"match_339","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"Command","outType":"","isExternal":true},{"id":"resolveClick_340","funcName":"resolveClick","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":352,"inType":"ClickCommand, ResolvedSelectorSpec","outType":"ResolvedClickCommand"},{"id":"resolveType_341","funcName":"resolveType","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":363,"inType":"TypeCommand, ResolvedSelectorSpec","outType":"ResolvedTypeCommand"},{"id":"resolveFill_342","funcName":"resolveFill","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":372,"inType":"FillCommand, ResolvedSelectorSpec","outType":"ResolvedFillCommand"},{"id":"resolveHover_343","funcName":"resolveHover","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":381,"inType":"HoverCommand, ResolvedSelectorSpec","outType":"ResolvedHoverCommand"},{"id":"resolveSelect_344","funcName":"resolveSelect","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":392,"inType":"SelectCommand, ResolvedSelectorSpec","outType":"ResolvedSelectCommand"},{"id":"resolveAssertEnabled_345","funcName":"resolveAssertEnabled","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":404,"inType":"AssertEnabledCommand, ResolvedSelectorSpec","outType":"ResolvedAssertEnabledCommand"},{"id":"resolveAssertChecked_346","funcName":"resolveAssertChecked","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":415,"inType":"AssertCheckedCommand, ResolvedSelectorSpec","outType":"ResolvedAssertCheckedCommand"},{"id":"resolveAssertVisible_347","funcName":"resolveAssertVisible","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":427,"inType":"AssertVisibleCommand, ResolvedSelectorSpec","outType":"ResolvedAssertVisibleCommand"},{"id":"resolveAssertNotVisible_348","funcName":"resolveAssertNotVisible","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":438,"inType":"AssertNotVisibleCommand, ResolvedSelectorSpec","outType":"ResolvedAssertNotVisibleCommand"},{"id":"resolveScrollIntoView_349","funcName":"resolveScrollIntoView","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":449,"inType":"ScrollIntoViewCommand, ResolvedSelectorSpec","outType":"ResolvedScrollIntoViewCommand"},{"id":"ok_350","funcName":"ok","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"FailedFlowResult","outType":"","isExternal":true},{"id":"buildFailedFlowResult_351","funcName":"buildFailedFlowResult","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":58,"inType":"Flow, string, number, StepResult[], FailedStepResult, number","outType":"FailedFlowResult"},{"id":"browserClose_352","funcName":"browserClose","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"getScreenshotPath_353","funcName":"getScreenshotPath","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":38,"inType":"ScreenshotResult","outType":"string | undefined"},{"id":"executeAllFlowsSequential_354","funcName":"executeAllFlowsSequential","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":352,"inType":"readonly Flow[], RunFlowsInput, number","outType":"Promise<RunFlowsOutput>"},{"id":"executeSingleFlow_355","funcName":"executeSingleFlow","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":255,"inType":"Flow, RunFlowsInput","outType":"Promise<FlowRunSummary>"},{"id":"generateSessionName_356","funcName":"generateSessionName","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":178,"inType":"string","outType":"string"},{"id":"notifyFlowProgress_357","funcName":"notifyFlowProgress","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":221,"inType":"RunFlowsInput, string, \"passed\" | \"failed\" | \"start\", number, number | undefined","outType":"Promise<void>"},{"id":"buildFlowExecutionOptions_358","funcName":"buildFlowExecutionOptions","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":193,"inType":"string, RunFlowsInput, string","outType":"FlowExecutionOptions"},{"id":"executeFlow_359","funcName":"executeFlow","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":279,"inType":"Flow, FlowExecutionOptions","outType":"ResultAsync<FlowResult, AgentBrowserError>"},{"id":"buildExecutionContext_360","funcName":"buildExecutionContext","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":111,"inType":"FlowExecutionOptions, Flow","outType":"ExecutionContext"},{"id":"okAsync_361","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"FlowResult","outType":"","isExternal":true},{"id":"errAsync_362","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"isFailedStepResult_363","funcName":"isFailedStepResult","filepath":"packages/core/src/executor/result.ts","layerPath":["packages/core/src","executor"],"line":346,"inType":"StepResult","outType":"boolean"},{"id":"buildFailedFlowResult_364","funcName":"buildFailedFlowResult","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":58,"inType":"Flow, string, number, StepResult[], FailedStepResult, number","outType":"FailedFlowResult"},{"id":"buildSuccessFlowResult_365","funcName":"buildSuccessFlowResult","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":89,"inType":"Flow, string, number, StepResult[]","outType":"PassedFlowResult"},{"id":"executeAllSteps_366","funcName":"executeAllSteps","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":174,"inType":"Flow, ExecutionContext, boolean, boolean, number, StepProgressCallback | { readonly _brand: \"NoCallback\"; }","outType":"Promise<ExecuteAllStepsResult>"},{"id":"isStepProgressCallback_367","funcName":"isStepProgressCallback","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":41,"inType":"StepProgressCallback | { readonly _brand: \"NoCallback\"; }","outType":"boolean"},{"id":"executeStep_368","funcName":"executeStep","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":615,"inType":"Command, number, ExecutionContext, boolean","outType":"Promise<StepResult>"},{"id":"takeErrorScreenshot_369","funcName":"takeErrorScreenshot","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"ExecutionContext, boolean","outType":"Promise<ScreenshotResult>"},{"id":"getAgentBrowserErrorMessage_370","funcName":"getAgentBrowserErrorMessage","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":72,"inType":"AgentBrowserError","outType":"string"},{"id":"captureErrorScreenshot_371","funcName":"captureErrorScreenshot","filepath":"packages/core/src/executor/error-screenshot.ts","layerPath":["packages/core/src","executor"],"line":30,"inType":"ExecutionContext","outType":"ResultAsync<string, AgentBrowserError>"},{"id":"browserScreenshot_372","funcName":"browserScreenshot","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"FilePath\">","outType":"","isExternal":true},{"id":"asFilePath_373","funcName":"asFilePath","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_374","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"SelectorWaitFailure | ExecutorError","outType":"","isExternal":true},{"id":"getErrorMessage_375","funcName":"getErrorMessage","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":170,"inType":"ExecutorError","outType":"string"},{"id":"hasMessageField_376","funcName":"hasMessageField","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":106,"inType":"ExecutorError","outType":"boolean"},{"id":"getCommandFailedFallback_377","funcName":"getCommandFailedFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":152,"inType":"ExecutorError","outType":"string"},{"id":"getCommandErrorFallback_378","funcName":"getCommandErrorFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }","outType":"string"},{"id":"getAssertionFallback_379","funcName":"getAssertionFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":126,"inType":"AssertionFailedError","outType":"string"},{"id":"match_380","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ExecutorError","outType":"","isExternal":true},{"id":"executeResolvedCommand_381","funcName":"executeResolvedCommand","filepath":"packages/core/src/executor/commands/handler-registry.ts","layerPath":["packages/core/src","executor/commands"],"line":26,"inType":"ResolvedCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"handleAssertChecked_382","funcName":"handleAssertChecked","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":487,"inType":"ResolvedAssertCheckedCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"getSelectorForErrorMessage_383","funcName":"getSelectorForErrorMessage","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":121,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"string"},{"id":"getSelectorString_384","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_385","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"checkChecked_386","funcName":"checkChecked","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":453,"inType":"string, { checked: boolean; }, number, boolean","outType":"ResultAsync<CommandResult, AssertionFailedError>"},{"id":"errAsync_387","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AssertionFailedError","outType":"","isExternal":true},{"id":"okAsync_388","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ stdout: string; duration: number; }","outType":"","isExternal":true},{"id":"browserIsChecked_389","funcName":"browserIsChecked","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_390","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_391","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_392","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_393","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_394","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_395","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleAssertEnabled_396","funcName":"handleAssertEnabled","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":418,"inType":"ResolvedAssertEnabledCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"getSelectorForErrorMessage_397","funcName":"getSelectorForErrorMessage","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":121,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"string"},{"id":"getSelectorString_398","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_399","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"checkEnabled_400","funcName":"checkEnabled","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":393,"inType":"string, { enabled: boolean; }, number","outType":"ResultAsync<CommandResult, AssertionFailedError>"},{"id":"errAsync_401","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AssertionFailedError","outType":"","isExternal":true},{"id":"okAsync_402","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ stdout: string; duration: number; }","outType":"","isExternal":true},{"id":"browserIsEnabled_403","funcName":"browserIsEnabled","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_404","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_405","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_406","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_407","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_408","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_409","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleAssertNotVisible_410","funcName":"handleAssertNotVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":353,"inType":"ResolvedAssertNotVisibleCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"getSelectorString_411","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_412","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"isTextSelector_413","funcName":"isTextSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":42,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"boolean"},{"id":"match_414","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleTextSelectorNotVisible_415","funcName":"handleTextSelectorNotVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":316,"inType":"string, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"checkTextNotVisible_416","funcName":"checkTextNotVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":271,"inType":"string, ExecutionContext, number","outType":"Promise<ResultAsync<CommandResult, ExecutorError>>"},{"id":"browserWaitForText_417","funcName":"browserWaitForText","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"errAsync_418","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"assertion_failed\"; message: string; command: string; selector: string; expected: boolean; actual: boolean; }","outType":"","isExternal":true},{"id":"okAsync_419","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ stdout: string; duration: number; }","outType":"","isExternal":true},{"id":"waitForPageStable_420","funcName":"waitForPageStable","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":71,"inType":"ExecutionContext","outType":"ResultAsync<undefined, AgentBrowserError>"},{"id":"browserWaitForNetworkIdle_421","funcName":"browserWaitForNetworkIdle","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }","outType":"","isExternal":true},{"id":"getAndCheckNotVisible_422","funcName":"getAndCheckNotVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":242,"inType":"ResolvedSelectorSpec, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"browserIsVisible_423","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"getSelectorForErrorMessage_424","funcName":"getSelectorForErrorMessage","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":121,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"string"},{"id":"getSelectorString_425","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_426","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"resolveCliSelector_427","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_428","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_429","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_430","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_431","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_432","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"checkNotVisible_433","funcName":"checkNotVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":214,"inType":"string, { visible: boolean; }, number","outType":"ResultAsync<CommandResult, AssertionFailedError>"},{"id":"errAsync_434","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AssertionFailedError","outType":"","isExternal":true},{"id":"okAsync_435","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ stdout: string; duration: number; }","outType":"","isExternal":true},{"id":"waitForPageStable_436","funcName":"waitForPageStable","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":71,"inType":"ExecutionContext","outType":"ResultAsync<undefined, AgentBrowserError>"},{"id":"browserWaitForNetworkIdle_437","funcName":"browserWaitForNetworkIdle","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }","outType":"","isExternal":true},{"id":"handleAssertVisible_438","funcName":"handleAssertVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":184,"inType":"ResolvedAssertVisibleCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"getSelectorString_439","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_440","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"isTextSelector_441","funcName":"isTextSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":42,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"boolean"},{"id":"match_442","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleTextSelectorVisible_443","funcName":"handleTextSelectorVisible","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":143,"inType":"string, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"browserWaitForText_444","funcName":"browserWaitForText","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"waitForElement_445","funcName":"waitForElement","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":49,"inType":"ResolvedSelectorSpec, ExecutionContext","outType":"ResultAsync<undefined, AgentBrowserError>"},{"id":"isTextSelector_446","funcName":"isTextSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":42,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"boolean"},{"id":"match_447","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"getSelectorString_448","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_449","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"browserWaitForText_450","funcName":"browserWaitForText","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserWaitForSelector_451","funcName":"browserWaitForSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_452","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_453","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_454","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_455","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_456","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_457","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"getAndCheckVisibility_458","funcName":"getAndCheckVisibility","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":114,"inType":"ResolvedSelectorSpec, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"browserIsVisible_459","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"getSelectorForErrorMessage_460","funcName":"getSelectorForErrorMessage","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":121,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"string"},{"id":"getSelectorString_461","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_462","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"resolveCliSelector_463","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_464","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_465","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_466","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_467","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_468","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"checkVisibility_469","funcName":"checkVisibility","filepath":"packages/core/src/executor/commands/assertions.ts","layerPath":["packages/core/src","executor/commands"],"line":77,"inType":"string, { visible: boolean; }, number","outType":"ResultAsync<CommandResult, AssertionFailedError>"},{"id":"errAsync_470","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AssertionFailedError","outType":"","isExternal":true},{"id":"okAsync_471","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ stdout: string; duration: number; }","outType":"","isExternal":true},{"id":"handleEval_472","funcName":"handleEval","filepath":"packages/core/src/executor/commands/eval.ts","layerPath":["packages/core/src","executor/commands"],"line":17,"inType":"EvalCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserEval_473","funcName":"browserEval","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"JsExpression\">","outType":"","isExternal":true},{"id":"handleScreenshot_474","funcName":"handleScreenshot","filepath":"packages/core/src/executor/commands/capture.ts","layerPath":["packages/core/src","executor/commands"],"line":18,"inType":"ScreenshotCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserScreenshot_475","funcName":"browserScreenshot","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"FilePath\">","outType":"","isExternal":true},{"id":"handleWait_476","funcName":"handleWait","filepath":"packages/core/src/executor/commands/wait.ts","layerPath":["packages/core/src","executor/commands"],"line":53,"inType":"WaitCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"createResultMapper_477","funcName":"createResultMapper","filepath":"packages/core/src/executor/commands/wait.ts","layerPath":["packages/core/src","executor/commands"],"line":28,"inType":"number","outType":"<T>(output: T) => CommandResult"},{"id":"browserWaitForFunction_478","funcName":"browserWaitForFunction","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"JsExpression\">","outType":"","isExternal":true},{"id":"browserWaitForUrl_479","funcName":"browserWaitForUrl","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserWaitForLoad_480","funcName":"browserWaitForLoad","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"LoadState","outType":"","isExternal":true},{"id":"asCliXpathSelector_481","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserWaitForSelector_482","funcName":"browserWaitForSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_483","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"browserWaitForText_484","funcName":"browserWaitForText","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"AnyTextSelector\">","outType":"","isExternal":true},{"id":"browserWaitForMs_485","funcName":"browserWaitForMs","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"number","outType":"","isExternal":true},{"id":"match_486","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"WaitCommand","outType":"","isExternal":true},{"id":"handleScrollIntoView_487","funcName":"handleScrollIntoView","filepath":"packages/core/src/executor/commands/scroll.ts","layerPath":["packages/core/src","executor/commands"],"line":120,"inType":"ResolvedScrollIntoViewCommand, ExecutionContext","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"getSelectorString_488","funcName":"getSelectorString","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":27,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"string"},{"id":"match_489","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"isTextSelector_490","funcName":"isTextSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":42,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"boolean"},{"id":"match_491","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleTextSelectorScrollIntoView_492","funcName":"handleTextSelectorScrollIntoView","filepath":"packages/core/src/executor/commands/scroll.ts","layerPath":["packages/core/src","executor/commands"],"line":58,"inType":"string, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"asCliTextSelector_493","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserScrollIntoView_494","funcName":"browserScrollIntoView","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"CliTextSelector\">","outType":"","isExternal":true},{"id":"errAsync_495","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"browserWaitForText_496","funcName":"browserWaitForText","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"handleCssOrRefScrollIntoView_497","funcName":"handleCssOrRefScrollIntoView","filepath":"packages/core/src/executor/commands/scroll.ts","layerPath":["packages/core/src","executor/commands"],"line":93,"inType":"ResolvedScrollIntoViewCommand, ExecutionContext, number","outType":"ResultAsync<CommandResult, ExecutorError>"},{"id":"resolveCliSelector_498","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_499","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_500","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_501","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_502","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_503","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"browserScrollIntoView_504","funcName":"browserScrollIntoView","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"handleScroll_505","funcName":"handleScroll","filepath":"packages/core/src/executor/commands/scroll.ts","layerPath":["packages/core/src","executor/commands"],"line":33,"inType":"ScrollCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserScroll_506","funcName":"browserScroll","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"ScrollDirection","outType":"","isExternal":true},{"id":"handleSelect_507","funcName":"handleSelect","filepath":"packages/core/src/executor/commands/hover-select.ts","layerPath":["packages/core/src","executor/commands"],"line":48,"inType":"ResolvedSelectCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserSelect_508","funcName":"browserSelect","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_509","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_510","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_511","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_512","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_513","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_514","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleHover_515","funcName":"handleHover","filepath":"packages/core/src/executor/commands/hover-select.ts","layerPath":["packages/core/src","executor/commands"],"line":24,"inType":"ResolvedHoverCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserHover_516","funcName":"browserHover","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_517","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_518","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_519","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_520","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_521","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_522","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handlePress_523","funcName":"handlePress","filepath":"packages/core/src/executor/commands/interaction.ts","layerPath":["packages/core/src","executor/commands"],"line":107,"inType":"PressCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserPress_524","funcName":"browserPress","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"KeyboardKey\">","outType":"","isExternal":true},{"id":"handleFill_525","funcName":"handleFill","filepath":"packages/core/src/executor/commands/interaction.ts","layerPath":["packages/core/src","executor/commands"],"line":83,"inType":"ResolvedFillCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserFill_526","funcName":"browserFill","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_527","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_528","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_529","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_530","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_531","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_532","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleType_533","funcName":"handleType","filepath":"packages/core/src/executor/commands/interaction.ts","layerPath":["packages/core/src","executor/commands"],"line":58,"inType":"ResolvedTypeCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserType_534","funcName":"browserType","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_535","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_536","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_537","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_538","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_539","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_540","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleClick_541","funcName":"handleClick","filepath":"packages/core/src/executor/commands/interaction.ts","layerPath":["packages/core/src","executor/commands"],"line":34,"inType":"ResolvedClickCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserClick_542","funcName":"browserClick","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"resolveCliSelector_543","funcName":"resolveCliSelector","filepath":"packages/core/src/executor/commands/cli-selector-utils.ts","layerPath":["packages/core/src","executor/commands"],"line":63,"inType":"ResolvedSelectorSpec | SelectorSpec, ExecutionContext","outType":"ResultAsync<CliSelector, AgentBrowserError>"},{"id":"asCliXpathSelector_544","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_545","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string & Brand<\"CliXpathSelector\">","outType":"","isExternal":true},{"id":"errAsync_546","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"BrandValidationError","outType":"","isExternal":true},{"id":"asCliTextSelector_547","funcName":"asCliTextSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"match_548","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedSelectorSpec | SelectorSpec","outType":"","isExternal":true},{"id":"handleOpen_549","funcName":"handleOpen","filepath":"packages/core/src/executor/commands/navigation.ts","layerPath":["packages/core/src","executor/commands"],"line":17,"inType":"OpenCommand, ExecutionContext","outType":"ResultAsync<CommandResult, AgentBrowserError>"},{"id":"browserOpen_550","funcName":"browserOpen","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string & Brand<\"Url\">","outType":"","isExternal":true},{"id":"match_551","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ResolvedCommand","outType":"","isExternal":true},{"id":"processSelectorWait_552","funcName":"processSelectorWait","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":521,"inType":"Command, ExecutionContext","outType":"ResultAsync<ResolvedCommand, SelectorWaitFailure>"},{"id":"extractSelectorSpecOrFail_553","funcName":"extractSelectorSpecOrFail","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":460,"inType":"Command","outType":"ResultAsync<SelectorSpec, SelectorWaitFailure>"},{"id":"errAsync_554","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }","outType":"","isExternal":true},{"id":"okAsync_555","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"SelectorSpec","outType":"","isExternal":true},{"id":"match_556","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ExtractSelectorResult","outType":"","isExternal":true},{"id":"extractSelectorSpec_557","funcName":"extractSelectorSpec","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":680,"inType":"Command","outType":"ExtractSelectorResult"},{"id":"match_558","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"Command","outType":"","isExternal":true},{"id":"processDirectOrWaitSelector_559","funcName":"processDirectOrWaitSelector","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":333,"inType":"T, SelectorSpec, boolean, ExecutionContext, (cmd: T, resolved: ResolvedSelectorSpec) => ResolvedCommand","outType":"ResultAsync<ResolvedCommand, SelectorWaitFailure>"},{"id":"toWaitableSelectorSpec_560","funcName":"toWaitableSelectorSpec","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":294,"inType":"SelectorSpec","outType":"ResultAsync<WaitableSelectorSpec, SelectorWaitFailure>"},{"id":"errAsync_561","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }","outType":"","isExternal":true},{"id":"okAsync_562","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ xpath: string & Brand<\"XpathSelector\">; }","outType":"","isExternal":true},{"id":"match_563","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"SelectorSpec","outType":"","isExternal":true},{"id":"processWaitableSelector_564","funcName":"processWaitableSelector","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":272,"inType":"T, WaitableSelectorSpec, ExecutionContext, (cmd: T, resolved: ResolvedSelectorSpec) => ResolvedCommand","outType":"ResultAsync<ResolvedCommand, SelectorWaitFailure>"},{"id":"waitResultToResolvedSelectorSpec_565","funcName":"waitResultToResolvedSelectorSpec","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":209,"inType":"WaitResult","outType":"ResolvedSelectorSpec"},{"id":"match_566","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"WaitResult","outType":"","isExternal":true},{"id":"waitForSelector_567","funcName":"waitForSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":222,"inType":"SelectorSpec, ExecutionContext","outType":"ResultAsync<WaitResult, AgentBrowserError>"},{"id":"waitForTextAndResolveRef_568","funcName":"waitForTextAndResolveRef","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":183,"inType":"string & Brand<\"InteractableTextSelector\">, ExecutionContext","outType":"ResultAsync<string & Brand<\"RefSelector\">, AgentBrowserError>"},{"id":"createTextToRefCheckFunc_569","funcName":"createTextToRefCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":96,"inType":"string & Brand<\"InteractableTextSelector\">, ExecutionContext","outType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"id":"findMatchingRefId_570","funcName":"findMatchingRefId","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":75,"inType":"string, SnapshotRefs","outType":"MatchResult"},{"id":"isMatchingElement_571","funcName":"isMatchingElement","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":64,"inType":"{ name: string; role: string; }, string","outType":"boolean"},{"id":"match_572","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"MatchResult","outType":"","isExternal":true},{"id":"asRefSelector_573","funcName":"asRefSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserSnapshot_574","funcName":"browserSnapshot","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }","outType":"","isExternal":true},{"id":"waitUntil_575","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_576","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_577","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_578","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_579","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_580","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_581","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_582","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_583","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_584","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"waitForXpathSelector_585","funcName":"waitForXpathSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":159,"inType":"string & Brand<\"XpathSelector\">, ExecutionContext","outType":"ResultAsync<true, AgentBrowserError>"},{"id":"asCliXpathSelector_586","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_587","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"true","outType":"","isExternal":true},{"id":"createVisibilityCheckFunc_588","funcName":"createVisibilityCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":36,"inType":"CliSelector, ExecutionContext","outType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"id":"browserIsVisible_589","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"waitUntil_590","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_591","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_592","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_593","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_594","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_595","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_596","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_597","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_598","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_599","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"waitForCssSelector_600","funcName":"waitForCssSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":141,"inType":"string & Brand<\"CssSelector\">, ExecutionContext","outType":"ResultAsync<true, AgentBrowserError>"},{"id":"createVisibilityCheckFunc_601","funcName":"createVisibilityCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":36,"inType":"CliSelector, ExecutionContext","outType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"id":"browserIsVisible_602","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"waitUntil_603","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_604","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_605","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_606","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_607","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_608","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_609","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_610","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_611","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_612","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"match_613","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"SelectorSpec","outType":"","isExternal":true},{"id":"getErrorMessage_614","funcName":"getErrorMessage","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":170,"inType":"ExecutorError","outType":"string"},{"id":"hasMessageField_615","funcName":"hasMessageField","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":106,"inType":"ExecutorError","outType":"boolean"},{"id":"getCommandFailedFallback_616","funcName":"getCommandFailedFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":152,"inType":"ExecutorError","outType":"string"},{"id":"getCommandErrorFallback_617","funcName":"getCommandErrorFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }","outType":"string"},{"id":"getAssertionFallback_618","funcName":"getAssertionFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":126,"inType":"AssertionFailedError","outType":"string"},{"id":"match_619","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ExecutorError","outType":"","isExternal":true},{"id":"okAsync_620","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"ResolvedCommand","outType":"","isExternal":true},{"id":"match_621","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"DirectResolveResult","outType":"","isExternal":true},{"id":"tryDirectResolve_622","funcName":"tryDirectResolve","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":238,"inType":"SelectorSpec, boolean","outType":"DirectResolveResult"},{"id":"match_623","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"SelectorSpec","outType":"","isExternal":true},{"id":"extractWaitableSelectorSpecOrFail_624","funcName":"extractWaitableSelectorSpecOrFail","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":479,"inType":"Command","outType":"ResultAsync<WaitableSelectorSpec, SelectorWaitFailure>"},{"id":"errAsync_625","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }","outType":"","isExternal":true},{"id":"okAsync_626","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ xpath: string & Brand<\"XpathSelector\">; }","outType":"","isExternal":true},{"id":"match_627","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ExtractSelectorResult","outType":"","isExternal":true},{"id":"extractSelectorSpec_628","funcName":"extractSelectorSpec","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":680,"inType":"Command","outType":"ExtractSelectorResult"},{"id":"match_629","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"Command","outType":"","isExternal":true},{"id":"processWaitableSelector_630","funcName":"processWaitableSelector","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":272,"inType":"T, WaitableSelectorSpec, ExecutionContext, (cmd: T, resolved: ResolvedSelectorSpec) => ResolvedCommand","outType":"ResultAsync<ResolvedCommand, SelectorWaitFailure>"},{"id":"waitResultToResolvedSelectorSpec_631","funcName":"waitResultToResolvedSelectorSpec","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":209,"inType":"WaitResult","outType":"ResolvedSelectorSpec"},{"id":"match_632","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"WaitResult","outType":"","isExternal":true},{"id":"waitForSelector_633","funcName":"waitForSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":222,"inType":"SelectorSpec, ExecutionContext","outType":"ResultAsync<WaitResult, AgentBrowserError>"},{"id":"waitForTextAndResolveRef_634","funcName":"waitForTextAndResolveRef","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":183,"inType":"string & Brand<\"InteractableTextSelector\">, ExecutionContext","outType":"ResultAsync<string & Brand<\"RefSelector\">, AgentBrowserError>"},{"id":"createTextToRefCheckFunc_635","funcName":"createTextToRefCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":96,"inType":"string & Brand<\"InteractableTextSelector\">, ExecutionContext","outType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"id":"findMatchingRefId_636","funcName":"findMatchingRefId","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":75,"inType":"string, SnapshotRefs","outType":"MatchResult"},{"id":"isMatchingElement_637","funcName":"isMatchingElement","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":64,"inType":"{ name: string; role: string; }, string","outType":"boolean"},{"id":"match_638","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"MatchResult","outType":"","isExternal":true},{"id":"asRefSelector_639","funcName":"asRefSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"browserSnapshot_640","funcName":"browserSnapshot","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }","outType":"","isExternal":true},{"id":"waitUntil_641","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_642","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_643","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_644","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_645","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_646","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_647","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_648","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_649","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_650","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"sleep_651","funcName":"sleep","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":58,"inType":"number","outType":"Promise<void>"},{"id":"waitForXpathSelector_652","funcName":"waitForXpathSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":159,"inType":"string & Brand<\"XpathSelector\">, ExecutionContext","outType":"ResultAsync<true, AgentBrowserError>"},{"id":"asCliXpathSelector_653","funcName":"asCliXpathSelector","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"okAsync_654","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"true","outType":"","isExternal":true},{"id":"createVisibilityCheckFunc_655","funcName":"createVisibilityCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":36,"inType":"CliSelector, ExecutionContext","outType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"id":"browserIsVisible_656","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"waitUntil_657","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_658","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_659","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_660","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_661","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_662","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_663","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_664","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_665","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_666","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"sleep_667","funcName":"sleep","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":58,"inType":"number","outType":"Promise<void>"},{"id":"waitForCssSelector_668","funcName":"waitForCssSelector","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":141,"inType":"string & Brand<\"CssSelector\">, ExecutionContext","outType":"ResultAsync<true, AgentBrowserError>"},{"id":"createVisibilityCheckFunc_669","funcName":"createVisibilityCheckFunc","filepath":"packages/core/src/executor/selector-wait.ts","layerPath":["packages/core/src","executor"],"line":36,"inType":"CliSelector, ExecutionContext","outType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"id":"browserIsVisible_670","funcName":"browserIsVisible","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"CliSelector","outType":"","isExternal":true},{"id":"waitUntil_671","funcName":"waitUntil","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":234,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"pollRecursively_672","funcName":"pollRecursively","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":199,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"executePollIteration_673","funcName":"executePollIteration","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":86,"inType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<PollIterationResult<T>, AgentBrowserError>"},{"id":"okAsync_674","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"found\"; value: T; }","outType":"","isExternal":true},{"id":"errAsync_675","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"AgentBrowserError","outType":"","isExternal":true},{"id":"createTimeoutError_676","funcName":"createTimeoutError","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":69,"inType":"WaitUntilOptions, number","outType":"AgentBrowserError"},{"id":"handlePollResult_677","funcName":"handlePollResult","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":165,"inType":"PollIterationResult<T>, () => ResultAsync<CheckResult<T>, AgentBrowserError>, ExecutionContext, WaitUntilOptions, number, number","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"okAsync_678","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"T","outType":"","isExternal":true},{"id":"continuePolling_679","funcName":"continuePolling","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":151,"inType":"NextPollContext<T>","outType":"ResultAsync<T, AgentBrowserError>"},{"id":"sleepAndPollNext_680","funcName":"sleepAndPollNext","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"NextPollContext<T>","outType":"ResultAsync<NextPollContext<T>, never>"},{"id":"sleep_681","funcName":"sleep","filepath":"packages/core/src/executor/wait-until.ts","layerPath":["packages/core/src","executor"],"line":58,"inType":"number","outType":"Promise<void>"},{"id":"match_682","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"SelectorSpec","outType":"","isExternal":true},{"id":"getErrorMessage_683","funcName":"getErrorMessage","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":170,"inType":"ExecutorError","outType":"string"},{"id":"hasMessageField_684","funcName":"hasMessageField","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":106,"inType":"ExecutorError","outType":"boolean"},{"id":"getCommandFailedFallback_685","funcName":"getCommandFailedFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":152,"inType":"ExecutorError","outType":"string"},{"id":"getCommandErrorFallback_686","funcName":"getCommandErrorFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":138,"inType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }","outType":"string"},{"id":"getAssertionFallback_687","funcName":"getAssertionFallback","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":126,"inType":"AssertionFailedError","outType":"string"},{"id":"match_688","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"ExecutorError","outType":"","isExternal":true},{"id":"okAsync_689","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"EvalCommand","outType":"","isExternal":true},{"id":"match_690","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"Command","outType":"","isExternal":true},{"id":"resolveClick_691","funcName":"resolveClick","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":352,"inType":"ClickCommand, ResolvedSelectorSpec","outType":"ResolvedClickCommand"},{"id":"resolveType_692","funcName":"resolveType","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":363,"inType":"TypeCommand, ResolvedSelectorSpec","outType":"ResolvedTypeCommand"},{"id":"resolveFill_693","funcName":"resolveFill","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":372,"inType":"FillCommand, ResolvedSelectorSpec","outType":"ResolvedFillCommand"},{"id":"resolveHover_694","funcName":"resolveHover","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":381,"inType":"HoverCommand, ResolvedSelectorSpec","outType":"ResolvedHoverCommand"},{"id":"resolveSelect_695","funcName":"resolveSelect","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":392,"inType":"SelectCommand, ResolvedSelectorSpec","outType":"ResolvedSelectCommand"},{"id":"resolveAssertEnabled_696","funcName":"resolveAssertEnabled","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":404,"inType":"AssertEnabledCommand, ResolvedSelectorSpec","outType":"ResolvedAssertEnabledCommand"},{"id":"resolveAssertChecked_697","funcName":"resolveAssertChecked","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":415,"inType":"AssertCheckedCommand, ResolvedSelectorSpec","outType":"ResolvedAssertCheckedCommand"},{"id":"resolveAssertVisible_698","funcName":"resolveAssertVisible","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":427,"inType":"AssertVisibleCommand, ResolvedSelectorSpec","outType":"ResolvedAssertVisibleCommand"},{"id":"resolveAssertNotVisible_699","funcName":"resolveAssertNotVisible","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":438,"inType":"AssertNotVisibleCommand, ResolvedSelectorSpec","outType":"ResolvedAssertNotVisibleCommand"},{"id":"resolveScrollIntoView_700","funcName":"resolveScrollIntoView","filepath":"packages/core/src/executor/execute-step.ts","layerPath":["packages/core/src","executor"],"line":449,"inType":"ScrollIntoViewCommand, ResolvedSelectorSpec","outType":"ResolvedScrollIntoViewCommand"},{"id":"ok_701","funcName":"ok","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"FailedFlowResult","outType":"","isExternal":true},{"id":"buildFailedFlowResult_702","funcName":"buildFailedFlowResult","filepath":"packages/core/src/executor/flow-executor.ts","layerPath":["packages/core/src","executor"],"line":58,"inType":"Flow, string, number, StepResult[], FailedStepResult, number","outType":"FailedFlowResult"},{"id":"browserClose_703","funcName":"browserClose","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"getScreenshotPath_704","funcName":"getScreenshotPath","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":38,"inType":"ScreenshotResult","outType":"string | undefined"},{"id":"loadAllFlows_705","funcName":"loadAllFlows","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":160,"inType":"readonly string[], Readonly<Record<string, string | undefined>>, Readonly<Record<string, string>>","outType":"ResultAsync<readonly Flow[], OrchestratorError>"},{"id":"loadSingleFlow_706","funcName":"loadSingleFlow","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":109,"inType":"string, Readonly<Record<string, string | undefined>>, Readonly<Record<string, string>>","outType":"ResultAsync<Flow, OrchestratorError>"},{"id":"parseFlowYaml_707","funcName":"parseFlowYaml","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":428,"inType":"string, string, Readonly<Record<string, string | undefined>>, Readonly<Record<string, string>>","outType":"Result<Flow, ParseError>"},{"id":"resolveEnvVariables_708","funcName":"resolveEnvVariables","filepath":"packages/core/src/parser/env-resolver.ts","layerPath":["packages/core/src","parser"],"line":213,"inType":"RawFlowData, Readonly<Record<string, string | undefined>>, Readonly<Record<string, string>>","outType":"Result<RawFlowData, ParseError>"},{"id":"mergeEnvMaps_709","funcName":"mergeEnvMaps","filepath":"packages/core/src/parser/env-resolver.ts","layerPath":["packages/core/src","parser"],"line":30,"inType":"Readonly<Record<string, string | undefined>>, Readonly<Record<string, string>>, Readonly<Record<string, string>>","outType":"Record<string, string>"},{"id":"resolveStepVariables_710","funcName":"resolveStepVariables","filepath":"packages/core/src/parser/env-resolver.ts","layerPath":["packages/core/src","parser"],"line":161,"inType":"unknown, Record<string, string>, number","outType":"Result<unknown, ParseError>"},{"id":"isRecord_711","funcName":"isRecord","filepath":"packages/core/src/parser/env-resolver.ts","layerPath":["packages/core/src","parser"],"line":104,"inType":"unknown","outType":"boolean"},{"id":"ok_712","funcName":"ok","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"unknown","outType":"","isExternal":true},{"id":"resolveObjectVariables_713","funcName":"resolveObjectVariables","filepath":"packages/core/src/parser/env-resolver.ts","layerPath":["packages/core/src","parser"],"line":119,"inType":"Record<string, unknown>, Record<string, string>, string","outType":"Result<void, ParseError>"},{"id":"resolveStringVariables_714","funcName":"resolveStringVariables","filepath":"packages/core/src/parser/env-resolver.ts","layerPath":["packages/core/src","parser"],"line":57,"inType":"string, Record<string, string>, string","outType":"Result<string, ParseError>"},{"id":"ok_715","funcName":"ok","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"err_716","funcName":"err","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"undefined_variable\"; message: string; variableName: string; location: string; }","outType":"","isExternal":true},{"id":"isRecord_717","funcName":"isRecord","filepath":"packages/core/src/parser/env-resolver.ts","layerPath":["packages/core/src","parser"],"line":104,"inType":"unknown","outType":"boolean"},{"id":"ok_718","funcName":"ok","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"undefined","outType":"","isExternal":true},{"id":"ok_719","funcName":"ok","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"never[]","outType":"","isExternal":true},{"id":"buildRawFlowData_720","funcName":"buildRawFlowData","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":413,"inType":"Record<string, unknown>","outType":"RawFlowData"},{"id":"extractEnvFromRoot_721","funcName":"extractEnvFromRoot","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":168,"inType":"Record<string, unknown>","outType":"Readonly<Record<string, string>>"},{"id":"isRecord_722","funcName":"isRecord","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":80,"inType":"unknown","outType":"boolean"},{"id":"buildEnvMap_723","funcName":"buildEnvMap","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":144,"inType":"Record<string, unknown>","outType":"Record<string, string>"},{"id":"extractStepsFromRoot_724","funcName":"extractStepsFromRoot","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":182,"inType":"Record<string, unknown>","outType":"unknown[]"},{"id":"validateRootStructure_725","funcName":"validateRootStructure","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":96,"inType":"unknown","outType":"Result<Record<string, unknown>, ParseError>"},{"id":"err_726","funcName":"err","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"invalid_flow_structure\"; message: string; details: string; }","outType":"","isExternal":true},{"id":"isRecord_727","funcName":"isRecord","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":80,"inType":"unknown","outType":"boolean"},{"id":"ok_728","funcName":"ok","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ [x: string]: unknown; steps: unknown[]; }","outType":"","isExternal":true},{"id":"match_729","funcName":"match","filepath":"ts-pattern","layerPath":["ts-pattern"],"line":0,"inType":"Record<string, unknown>","outType":"","isExternal":true},{"id":"safeYamlParse_730","funcName":"safeYamlParse","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":72,"inType":"[text: string]","outType":"Result<any, ParseError>"},{"id":"buildFlow_731","funcName":"buildFlow","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":421,"inType":"RawFlowData, string","outType":"Result<Flow, ParseError>"},{"id":"validateCommands_732","funcName":"validateCommands","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":255,"inType":"unknown[]","outType":"Result<readonly Command[], ParseError>"},{"id":"validateAllCommands_733","funcName":"validateAllCommands","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":245,"inType":"unknown[]","outType":"Result<Command[], ParseError>"},{"id":"reduceValidateCommand_734","funcName":"reduceValidateCommand","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":228,"inType":"Result<Command[], ParseError>, unknown, number","outType":"Result<Command[], ParseError>"},{"id":"appendValidatedCommand_735","funcName":"appendValidatedCommand","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":212,"inType":"Command[], unknown, number","outType":"Result<Command[], ParseError>"},{"id":"validateCommand_736","funcName":"validateCommand","filepath":"packages/core/src/parser/validators/command-validator.ts","layerPath":["packages/core/src","parser/validators"],"line":22,"inType":"unknown, number","outType":"Result<Command, ParseError>"},{"id":"err_737","funcName":"err","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"invalid_command\"; message: string; commandIndex: number; commandContent: null | undefined; }","outType":"","isExternal":true},{"id":"ok_738","funcName":"ok","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"Command","outType":"","isExternal":true},{"id":"ok_739","funcName":"ok","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"never[]","outType":"","isExternal":true},{"id":"validateNonEmpty_740","funcName":"validateNonEmpty","filepath":"packages/core/src/parser/yaml-parser.ts","layerPath":["packages/core/src","parser"],"line":193,"inType":"unknown[]","outType":"Result<unknown[], ParseError>"},{"id":"err_741","funcName":"err","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"invalid_flow_structure\"; message: string; details: string; }","outType":"","isExternal":true},{"id":"ok_742","funcName":"ok","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"unknown[]","outType":"","isExternal":true},{"id":"formatParseErrorMessage_743","funcName":"formatParseErrorMessage","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":139,"inType":"ParseError","outType":"string"},{"id":"errAsync_744","funcName":"errAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"{ type: \"no_flows_found\"; message: string; }","outType":"","isExternal":true},{"id":"okAsync_745","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"readonly string[]","outType":"","isExternal":true},{"id":"discoverFlowFiles_746","funcName":"discoverFlowFiles","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":81,"inType":"string[], string","outType":"ResultAsync<readonly string[], OrchestratorError>"},{"id":"okAsync_747","funcName":"okAsync","filepath":"neverthrow","layerPath":["neverthrow"],"line":0,"inType":"string[]","outType":"","isExternal":true},{"id":"glob_748","funcName":"glob","filepath":"glob","layerPath":["glob"],"line":0,"inType":"string","outType":"","isExternal":true},{"id":"checkEnvironment_749","funcName":"checkEnvironment","filepath":"packages/core/src/orchestrator/run-flows.ts","layerPath":["packages/core/src","orchestrator"],"line":61,"inType":"","outType":"ResultAsync<void, OrchestratorError>"},{"id":"checkAgentBrowser_750","funcName":"checkAgentBrowser","filepath":"@packages/agent-browser-adapter","layerPath":["@packages/agent-browser-adapter"],"line":0,"inType":"void","outType":"","isExternal":true}],"edges":[{"from":"executeAllFlowsParallel_2","to":"pLimit_3","edgeType":"call","label":"call","flowType":"number"},{"from":"pLimit_3","to":"executeAllFlowsParallel_2","edgeType":"return","label":"return","flowType":"number"},{"from":"executeSingleFlow_4","to":"generateSessionName_5","edgeType":"call","label":"call","flowType":"string"},{"from":"generateSessionName_5","to":"executeSingleFlow_4","edgeType":"return","label":"return","flowType":"string"},{"from":"executeSingleFlow_4","to":"notifyFlowProgress_6","edgeType":"call","label":"call","flowType":"RunFlowsInput"},{"from":"notifyFlowProgress_6","to":"executeSingleFlow_4","edgeType":"return","label":"return","flowType":"RunFlowsInput"},{"from":"executeSingleFlow_4","to":"buildFlowExecutionOptions_7","edgeType":"call","label":"call","flowType":"string"},{"from":"buildFlowExecutionOptions_7","to":"executeSingleFlow_4","edgeType":"return","label":"return","flowType":"string"},{"from":"executeFlow_8","to":"buildExecutionContext_9","edgeType":"call","label":"call","flowType":"FlowExecutionOptions"},{"from":"buildExecutionContext_9","to":"executeFlow_8","edgeType":"return","label":"return","flowType":"FlowExecutionOptions"},{"from":"executeFlow_8","to":"okAsync_10","edgeType":"call","label":"call","flowType":"FlowResult"},{"from":"okAsync_10","to":"executeFlow_8","edgeType":"return","label":"return","flowType":"FlowResult"},{"from":"executeFlow_8","to":"errAsync_11","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_11","to":"executeFlow_8","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executeFlow_8","to":"isFailedStepResult_12","edgeType":"call","label":"call","flowType":"StepResult"},{"from":"isFailedStepResult_12","to":"executeFlow_8","edgeType":"return","label":"return","flowType":"StepResult"},{"from":"executeFlow_8","to":"buildFailedFlowResult_13","edgeType":"call","label":"call","flowType":"Flow"},{"from":"buildFailedFlowResult_13","to":"executeFlow_8","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeFlow_8","to":"buildSuccessFlowResult_14","edgeType":"call","label":"call","flowType":"Flow"},{"from":"buildSuccessFlowResult_14","to":"executeFlow_8","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeAllSteps_15","to":"isStepProgressCallback_16","edgeType":"call","label":"call","flowType":"StepProgressCallback | { readonly _brand: \"NoCallback\"; }"},{"from":"isStepProgressCallback_16","to":"executeAllSteps_15","edgeType":"return","label":"return","flowType":"StepProgressCallback | { readonly _brand: \"NoCallback\"; }"},{"from":"takeErrorScreenshot_18","to":"getAgentBrowserErrorMessage_19","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"getAgentBrowserErrorMessage_19","to":"takeErrorScreenshot_18","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"captureErrorScreenshot_20","to":"browserScreenshot_21","edgeType":"call","label":"call","flowType":"string & Brand<\"FilePath\">"},{"from":"browserScreenshot_21","to":"captureErrorScreenshot_20","edgeType":"return","label":"return","flowType":"string & Brand<\"FilePath\">"},{"from":"captureErrorScreenshot_20","to":"asFilePath_22","edgeType":"call","label":"call","flowType":"string"},{"from":"asFilePath_22","to":"captureErrorScreenshot_20","edgeType":"return","label":"return","flowType":"string"},{"from":"takeErrorScreenshot_18","to":"captureErrorScreenshot_20","edgeType":"call","label":"call","flowType":"ExecutionContext"},{"from":"captureErrorScreenshot_20","to":"takeErrorScreenshot_18","edgeType":"return","label":"return","flowType":"ExecutionContext"},{"from":"executeStep_17","to":"takeErrorScreenshot_18","edgeType":"call","label":"call","flowType":"ExecutionContext"},{"from":"takeErrorScreenshot_18","to":"executeStep_17","edgeType":"return","label":"return","flowType":"ExecutionContext"},{"from":"executeStep_17","to":"match_23","edgeType":"call","label":"call","flowType":"SelectorWaitFailure | ExecutorError"},{"from":"match_23","to":"executeStep_17","edgeType":"return","label":"return","flowType":"SelectorWaitFailure | ExecutorError"},{"from":"getErrorMessage_24","to":"hasMessageField_25","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"hasMessageField_25","to":"getErrorMessage_24","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getCommandFailedFallback_26","to":"getCommandErrorFallback_27","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandErrorFallback_27","to":"getCommandFailedFallback_26","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandFailedFallback_26","to":"getAssertionFallback_28","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"getAssertionFallback_28","to":"getCommandFailedFallback_26","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"getCommandFailedFallback_26","to":"match_29","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"match_29","to":"getCommandFailedFallback_26","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getErrorMessage_24","to":"getCommandFailedFallback_26","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"getCommandFailedFallback_26","to":"getErrorMessage_24","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"executeStep_17","to":"getErrorMessage_24","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"getErrorMessage_24","to":"executeStep_17","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getSelectorString_33","to":"match_34","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_34","to":"getSelectorString_33","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorForErrorMessage_32","to":"getSelectorString_33","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorString_33","to":"getSelectorForErrorMessage_32","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertChecked_31","to":"getSelectorForErrorMessage_32","edgeType":"call","label":"call","flowType":"ResolvedAssertCheckedCommand"},{"from":"getSelectorForErrorMessage_32","to":"handleAssertChecked_31","edgeType":"return","label":"return","flowType":"ResolvedAssertCheckedCommand"},{"from":"checkChecked_35","to":"errAsync_36","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"errAsync_36","to":"checkChecked_35","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"checkChecked_35","to":"okAsync_37","edgeType":"call","label":"call","flowType":"{ stdout: string; duration: number; }"},{"from":"okAsync_37","to":"checkChecked_35","edgeType":"return","label":"return","flowType":"{ stdout: string; duration: number; }"},{"from":"handleAssertChecked_31","to":"checkChecked_35","edgeType":"call","label":"call","flowType":"string"},{"from":"checkChecked_35","to":"handleAssertChecked_31","edgeType":"return","label":"return","flowType":"string"},{"from":"handleAssertChecked_31","to":"browserIsChecked_38","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsChecked_38","to":"handleAssertChecked_31","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_39","to":"asCliXpathSelector_40","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_40","to":"resolveCliSelector_39","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_39","to":"okAsync_41","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_41","to":"resolveCliSelector_39","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_39","to":"errAsync_42","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_42","to":"resolveCliSelector_39","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_39","to":"asCliTextSelector_43","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_43","to":"resolveCliSelector_39","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_39","to":"match_44","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_44","to":"resolveCliSelector_39","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertChecked_31","to":"resolveCliSelector_39","edgeType":"call","label":"call","flowType":"ResolvedAssertCheckedCommand"},{"from":"resolveCliSelector_39","to":"handleAssertChecked_31","edgeType":"return","label":"return","flowType":"ResolvedAssertCheckedCommand"},{"from":"executeResolvedCommand_30","to":"handleAssertChecked_31","edgeType":"call","label":"call","flowType":"ResolvedAssertCheckedCommand"},{"from":"handleAssertChecked_31","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedAssertCheckedCommand"},{"from":"getSelectorString_47","to":"match_48","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_48","to":"getSelectorString_47","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorForErrorMessage_46","to":"getSelectorString_47","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorString_47","to":"getSelectorForErrorMessage_46","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertEnabled_45","to":"getSelectorForErrorMessage_46","edgeType":"call","label":"call","flowType":"ResolvedAssertEnabledCommand"},{"from":"getSelectorForErrorMessage_46","to":"handleAssertEnabled_45","edgeType":"return","label":"return","flowType":"ResolvedAssertEnabledCommand"},{"from":"checkEnabled_49","to":"errAsync_50","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"errAsync_50","to":"checkEnabled_49","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"checkEnabled_49","to":"okAsync_51","edgeType":"call","label":"call","flowType":"{ stdout: string; duration: number; }"},{"from":"okAsync_51","to":"checkEnabled_49","edgeType":"return","label":"return","flowType":"{ stdout: string; duration: number; }"},{"from":"handleAssertEnabled_45","to":"checkEnabled_49","edgeType":"call","label":"call","flowType":"string"},{"from":"checkEnabled_49","to":"handleAssertEnabled_45","edgeType":"return","label":"return","flowType":"string"},{"from":"handleAssertEnabled_45","to":"browserIsEnabled_52","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsEnabled_52","to":"handleAssertEnabled_45","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_53","to":"asCliXpathSelector_54","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_54","to":"resolveCliSelector_53","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_53","to":"okAsync_55","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_55","to":"resolveCliSelector_53","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_53","to":"errAsync_56","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_56","to":"resolveCliSelector_53","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_53","to":"asCliTextSelector_57","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_57","to":"resolveCliSelector_53","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_53","to":"match_58","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_58","to":"resolveCliSelector_53","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertEnabled_45","to":"resolveCliSelector_53","edgeType":"call","label":"call","flowType":"ResolvedAssertEnabledCommand"},{"from":"resolveCliSelector_53","to":"handleAssertEnabled_45","edgeType":"return","label":"return","flowType":"ResolvedAssertEnabledCommand"},{"from":"executeResolvedCommand_30","to":"handleAssertEnabled_45","edgeType":"call","label":"call","flowType":"ResolvedAssertEnabledCommand"},{"from":"handleAssertEnabled_45","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedAssertEnabledCommand"},{"from":"getSelectorString_60","to":"match_61","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_61","to":"getSelectorString_60","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertNotVisible_59","to":"getSelectorString_60","edgeType":"call","label":"call","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"getSelectorString_60","to":"handleAssertNotVisible_59","edgeType":"return","label":"return","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"isTextSelector_62","to":"match_63","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_63","to":"isTextSelector_62","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertNotVisible_59","to":"isTextSelector_62","edgeType":"call","label":"call","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"isTextSelector_62","to":"handleAssertNotVisible_59","edgeType":"return","label":"return","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"checkTextNotVisible_65","to":"browserWaitForText_66","edgeType":"call","label":"call","flowType":"string"},{"from":"browserWaitForText_66","to":"checkTextNotVisible_65","edgeType":"return","label":"return","flowType":"string"},{"from":"checkTextNotVisible_65","to":"errAsync_67","edgeType":"call","label":"call","flowType":"{ type: \"assertion_failed\"; message: string; command: string; selector: string; expected: boolean; actual: boolean; }"},{"from":"errAsync_67","to":"checkTextNotVisible_65","edgeType":"return","label":"return","flowType":"{ type: \"assertion_failed\"; message: string; command: string; selector: string; expected: boolean; actual: boolean; }"},{"from":"checkTextNotVisible_65","to":"okAsync_68","edgeType":"call","label":"call","flowType":"{ stdout: string; duration: number; }"},{"from":"okAsync_68","to":"checkTextNotVisible_65","edgeType":"return","label":"return","flowType":"{ stdout: string; duration: number; }"},{"from":"handleTextSelectorNotVisible_64","to":"checkTextNotVisible_65","edgeType":"call","label":"call","flowType":"string"},{"from":"checkTextNotVisible_65","to":"handleTextSelectorNotVisible_64","edgeType":"return","label":"return","flowType":"string"},{"from":"waitForPageStable_69","to":"browserWaitForNetworkIdle_70","edgeType":"call","label":"call","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"browserWaitForNetworkIdle_70","to":"waitForPageStable_69","edgeType":"return","label":"return","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"handleTextSelectorNotVisible_64","to":"waitForPageStable_69","edgeType":"call","label":"call","flowType":"ExecutionContext"},{"from":"waitForPageStable_69","to":"handleTextSelectorNotVisible_64","edgeType":"return","label":"return","flowType":"ExecutionContext"},{"from":"handleAssertNotVisible_59","to":"handleTextSelectorNotVisible_64","edgeType":"call","label":"call","flowType":"string"},{"from":"handleTextSelectorNotVisible_64","to":"handleAssertNotVisible_59","edgeType":"return","label":"return","flowType":"string"},{"from":"getAndCheckNotVisible_71","to":"browserIsVisible_72","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_72","to":"getAndCheckNotVisible_71","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"getSelectorString_74","to":"match_75","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_75","to":"getSelectorString_74","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorForErrorMessage_73","to":"getSelectorString_74","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorString_74","to":"getSelectorForErrorMessage_73","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getAndCheckNotVisible_71","to":"getSelectorForErrorMessage_73","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"getSelectorForErrorMessage_73","to":"getAndCheckNotVisible_71","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"resolveCliSelector_76","to":"asCliXpathSelector_77","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_77","to":"resolveCliSelector_76","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_76","to":"okAsync_78","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_78","to":"resolveCliSelector_76","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_76","to":"errAsync_79","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_79","to":"resolveCliSelector_76","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_76","to":"asCliTextSelector_80","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_80","to":"resolveCliSelector_76","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_76","to":"match_81","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_81","to":"resolveCliSelector_76","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getAndCheckNotVisible_71","to":"resolveCliSelector_76","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"resolveCliSelector_76","to":"getAndCheckNotVisible_71","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"checkNotVisible_82","to":"errAsync_83","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"errAsync_83","to":"checkNotVisible_82","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"checkNotVisible_82","to":"okAsync_84","edgeType":"call","label":"call","flowType":"{ stdout: string; duration: number; }"},{"from":"okAsync_84","to":"checkNotVisible_82","edgeType":"return","label":"return","flowType":"{ stdout: string; duration: number; }"},{"from":"getAndCheckNotVisible_71","to":"checkNotVisible_82","edgeType":"call","label":"call","flowType":"string"},{"from":"checkNotVisible_82","to":"getAndCheckNotVisible_71","edgeType":"return","label":"return","flowType":"string"},{"from":"handleAssertNotVisible_59","to":"getAndCheckNotVisible_71","edgeType":"call","label":"call","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"getAndCheckNotVisible_71","to":"handleAssertNotVisible_59","edgeType":"return","label":"return","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"waitForPageStable_85","to":"browserWaitForNetworkIdle_86","edgeType":"call","label":"call","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"browserWaitForNetworkIdle_86","to":"waitForPageStable_85","edgeType":"return","label":"return","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"handleAssertNotVisible_59","to":"waitForPageStable_85","edgeType":"call","label":"call","flowType":"ExecutionContext"},{"from":"waitForPageStable_85","to":"handleAssertNotVisible_59","edgeType":"return","label":"return","flowType":"ExecutionContext"},{"from":"executeResolvedCommand_30","to":"handleAssertNotVisible_59","edgeType":"call","label":"call","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"handleAssertNotVisible_59","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"getSelectorString_88","to":"match_89","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_89","to":"getSelectorString_88","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertVisible_87","to":"getSelectorString_88","edgeType":"call","label":"call","flowType":"ResolvedAssertVisibleCommand"},{"from":"getSelectorString_88","to":"handleAssertVisible_87","edgeType":"return","label":"return","flowType":"ResolvedAssertVisibleCommand"},{"from":"isTextSelector_90","to":"match_91","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_91","to":"isTextSelector_90","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertVisible_87","to":"isTextSelector_90","edgeType":"call","label":"call","flowType":"ResolvedAssertVisibleCommand"},{"from":"isTextSelector_90","to":"handleAssertVisible_87","edgeType":"return","label":"return","flowType":"ResolvedAssertVisibleCommand"},{"from":"handleTextSelectorVisible_92","to":"browserWaitForText_93","edgeType":"call","label":"call","flowType":"string"},{"from":"browserWaitForText_93","to":"handleTextSelectorVisible_92","edgeType":"return","label":"return","flowType":"string"},{"from":"handleAssertVisible_87","to":"handleTextSelectorVisible_92","edgeType":"call","label":"call","flowType":"string"},{"from":"handleTextSelectorVisible_92","to":"handleAssertVisible_87","edgeType":"return","label":"return","flowType":"string"},{"from":"isTextSelector_95","to":"match_96","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_96","to":"isTextSelector_95","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"waitForElement_94","to":"isTextSelector_95","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"isTextSelector_95","to":"waitForElement_94","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"getSelectorString_97","to":"match_98","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_98","to":"getSelectorString_97","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"waitForElement_94","to":"getSelectorString_97","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"getSelectorString_97","to":"waitForElement_94","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"waitForElement_94","to":"browserWaitForText_99","edgeType":"call","label":"call","flowType":"string"},{"from":"browserWaitForText_99","to":"waitForElement_94","edgeType":"return","label":"return","flowType":"string"},{"from":"waitForElement_94","to":"browserWaitForSelector_100","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserWaitForSelector_100","to":"waitForElement_94","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_101","to":"asCliXpathSelector_102","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_102","to":"resolveCliSelector_101","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_101","to":"okAsync_103","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_103","to":"resolveCliSelector_101","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_101","to":"errAsync_104","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_104","to":"resolveCliSelector_101","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_101","to":"asCliTextSelector_105","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_105","to":"resolveCliSelector_101","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_101","to":"match_106","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_106","to":"resolveCliSelector_101","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"waitForElement_94","to":"resolveCliSelector_101","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"resolveCliSelector_101","to":"waitForElement_94","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"handleAssertVisible_87","to":"waitForElement_94","edgeType":"call","label":"call","flowType":"ResolvedAssertVisibleCommand"},{"from":"waitForElement_94","to":"handleAssertVisible_87","edgeType":"return","label":"return","flowType":"ResolvedAssertVisibleCommand"},{"from":"getAndCheckVisibility_107","to":"browserIsVisible_108","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_108","to":"getAndCheckVisibility_107","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"getSelectorString_110","to":"match_111","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_111","to":"getSelectorString_110","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorForErrorMessage_109","to":"getSelectorString_110","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorString_110","to":"getSelectorForErrorMessage_109","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getAndCheckVisibility_107","to":"getSelectorForErrorMessage_109","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"getSelectorForErrorMessage_109","to":"getAndCheckVisibility_107","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"resolveCliSelector_112","to":"asCliXpathSelector_113","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_113","to":"resolveCliSelector_112","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_112","to":"okAsync_114","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_114","to":"resolveCliSelector_112","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_112","to":"errAsync_115","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_115","to":"resolveCliSelector_112","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_112","to":"asCliTextSelector_116","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_116","to":"resolveCliSelector_112","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_112","to":"match_117","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_117","to":"resolveCliSelector_112","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getAndCheckVisibility_107","to":"resolveCliSelector_112","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"resolveCliSelector_112","to":"getAndCheckVisibility_107","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"checkVisibility_118","to":"errAsync_119","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"errAsync_119","to":"checkVisibility_118","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"checkVisibility_118","to":"okAsync_120","edgeType":"call","label":"call","flowType":"{ stdout: string; duration: number; }"},{"from":"okAsync_120","to":"checkVisibility_118","edgeType":"return","label":"return","flowType":"{ stdout: string; duration: number; }"},{"from":"getAndCheckVisibility_107","to":"checkVisibility_118","edgeType":"call","label":"call","flowType":"string"},{"from":"checkVisibility_118","to":"getAndCheckVisibility_107","edgeType":"return","label":"return","flowType":"string"},{"from":"handleAssertVisible_87","to":"getAndCheckVisibility_107","edgeType":"call","label":"call","flowType":"ResolvedAssertVisibleCommand"},{"from":"getAndCheckVisibility_107","to":"handleAssertVisible_87","edgeType":"return","label":"return","flowType":"ResolvedAssertVisibleCommand"},{"from":"executeResolvedCommand_30","to":"handleAssertVisible_87","edgeType":"call","label":"call","flowType":"ResolvedAssertVisibleCommand"},{"from":"handleAssertVisible_87","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedAssertVisibleCommand"},{"from":"handleEval_121","to":"browserEval_122","edgeType":"call","label":"call","flowType":"string & Brand<\"JsExpression\">"},{"from":"browserEval_122","to":"handleEval_121","edgeType":"return","label":"return","flowType":"string & Brand<\"JsExpression\">"},{"from":"executeResolvedCommand_30","to":"handleEval_121","edgeType":"call","label":"call","flowType":"EvalCommand"},{"from":"handleEval_121","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"EvalCommand"},{"from":"handleScreenshot_123","to":"browserScreenshot_124","edgeType":"call","label":"call","flowType":"string & Brand<\"FilePath\">"},{"from":"browserScreenshot_124","to":"handleScreenshot_123","edgeType":"return","label":"return","flowType":"string & Brand<\"FilePath\">"},{"from":"executeResolvedCommand_30","to":"handleScreenshot_123","edgeType":"call","label":"call","flowType":"ScreenshotCommand"},{"from":"handleScreenshot_123","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ScreenshotCommand"},{"from":"handleWait_125","to":"createResultMapper_126","edgeType":"call","label":"call","flowType":"number"},{"from":"createResultMapper_126","to":"handleWait_125","edgeType":"return","label":"return","flowType":"number"},{"from":"handleWait_125","to":"browserWaitForFunction_127","edgeType":"call","label":"call","flowType":"string & Brand<\"JsExpression\">"},{"from":"browserWaitForFunction_127","to":"handleWait_125","edgeType":"return","label":"return","flowType":"string & Brand<\"JsExpression\">"},{"from":"handleWait_125","to":"browserWaitForUrl_128","edgeType":"call","label":"call","flowType":"string"},{"from":"browserWaitForUrl_128","to":"handleWait_125","edgeType":"return","label":"return","flowType":"string"},{"from":"handleWait_125","to":"browserWaitForLoad_129","edgeType":"call","label":"call","flowType":"LoadState"},{"from":"browserWaitForLoad_129","to":"handleWait_125","edgeType":"return","label":"return","flowType":"LoadState"},{"from":"handleWait_125","to":"asCliXpathSelector_130","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_130","to":"handleWait_125","edgeType":"return","label":"return","flowType":"string"},{"from":"handleWait_125","to":"browserWaitForSelector_131","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"browserWaitForSelector_131","to":"handleWait_125","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"handleWait_125","to":"errAsync_132","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_132","to":"handleWait_125","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"handleWait_125","to":"browserWaitForText_133","edgeType":"call","label":"call","flowType":"string & Brand<\"AnyTextSelector\">"},{"from":"browserWaitForText_133","to":"handleWait_125","edgeType":"return","label":"return","flowType":"string & Brand<\"AnyTextSelector\">"},{"from":"handleWait_125","to":"browserWaitForMs_134","edgeType":"call","label":"call","flowType":"number"},{"from":"browserWaitForMs_134","to":"handleWait_125","edgeType":"return","label":"return","flowType":"number"},{"from":"handleWait_125","to":"match_135","edgeType":"call","label":"call","flowType":"WaitCommand"},{"from":"match_135","to":"handleWait_125","edgeType":"return","label":"return","flowType":"WaitCommand"},{"from":"executeResolvedCommand_30","to":"handleWait_125","edgeType":"call","label":"call","flowType":"WaitCommand"},{"from":"handleWait_125","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"WaitCommand"},{"from":"getSelectorString_137","to":"match_138","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_138","to":"getSelectorString_137","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleScrollIntoView_136","to":"getSelectorString_137","edgeType":"call","label":"call","flowType":"ResolvedScrollIntoViewCommand"},{"from":"getSelectorString_137","to":"handleScrollIntoView_136","edgeType":"return","label":"return","flowType":"ResolvedScrollIntoViewCommand"},{"from":"isTextSelector_139","to":"match_140","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_140","to":"isTextSelector_139","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleScrollIntoView_136","to":"isTextSelector_139","edgeType":"call","label":"call","flowType":"ResolvedScrollIntoViewCommand"},{"from":"isTextSelector_139","to":"handleScrollIntoView_136","edgeType":"return","label":"return","flowType":"ResolvedScrollIntoViewCommand"},{"from":"handleTextSelectorScrollIntoView_141","to":"asCliTextSelector_142","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_142","to":"handleTextSelectorScrollIntoView_141","edgeType":"return","label":"return","flowType":"string"},{"from":"handleTextSelectorScrollIntoView_141","to":"browserScrollIntoView_143","edgeType":"call","label":"call","flowType":"string & Brand<\"CliTextSelector\">"},{"from":"browserScrollIntoView_143","to":"handleTextSelectorScrollIntoView_141","edgeType":"return","label":"return","flowType":"string & Brand<\"CliTextSelector\">"},{"from":"handleTextSelectorScrollIntoView_141","to":"errAsync_144","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_144","to":"handleTextSelectorScrollIntoView_141","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"handleTextSelectorScrollIntoView_141","to":"browserWaitForText_145","edgeType":"call","label":"call","flowType":"string"},{"from":"browserWaitForText_145","to":"handleTextSelectorScrollIntoView_141","edgeType":"return","label":"return","flowType":"string"},{"from":"handleScrollIntoView_136","to":"handleTextSelectorScrollIntoView_141","edgeType":"call","label":"call","flowType":"string"},{"from":"handleTextSelectorScrollIntoView_141","to":"handleScrollIntoView_136","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_147","to":"asCliXpathSelector_148","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_148","to":"resolveCliSelector_147","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_147","to":"okAsync_149","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_149","to":"resolveCliSelector_147","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_147","to":"errAsync_150","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_150","to":"resolveCliSelector_147","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_147","to":"asCliTextSelector_151","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_151","to":"resolveCliSelector_147","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_147","to":"match_152","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_152","to":"resolveCliSelector_147","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleCssOrRefScrollIntoView_146","to":"resolveCliSelector_147","edgeType":"call","label":"call","flowType":"ResolvedScrollIntoViewCommand"},{"from":"resolveCliSelector_147","to":"handleCssOrRefScrollIntoView_146","edgeType":"return","label":"return","flowType":"ResolvedScrollIntoViewCommand"},{"from":"handleCssOrRefScrollIntoView_146","to":"browserScrollIntoView_153","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserScrollIntoView_153","to":"handleCssOrRefScrollIntoView_146","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"handleScrollIntoView_136","to":"handleCssOrRefScrollIntoView_146","edgeType":"call","label":"call","flowType":"ResolvedScrollIntoViewCommand"},{"from":"handleCssOrRefScrollIntoView_146","to":"handleScrollIntoView_136","edgeType":"return","label":"return","flowType":"ResolvedScrollIntoViewCommand"},{"from":"executeResolvedCommand_30","to":"handleScrollIntoView_136","edgeType":"call","label":"call","flowType":"ResolvedScrollIntoViewCommand"},{"from":"handleScrollIntoView_136","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedScrollIntoViewCommand"},{"from":"handleScroll_154","to":"browserScroll_155","edgeType":"call","label":"call","flowType":"ScrollDirection"},{"from":"browserScroll_155","to":"handleScroll_154","edgeType":"return","label":"return","flowType":"ScrollDirection"},{"from":"executeResolvedCommand_30","to":"handleScroll_154","edgeType":"call","label":"call","flowType":"ScrollCommand"},{"from":"handleScroll_154","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ScrollCommand"},{"from":"handleSelect_156","to":"browserSelect_157","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserSelect_157","to":"handleSelect_156","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_158","to":"asCliXpathSelector_159","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_159","to":"resolveCliSelector_158","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_158","to":"okAsync_160","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_160","to":"resolveCliSelector_158","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_158","to":"errAsync_161","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_161","to":"resolveCliSelector_158","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_158","to":"asCliTextSelector_162","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_162","to":"resolveCliSelector_158","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_158","to":"match_163","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_163","to":"resolveCliSelector_158","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleSelect_156","to":"resolveCliSelector_158","edgeType":"call","label":"call","flowType":"ResolvedSelectCommand"},{"from":"resolveCliSelector_158","to":"handleSelect_156","edgeType":"return","label":"return","flowType":"ResolvedSelectCommand"},{"from":"executeResolvedCommand_30","to":"handleSelect_156","edgeType":"call","label":"call","flowType":"ResolvedSelectCommand"},{"from":"handleSelect_156","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedSelectCommand"},{"from":"handleHover_164","to":"browserHover_165","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserHover_165","to":"handleHover_164","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_166","to":"asCliXpathSelector_167","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_167","to":"resolveCliSelector_166","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_166","to":"okAsync_168","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_168","to":"resolveCliSelector_166","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_166","to":"errAsync_169","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_169","to":"resolveCliSelector_166","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_166","to":"asCliTextSelector_170","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_170","to":"resolveCliSelector_166","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_166","to":"match_171","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_171","to":"resolveCliSelector_166","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleHover_164","to":"resolveCliSelector_166","edgeType":"call","label":"call","flowType":"ResolvedHoverCommand"},{"from":"resolveCliSelector_166","to":"handleHover_164","edgeType":"return","label":"return","flowType":"ResolvedHoverCommand"},{"from":"executeResolvedCommand_30","to":"handleHover_164","edgeType":"call","label":"call","flowType":"ResolvedHoverCommand"},{"from":"handleHover_164","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedHoverCommand"},{"from":"handlePress_172","to":"browserPress_173","edgeType":"call","label":"call","flowType":"string & Brand<\"KeyboardKey\">"},{"from":"browserPress_173","to":"handlePress_172","edgeType":"return","label":"return","flowType":"string & Brand<\"KeyboardKey\">"},{"from":"executeResolvedCommand_30","to":"handlePress_172","edgeType":"call","label":"call","flowType":"PressCommand"},{"from":"handlePress_172","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"PressCommand"},{"from":"handleFill_174","to":"browserFill_175","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserFill_175","to":"handleFill_174","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_176","to":"asCliXpathSelector_177","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_177","to":"resolveCliSelector_176","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_176","to":"okAsync_178","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_178","to":"resolveCliSelector_176","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_176","to":"errAsync_179","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_179","to":"resolveCliSelector_176","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_176","to":"asCliTextSelector_180","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_180","to":"resolveCliSelector_176","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_176","to":"match_181","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_181","to":"resolveCliSelector_176","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleFill_174","to":"resolveCliSelector_176","edgeType":"call","label":"call","flowType":"ResolvedFillCommand"},{"from":"resolveCliSelector_176","to":"handleFill_174","edgeType":"return","label":"return","flowType":"ResolvedFillCommand"},{"from":"executeResolvedCommand_30","to":"handleFill_174","edgeType":"call","label":"call","flowType":"ResolvedFillCommand"},{"from":"handleFill_174","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedFillCommand"},{"from":"handleType_182","to":"browserType_183","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserType_183","to":"handleType_182","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_184","to":"asCliXpathSelector_185","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_185","to":"resolveCliSelector_184","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_184","to":"okAsync_186","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_186","to":"resolveCliSelector_184","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_184","to":"errAsync_187","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_187","to":"resolveCliSelector_184","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_184","to":"asCliTextSelector_188","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_188","to":"resolveCliSelector_184","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_184","to":"match_189","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_189","to":"resolveCliSelector_184","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleType_182","to":"resolveCliSelector_184","edgeType":"call","label":"call","flowType":"ResolvedTypeCommand"},{"from":"resolveCliSelector_184","to":"handleType_182","edgeType":"return","label":"return","flowType":"ResolvedTypeCommand"},{"from":"executeResolvedCommand_30","to":"handleType_182","edgeType":"call","label":"call","flowType":"ResolvedTypeCommand"},{"from":"handleType_182","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedTypeCommand"},{"from":"handleClick_190","to":"browserClick_191","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserClick_191","to":"handleClick_190","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_192","to":"asCliXpathSelector_193","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_193","to":"resolveCliSelector_192","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_192","to":"okAsync_194","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_194","to":"resolveCliSelector_192","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_192","to":"errAsync_195","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_195","to":"resolveCliSelector_192","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_192","to":"asCliTextSelector_196","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_196","to":"resolveCliSelector_192","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_192","to":"match_197","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_197","to":"resolveCliSelector_192","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleClick_190","to":"resolveCliSelector_192","edgeType":"call","label":"call","flowType":"ResolvedClickCommand"},{"from":"resolveCliSelector_192","to":"handleClick_190","edgeType":"return","label":"return","flowType":"ResolvedClickCommand"},{"from":"executeResolvedCommand_30","to":"handleClick_190","edgeType":"call","label":"call","flowType":"ResolvedClickCommand"},{"from":"handleClick_190","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedClickCommand"},{"from":"handleOpen_198","to":"browserOpen_199","edgeType":"call","label":"call","flowType":"string & Brand<\"Url\">"},{"from":"browserOpen_199","to":"handleOpen_198","edgeType":"return","label":"return","flowType":"string & Brand<\"Url\">"},{"from":"executeResolvedCommand_30","to":"handleOpen_198","edgeType":"call","label":"call","flowType":"OpenCommand"},{"from":"handleOpen_198","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"OpenCommand"},{"from":"executeResolvedCommand_30","to":"match_200","edgeType":"call","label":"call","flowType":"ResolvedCommand"},{"from":"match_200","to":"executeResolvedCommand_30","edgeType":"return","label":"return","flowType":"ResolvedCommand"},{"from":"executeStep_17","to":"executeResolvedCommand_30","edgeType":"call","label":"call","flowType":"ResolvedCommand"},{"from":"executeResolvedCommand_30","to":"executeStep_17","edgeType":"return","label":"return","flowType":"ResolvedCommand"},{"from":"extractSelectorSpecOrFail_202","to":"errAsync_203","edgeType":"call","label":"call","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"errAsync_203","to":"extractSelectorSpecOrFail_202","edgeType":"return","label":"return","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"extractSelectorSpecOrFail_202","to":"okAsync_204","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"okAsync_204","to":"extractSelectorSpecOrFail_202","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"extractSelectorSpecOrFail_202","to":"match_205","edgeType":"call","label":"call","flowType":"ExtractSelectorResult"},{"from":"match_205","to":"extractSelectorSpecOrFail_202","edgeType":"return","label":"return","flowType":"ExtractSelectorResult"},{"from":"extractSelectorSpec_206","to":"match_207","edgeType":"call","label":"call","flowType":"Command"},{"from":"match_207","to":"extractSelectorSpec_206","edgeType":"return","label":"return","flowType":"Command"},{"from":"extractSelectorSpecOrFail_202","to":"extractSelectorSpec_206","edgeType":"call","label":"call","flowType":"Command"},{"from":"extractSelectorSpec_206","to":"extractSelectorSpecOrFail_202","edgeType":"return","label":"return","flowType":"Command"},{"from":"processSelectorWait_201","to":"extractSelectorSpecOrFail_202","edgeType":"call","label":"call","flowType":"ScrollIntoViewCommand"},{"from":"extractSelectorSpecOrFail_202","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"ScrollIntoViewCommand"},{"from":"toWaitableSelectorSpec_209","to":"errAsync_210","edgeType":"call","label":"call","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"errAsync_210","to":"toWaitableSelectorSpec_209","edgeType":"return","label":"return","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"toWaitableSelectorSpec_209","to":"okAsync_211","edgeType":"call","label":"call","flowType":"{ xpath: string & Brand<\"XpathSelector\">; }"},{"from":"okAsync_211","to":"toWaitableSelectorSpec_209","edgeType":"return","label":"return","flowType":"{ xpath: string & Brand<\"XpathSelector\">; }"},{"from":"toWaitableSelectorSpec_209","to":"match_212","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"match_212","to":"toWaitableSelectorSpec_209","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"processDirectOrWaitSelector_208","to":"toWaitableSelectorSpec_209","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"toWaitableSelectorSpec_209","to":"processDirectOrWaitSelector_208","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"waitResultToResolvedSelectorSpec_214","to":"match_215","edgeType":"call","label":"call","flowType":"WaitResult"},{"from":"match_215","to":"waitResultToResolvedSelectorSpec_214","edgeType":"return","label":"return","flowType":"WaitResult"},{"from":"processWaitableSelector_213","to":"waitResultToResolvedSelectorSpec_214","edgeType":"call","label":"call","flowType":"WaitResult"},{"from":"waitResultToResolvedSelectorSpec_214","to":"processWaitableSelector_213","edgeType":"return","label":"return","flowType":"WaitResult"},{"from":"findMatchingRefId_219","to":"isMatchingElement_220","edgeType":"call","label":"call","flowType":"SnapshotRef"},{"from":"isMatchingElement_220","to":"findMatchingRefId_219","edgeType":"return","label":"return","flowType":"SnapshotRef"},{"from":"createTextToRefCheckFunc_218","to":"findMatchingRefId_219","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"findMatchingRefId_219","to":"createTextToRefCheckFunc_218","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"createTextToRefCheckFunc_218","to":"match_221","edgeType":"call","label":"call","flowType":"MatchResult"},{"from":"match_221","to":"createTextToRefCheckFunc_218","edgeType":"return","label":"return","flowType":"MatchResult"},{"from":"createTextToRefCheckFunc_218","to":"asRefSelector_222","edgeType":"call","label":"call","flowType":"string"},{"from":"asRefSelector_222","to":"createTextToRefCheckFunc_218","edgeType":"return","label":"return","flowType":"string"},{"from":"createTextToRefCheckFunc_218","to":"browserSnapshot_223","edgeType":"call","label":"call","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"browserSnapshot_223","to":"createTextToRefCheckFunc_218","edgeType":"return","label":"return","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"waitForTextAndResolveRef_217","to":"createTextToRefCheckFunc_218","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"createTextToRefCheckFunc_218","to":"waitForTextAndResolveRef_217","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"executePollIteration_226","to":"okAsync_227","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_227","to":"executePollIteration_226","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_226","to":"errAsync_228","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_228","to":"executePollIteration_226","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_226","to":"createTimeoutError_229","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_229","to":"executePollIteration_226","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_225","to":"executePollIteration_226","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_226","to":"pollRecursively_225","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_230","to":"okAsync_231","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_231","to":"handlePollResult_230","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_230","to":"continuePolling_232","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_232","to":"handlePollResult_230","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"handlePollResult_230","to":"sleepAndPollNext_233","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_233","to":"handlePollResult_230","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_225","to":"handlePollResult_230","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_230","to":"pollRecursively_225","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_224","to":"pollRecursively_225","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_225","to":"waitUntil_224","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForTextAndResolveRef_217","to":"waitUntil_224","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"from":"waitUntil_224","to":"waitForTextAndResolveRef_217","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"from":"waitForSelector_216","to":"waitForTextAndResolveRef_217","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"waitForTextAndResolveRef_217","to":"waitForSelector_216","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"waitForXpathSelector_234","to":"asCliXpathSelector_235","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_235","to":"waitForXpathSelector_234","edgeType":"return","label":"return","flowType":"string"},{"from":"waitForXpathSelector_234","to":"okAsync_236","edgeType":"call","label":"call","flowType":"true"},{"from":"okAsync_236","to":"waitForXpathSelector_234","edgeType":"return","label":"return","flowType":"true"},{"from":"createVisibilityCheckFunc_237","to":"browserIsVisible_238","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_238","to":"createVisibilityCheckFunc_237","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"waitForXpathSelector_234","to":"createVisibilityCheckFunc_237","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"createVisibilityCheckFunc_237","to":"waitForXpathSelector_234","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"executePollIteration_241","to":"okAsync_242","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_242","to":"executePollIteration_241","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_241","to":"errAsync_243","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_243","to":"executePollIteration_241","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_241","to":"createTimeoutError_244","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_244","to":"executePollIteration_241","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_240","to":"executePollIteration_241","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_241","to":"pollRecursively_240","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_245","to":"okAsync_246","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_246","to":"handlePollResult_245","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_245","to":"continuePolling_247","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_247","to":"handlePollResult_245","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"handlePollResult_245","to":"sleepAndPollNext_248","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_248","to":"handlePollResult_245","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_240","to":"handlePollResult_245","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_245","to":"pollRecursively_240","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_239","to":"pollRecursively_240","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_240","to":"waitUntil_239","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForXpathSelector_234","to":"waitUntil_239","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitUntil_239","to":"waitForXpathSelector_234","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitForSelector_216","to":"waitForXpathSelector_234","edgeType":"call","label":"call","flowType":"string & Brand<\"XpathSelector\">"},{"from":"waitForXpathSelector_234","to":"waitForSelector_216","edgeType":"return","label":"return","flowType":"string & Brand<\"XpathSelector\">"},{"from":"createVisibilityCheckFunc_250","to":"browserIsVisible_251","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_251","to":"createVisibilityCheckFunc_250","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"waitForCssSelector_249","to":"createVisibilityCheckFunc_250","edgeType":"call","label":"call","flowType":"string & Brand<\"CssSelector\">"},{"from":"createVisibilityCheckFunc_250","to":"waitForCssSelector_249","edgeType":"return","label":"return","flowType":"string & Brand<\"CssSelector\">"},{"from":"executePollIteration_254","to":"okAsync_255","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_255","to":"executePollIteration_254","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_254","to":"errAsync_256","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_256","to":"executePollIteration_254","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_254","to":"createTimeoutError_257","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_257","to":"executePollIteration_254","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_253","to":"executePollIteration_254","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_254","to":"pollRecursively_253","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_258","to":"okAsync_259","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_259","to":"handlePollResult_258","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_258","to":"continuePolling_260","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_260","to":"handlePollResult_258","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"handlePollResult_258","to":"sleepAndPollNext_261","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_261","to":"handlePollResult_258","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_253","to":"handlePollResult_258","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_258","to":"pollRecursively_253","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_252","to":"pollRecursively_253","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_253","to":"waitUntil_252","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForCssSelector_249","to":"waitUntil_252","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitUntil_252","to":"waitForCssSelector_249","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitForSelector_216","to":"waitForCssSelector_249","edgeType":"call","label":"call","flowType":"string & Brand<\"CssSelector\">"},{"from":"waitForCssSelector_249","to":"waitForSelector_216","edgeType":"return","label":"return","flowType":"string & Brand<\"CssSelector\">"},{"from":"waitForSelector_216","to":"match_262","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"match_262","to":"waitForSelector_216","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"processWaitableSelector_213","to":"waitForSelector_216","edgeType":"call","label":"call","flowType":"WaitableSelectorSpec"},{"from":"waitForSelector_216","to":"processWaitableSelector_213","edgeType":"return","label":"return","flowType":"WaitableSelectorSpec"},{"from":"getErrorMessage_263","to":"hasMessageField_264","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"hasMessageField_264","to":"getErrorMessage_263","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getCommandFailedFallback_265","to":"getCommandErrorFallback_266","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandErrorFallback_266","to":"getCommandFailedFallback_265","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandFailedFallback_265","to":"getAssertionFallback_267","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"getAssertionFallback_267","to":"getCommandFailedFallback_265","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"getCommandFailedFallback_265","to":"match_268","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"match_268","to":"getCommandFailedFallback_265","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getErrorMessage_263","to":"getCommandFailedFallback_265","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"getCommandFailedFallback_265","to":"getErrorMessage_263","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"processWaitableSelector_213","to":"getErrorMessage_263","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"getErrorMessage_263","to":"processWaitableSelector_213","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"processDirectOrWaitSelector_208","to":"processWaitableSelector_213","edgeType":"call","label":"call","flowType":"T"},{"from":"processWaitableSelector_213","to":"processDirectOrWaitSelector_208","edgeType":"return","label":"return","flowType":"T"},{"from":"processDirectOrWaitSelector_208","to":"okAsync_269","edgeType":"call","label":"call","flowType":"ResolvedCommand"},{"from":"okAsync_269","to":"processDirectOrWaitSelector_208","edgeType":"return","label":"return","flowType":"ResolvedCommand"},{"from":"processDirectOrWaitSelector_208","to":"match_270","edgeType":"call","label":"call","flowType":"DirectResolveResult"},{"from":"match_270","to":"processDirectOrWaitSelector_208","edgeType":"return","label":"return","flowType":"DirectResolveResult"},{"from":"tryDirectResolve_271","to":"match_272","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"match_272","to":"tryDirectResolve_271","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"processDirectOrWaitSelector_208","to":"tryDirectResolve_271","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"tryDirectResolve_271","to":"processDirectOrWaitSelector_208","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"processSelectorWait_201","to":"processDirectOrWaitSelector_208","edgeType":"call","label":"call","flowType":"ScrollIntoViewCommand"},{"from":"processDirectOrWaitSelector_208","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"ScrollIntoViewCommand"},{"from":"extractWaitableSelectorSpecOrFail_273","to":"errAsync_274","edgeType":"call","label":"call","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"errAsync_274","to":"extractWaitableSelectorSpecOrFail_273","edgeType":"return","label":"return","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"extractWaitableSelectorSpecOrFail_273","to":"okAsync_275","edgeType":"call","label":"call","flowType":"{ xpath: string & Brand<\"XpathSelector\">; }"},{"from":"okAsync_275","to":"extractWaitableSelectorSpecOrFail_273","edgeType":"return","label":"return","flowType":"{ xpath: string & Brand<\"XpathSelector\">; }"},{"from":"extractWaitableSelectorSpecOrFail_273","to":"match_276","edgeType":"call","label":"call","flowType":"ExtractSelectorResult"},{"from":"match_276","to":"extractWaitableSelectorSpecOrFail_273","edgeType":"return","label":"return","flowType":"ExtractSelectorResult"},{"from":"extractSelectorSpec_277","to":"match_278","edgeType":"call","label":"call","flowType":"Command"},{"from":"match_278","to":"extractSelectorSpec_277","edgeType":"return","label":"return","flowType":"Command"},{"from":"extractWaitableSelectorSpecOrFail_273","to":"extractSelectorSpec_277","edgeType":"call","label":"call","flowType":"Command"},{"from":"extractSelectorSpec_277","to":"extractWaitableSelectorSpecOrFail_273","edgeType":"return","label":"return","flowType":"Command"},{"from":"processSelectorWait_201","to":"extractWaitableSelectorSpecOrFail_273","edgeType":"call","label":"call","flowType":"AssertCheckedCommand"},{"from":"extractWaitableSelectorSpecOrFail_273","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"AssertCheckedCommand"},{"from":"waitResultToResolvedSelectorSpec_280","to":"match_281","edgeType":"call","label":"call","flowType":"WaitResult"},{"from":"match_281","to":"waitResultToResolvedSelectorSpec_280","edgeType":"return","label":"return","flowType":"WaitResult"},{"from":"processWaitableSelector_279","to":"waitResultToResolvedSelectorSpec_280","edgeType":"call","label":"call","flowType":"WaitResult"},{"from":"waitResultToResolvedSelectorSpec_280","to":"processWaitableSelector_279","edgeType":"return","label":"return","flowType":"WaitResult"},{"from":"findMatchingRefId_285","to":"isMatchingElement_286","edgeType":"call","label":"call","flowType":"SnapshotRef"},{"from":"isMatchingElement_286","to":"findMatchingRefId_285","edgeType":"return","label":"return","flowType":"SnapshotRef"},{"from":"createTextToRefCheckFunc_284","to":"findMatchingRefId_285","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"findMatchingRefId_285","to":"createTextToRefCheckFunc_284","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"createTextToRefCheckFunc_284","to":"match_287","edgeType":"call","label":"call","flowType":"MatchResult"},{"from":"match_287","to":"createTextToRefCheckFunc_284","edgeType":"return","label":"return","flowType":"MatchResult"},{"from":"createTextToRefCheckFunc_284","to":"asRefSelector_288","edgeType":"call","label":"call","flowType":"string"},{"from":"asRefSelector_288","to":"createTextToRefCheckFunc_284","edgeType":"return","label":"return","flowType":"string"},{"from":"createTextToRefCheckFunc_284","to":"browserSnapshot_289","edgeType":"call","label":"call","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"browserSnapshot_289","to":"createTextToRefCheckFunc_284","edgeType":"return","label":"return","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"waitForTextAndResolveRef_283","to":"createTextToRefCheckFunc_284","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"createTextToRefCheckFunc_284","to":"waitForTextAndResolveRef_283","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"executePollIteration_292","to":"okAsync_293","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_293","to":"executePollIteration_292","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_292","to":"errAsync_294","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_294","to":"executePollIteration_292","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_292","to":"createTimeoutError_295","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_295","to":"executePollIteration_292","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_291","to":"executePollIteration_292","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_292","to":"pollRecursively_291","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_296","to":"okAsync_297","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_297","to":"handlePollResult_296","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_296","to":"continuePolling_298","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_298","to":"handlePollResult_296","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_299","to":"sleep_300","edgeType":"call","label":"call","flowType":"number"},{"from":"sleep_300","to":"sleepAndPollNext_299","edgeType":"return","label":"return","flowType":"number"},{"from":"handlePollResult_296","to":"sleepAndPollNext_299","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_299","to":"handlePollResult_296","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_291","to":"handlePollResult_296","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_296","to":"pollRecursively_291","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_290","to":"pollRecursively_291","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_291","to":"waitUntil_290","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForTextAndResolveRef_283","to":"waitUntil_290","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"from":"waitUntil_290","to":"waitForTextAndResolveRef_283","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"from":"waitForSelector_282","to":"waitForTextAndResolveRef_283","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"waitForTextAndResolveRef_283","to":"waitForSelector_282","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"waitForXpathSelector_301","to":"asCliXpathSelector_302","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_302","to":"waitForXpathSelector_301","edgeType":"return","label":"return","flowType":"string"},{"from":"waitForXpathSelector_301","to":"okAsync_303","edgeType":"call","label":"call","flowType":"true"},{"from":"okAsync_303","to":"waitForXpathSelector_301","edgeType":"return","label":"return","flowType":"true"},{"from":"createVisibilityCheckFunc_304","to":"browserIsVisible_305","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_305","to":"createVisibilityCheckFunc_304","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"waitForXpathSelector_301","to":"createVisibilityCheckFunc_304","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"createVisibilityCheckFunc_304","to":"waitForXpathSelector_301","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"executePollIteration_308","to":"okAsync_309","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_309","to":"executePollIteration_308","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_308","to":"errAsync_310","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_310","to":"executePollIteration_308","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_308","to":"createTimeoutError_311","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_311","to":"executePollIteration_308","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_307","to":"executePollIteration_308","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_308","to":"pollRecursively_307","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_312","to":"okAsync_313","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_313","to":"handlePollResult_312","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_312","to":"continuePolling_314","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_314","to":"handlePollResult_312","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_315","to":"sleep_316","edgeType":"call","label":"call","flowType":"number"},{"from":"sleep_316","to":"sleepAndPollNext_315","edgeType":"return","label":"return","flowType":"number"},{"from":"handlePollResult_312","to":"sleepAndPollNext_315","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_315","to":"handlePollResult_312","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_307","to":"handlePollResult_312","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_312","to":"pollRecursively_307","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_306","to":"pollRecursively_307","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_307","to":"waitUntil_306","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForXpathSelector_301","to":"waitUntil_306","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitUntil_306","to":"waitForXpathSelector_301","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitForSelector_282","to":"waitForXpathSelector_301","edgeType":"call","label":"call","flowType":"string & Brand<\"XpathSelector\">"},{"from":"waitForXpathSelector_301","to":"waitForSelector_282","edgeType":"return","label":"return","flowType":"string & Brand<\"XpathSelector\">"},{"from":"createVisibilityCheckFunc_318","to":"browserIsVisible_319","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_319","to":"createVisibilityCheckFunc_318","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"waitForCssSelector_317","to":"createVisibilityCheckFunc_318","edgeType":"call","label":"call","flowType":"string & Brand<\"CssSelector\">"},{"from":"createVisibilityCheckFunc_318","to":"waitForCssSelector_317","edgeType":"return","label":"return","flowType":"string & Brand<\"CssSelector\">"},{"from":"executePollIteration_322","to":"okAsync_323","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_323","to":"executePollIteration_322","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_322","to":"errAsync_324","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_324","to":"executePollIteration_322","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_322","to":"createTimeoutError_325","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_325","to":"executePollIteration_322","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_321","to":"executePollIteration_322","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_322","to":"pollRecursively_321","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_326","to":"okAsync_327","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_327","to":"handlePollResult_326","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_326","to":"continuePolling_328","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_328","to":"handlePollResult_326","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_329","to":"sleep_330","edgeType":"call","label":"call","flowType":"number"},{"from":"sleep_330","to":"sleepAndPollNext_329","edgeType":"return","label":"return","flowType":"number"},{"from":"handlePollResult_326","to":"sleepAndPollNext_329","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_329","to":"handlePollResult_326","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_321","to":"handlePollResult_326","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_326","to":"pollRecursively_321","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_320","to":"pollRecursively_321","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_321","to":"waitUntil_320","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForCssSelector_317","to":"waitUntil_320","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitUntil_320","to":"waitForCssSelector_317","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitForSelector_282","to":"waitForCssSelector_317","edgeType":"call","label":"call","flowType":"string & Brand<\"CssSelector\">"},{"from":"waitForCssSelector_317","to":"waitForSelector_282","edgeType":"return","label":"return","flowType":"string & Brand<\"CssSelector\">"},{"from":"waitForSelector_282","to":"match_331","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"match_331","to":"waitForSelector_282","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"processWaitableSelector_279","to":"waitForSelector_282","edgeType":"call","label":"call","flowType":"WaitableSelectorSpec"},{"from":"waitForSelector_282","to":"processWaitableSelector_279","edgeType":"return","label":"return","flowType":"WaitableSelectorSpec"},{"from":"getErrorMessage_332","to":"hasMessageField_333","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"hasMessageField_333","to":"getErrorMessage_332","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getCommandFailedFallback_334","to":"getCommandErrorFallback_335","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandErrorFallback_335","to":"getCommandFailedFallback_334","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandFailedFallback_334","to":"getAssertionFallback_336","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"getAssertionFallback_336","to":"getCommandFailedFallback_334","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"getCommandFailedFallback_334","to":"match_337","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"match_337","to":"getCommandFailedFallback_334","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getErrorMessage_332","to":"getCommandFailedFallback_334","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"getCommandFailedFallback_334","to":"getErrorMessage_332","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"processWaitableSelector_279","to":"getErrorMessage_332","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"getErrorMessage_332","to":"processWaitableSelector_279","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"processSelectorWait_201","to":"processWaitableSelector_279","edgeType":"call","label":"call","flowType":"AssertCheckedCommand"},{"from":"processWaitableSelector_279","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"AssertCheckedCommand"},{"from":"processSelectorWait_201","to":"okAsync_338","edgeType":"call","label":"call","flowType":"EvalCommand"},{"from":"okAsync_338","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"EvalCommand"},{"from":"processSelectorWait_201","to":"match_339","edgeType":"call","label":"call","flowType":"Command"},{"from":"match_339","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"Command"},{"from":"processSelectorWait_201","to":"resolveClick_340","edgeType":"call","label":"call","flowType":"ClickCommand"},{"from":"resolveClick_340","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"ClickCommand"},{"from":"processSelectorWait_201","to":"resolveType_341","edgeType":"call","label":"call","flowType":"TypeCommand"},{"from":"resolveType_341","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"TypeCommand"},{"from":"processSelectorWait_201","to":"resolveFill_342","edgeType":"call","label":"call","flowType":"FillCommand"},{"from":"resolveFill_342","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"FillCommand"},{"from":"processSelectorWait_201","to":"resolveHover_343","edgeType":"call","label":"call","flowType":"HoverCommand"},{"from":"resolveHover_343","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"HoverCommand"},{"from":"processSelectorWait_201","to":"resolveSelect_344","edgeType":"call","label":"call","flowType":"SelectCommand"},{"from":"resolveSelect_344","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"SelectCommand"},{"from":"processSelectorWait_201","to":"resolveAssertEnabled_345","edgeType":"call","label":"call","flowType":"AssertEnabledCommand"},{"from":"resolveAssertEnabled_345","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"AssertEnabledCommand"},{"from":"processSelectorWait_201","to":"resolveAssertChecked_346","edgeType":"call","label":"call","flowType":"AssertCheckedCommand"},{"from":"resolveAssertChecked_346","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"AssertCheckedCommand"},{"from":"processSelectorWait_201","to":"resolveAssertVisible_347","edgeType":"call","label":"call","flowType":"AssertVisibleCommand"},{"from":"resolveAssertVisible_347","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"AssertVisibleCommand"},{"from":"processSelectorWait_201","to":"resolveAssertNotVisible_348","edgeType":"call","label":"call","flowType":"AssertNotVisibleCommand"},{"from":"resolveAssertNotVisible_348","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"AssertNotVisibleCommand"},{"from":"processSelectorWait_201","to":"resolveScrollIntoView_349","edgeType":"call","label":"call","flowType":"ScrollIntoViewCommand"},{"from":"resolveScrollIntoView_349","to":"processSelectorWait_201","edgeType":"return","label":"return","flowType":"ScrollIntoViewCommand"},{"from":"executeStep_17","to":"processSelectorWait_201","edgeType":"call","label":"call","flowType":"Command"},{"from":"processSelectorWait_201","to":"executeStep_17","edgeType":"return","label":"return","flowType":"Command"},{"from":"executeAllSteps_15","to":"executeStep_17","edgeType":"call","label":"call","flowType":"Command"},{"from":"executeStep_17","to":"executeAllSteps_15","edgeType":"return","label":"return","flowType":"Command"},{"from":"executeAllSteps_15","to":"ok_350","edgeType":"call","label":"call","flowType":"FailedFlowResult"},{"from":"ok_350","to":"executeAllSteps_15","edgeType":"return","label":"return","flowType":"FailedFlowResult"},{"from":"executeAllSteps_15","to":"buildFailedFlowResult_351","edgeType":"call","label":"call","flowType":"Flow"},{"from":"buildFailedFlowResult_351","to":"executeAllSteps_15","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeFlow_8","to":"executeAllSteps_15","edgeType":"call","label":"call","flowType":"Flow"},{"from":"executeAllSteps_15","to":"executeFlow_8","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeSingleFlow_4","to":"executeFlow_8","edgeType":"call","label":"call","flowType":"Flow"},{"from":"executeFlow_8","to":"executeSingleFlow_4","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeSingleFlow_4","to":"browserClose_352","edgeType":"call","label":"call","flowType":"string"},{"from":"browserClose_352","to":"executeSingleFlow_4","edgeType":"return","label":"return","flowType":"string"},{"from":"executeSingleFlow_4","to":"getScreenshotPath_353","edgeType":"call","label":"call","flowType":"ScreenshotResult"},{"from":"getScreenshotPath_353","to":"executeSingleFlow_4","edgeType":"return","label":"return","flowType":"ScreenshotResult"},{"from":"executeAllFlowsParallel_2","to":"executeSingleFlow_4","edgeType":"call","label":"call","flowType":"Flow"},{"from":"executeSingleFlow_4","to":"executeAllFlowsParallel_2","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeAllFlows_1","to":"executeAllFlowsParallel_2","edgeType":"call","label":"call","flowType":"readonly Flow[]"},{"from":"executeAllFlowsParallel_2","to":"executeAllFlows_1","edgeType":"return","label":"return","flowType":"readonly Flow[]"},{"from":"executeSingleFlow_355","to":"generateSessionName_356","edgeType":"call","label":"call","flowType":"string"},{"from":"generateSessionName_356","to":"executeSingleFlow_355","edgeType":"return","label":"return","flowType":"string"},{"from":"executeSingleFlow_355","to":"notifyFlowProgress_357","edgeType":"call","label":"call","flowType":"RunFlowsInput"},{"from":"notifyFlowProgress_357","to":"executeSingleFlow_355","edgeType":"return","label":"return","flowType":"RunFlowsInput"},{"from":"executeSingleFlow_355","to":"buildFlowExecutionOptions_358","edgeType":"call","label":"call","flowType":"string"},{"from":"buildFlowExecutionOptions_358","to":"executeSingleFlow_355","edgeType":"return","label":"return","flowType":"string"},{"from":"executeFlow_359","to":"buildExecutionContext_360","edgeType":"call","label":"call","flowType":"FlowExecutionOptions"},{"from":"buildExecutionContext_360","to":"executeFlow_359","edgeType":"return","label":"return","flowType":"FlowExecutionOptions"},{"from":"executeFlow_359","to":"okAsync_361","edgeType":"call","label":"call","flowType":"FlowResult"},{"from":"okAsync_361","to":"executeFlow_359","edgeType":"return","label":"return","flowType":"FlowResult"},{"from":"executeFlow_359","to":"errAsync_362","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_362","to":"executeFlow_359","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executeFlow_359","to":"isFailedStepResult_363","edgeType":"call","label":"call","flowType":"StepResult"},{"from":"isFailedStepResult_363","to":"executeFlow_359","edgeType":"return","label":"return","flowType":"StepResult"},{"from":"executeFlow_359","to":"buildFailedFlowResult_364","edgeType":"call","label":"call","flowType":"Flow"},{"from":"buildFailedFlowResult_364","to":"executeFlow_359","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeFlow_359","to":"buildSuccessFlowResult_365","edgeType":"call","label":"call","flowType":"Flow"},{"from":"buildSuccessFlowResult_365","to":"executeFlow_359","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeAllSteps_366","to":"isStepProgressCallback_367","edgeType":"call","label":"call","flowType":"StepProgressCallback | { readonly _brand: \"NoCallback\"; }"},{"from":"isStepProgressCallback_367","to":"executeAllSteps_366","edgeType":"return","label":"return","flowType":"StepProgressCallback | { readonly _brand: \"NoCallback\"; }"},{"from":"takeErrorScreenshot_369","to":"getAgentBrowserErrorMessage_370","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"getAgentBrowserErrorMessage_370","to":"takeErrorScreenshot_369","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"captureErrorScreenshot_371","to":"browserScreenshot_372","edgeType":"call","label":"call","flowType":"string & Brand<\"FilePath\">"},{"from":"browserScreenshot_372","to":"captureErrorScreenshot_371","edgeType":"return","label":"return","flowType":"string & Brand<\"FilePath\">"},{"from":"captureErrorScreenshot_371","to":"asFilePath_373","edgeType":"call","label":"call","flowType":"string"},{"from":"asFilePath_373","to":"captureErrorScreenshot_371","edgeType":"return","label":"return","flowType":"string"},{"from":"takeErrorScreenshot_369","to":"captureErrorScreenshot_371","edgeType":"call","label":"call","flowType":"ExecutionContext"},{"from":"captureErrorScreenshot_371","to":"takeErrorScreenshot_369","edgeType":"return","label":"return","flowType":"ExecutionContext"},{"from":"executeStep_368","to":"takeErrorScreenshot_369","edgeType":"call","label":"call","flowType":"ExecutionContext"},{"from":"takeErrorScreenshot_369","to":"executeStep_368","edgeType":"return","label":"return","flowType":"ExecutionContext"},{"from":"executeStep_368","to":"match_374","edgeType":"call","label":"call","flowType":"SelectorWaitFailure | ExecutorError"},{"from":"match_374","to":"executeStep_368","edgeType":"return","label":"return","flowType":"SelectorWaitFailure | ExecutorError"},{"from":"getErrorMessage_375","to":"hasMessageField_376","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"hasMessageField_376","to":"getErrorMessage_375","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getCommandFailedFallback_377","to":"getCommandErrorFallback_378","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandErrorFallback_378","to":"getCommandFailedFallback_377","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandFailedFallback_377","to":"getAssertionFallback_379","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"getAssertionFallback_379","to":"getCommandFailedFallback_377","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"getCommandFailedFallback_377","to":"match_380","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"match_380","to":"getCommandFailedFallback_377","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getErrorMessage_375","to":"getCommandFailedFallback_377","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"getCommandFailedFallback_377","to":"getErrorMessage_375","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"executeStep_368","to":"getErrorMessage_375","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"getErrorMessage_375","to":"executeStep_368","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getSelectorString_384","to":"match_385","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_385","to":"getSelectorString_384","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorForErrorMessage_383","to":"getSelectorString_384","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorString_384","to":"getSelectorForErrorMessage_383","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertChecked_382","to":"getSelectorForErrorMessage_383","edgeType":"call","label":"call","flowType":"ResolvedAssertCheckedCommand"},{"from":"getSelectorForErrorMessage_383","to":"handleAssertChecked_382","edgeType":"return","label":"return","flowType":"ResolvedAssertCheckedCommand"},{"from":"checkChecked_386","to":"errAsync_387","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"errAsync_387","to":"checkChecked_386","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"checkChecked_386","to":"okAsync_388","edgeType":"call","label":"call","flowType":"{ stdout: string; duration: number; }"},{"from":"okAsync_388","to":"checkChecked_386","edgeType":"return","label":"return","flowType":"{ stdout: string; duration: number; }"},{"from":"handleAssertChecked_382","to":"checkChecked_386","edgeType":"call","label":"call","flowType":"string"},{"from":"checkChecked_386","to":"handleAssertChecked_382","edgeType":"return","label":"return","flowType":"string"},{"from":"handleAssertChecked_382","to":"browserIsChecked_389","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsChecked_389","to":"handleAssertChecked_382","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_390","to":"asCliXpathSelector_391","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_391","to":"resolveCliSelector_390","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_390","to":"okAsync_392","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_392","to":"resolveCliSelector_390","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_390","to":"errAsync_393","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_393","to":"resolveCliSelector_390","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_390","to":"asCliTextSelector_394","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_394","to":"resolveCliSelector_390","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_390","to":"match_395","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_395","to":"resolveCliSelector_390","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertChecked_382","to":"resolveCliSelector_390","edgeType":"call","label":"call","flowType":"ResolvedAssertCheckedCommand"},{"from":"resolveCliSelector_390","to":"handleAssertChecked_382","edgeType":"return","label":"return","flowType":"ResolvedAssertCheckedCommand"},{"from":"executeResolvedCommand_381","to":"handleAssertChecked_382","edgeType":"call","label":"call","flowType":"ResolvedAssertCheckedCommand"},{"from":"handleAssertChecked_382","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedAssertCheckedCommand"},{"from":"getSelectorString_398","to":"match_399","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_399","to":"getSelectorString_398","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorForErrorMessage_397","to":"getSelectorString_398","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorString_398","to":"getSelectorForErrorMessage_397","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertEnabled_396","to":"getSelectorForErrorMessage_397","edgeType":"call","label":"call","flowType":"ResolvedAssertEnabledCommand"},{"from":"getSelectorForErrorMessage_397","to":"handleAssertEnabled_396","edgeType":"return","label":"return","flowType":"ResolvedAssertEnabledCommand"},{"from":"checkEnabled_400","to":"errAsync_401","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"errAsync_401","to":"checkEnabled_400","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"checkEnabled_400","to":"okAsync_402","edgeType":"call","label":"call","flowType":"{ stdout: string; duration: number; }"},{"from":"okAsync_402","to":"checkEnabled_400","edgeType":"return","label":"return","flowType":"{ stdout: string; duration: number; }"},{"from":"handleAssertEnabled_396","to":"checkEnabled_400","edgeType":"call","label":"call","flowType":"string"},{"from":"checkEnabled_400","to":"handleAssertEnabled_396","edgeType":"return","label":"return","flowType":"string"},{"from":"handleAssertEnabled_396","to":"browserIsEnabled_403","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsEnabled_403","to":"handleAssertEnabled_396","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_404","to":"asCliXpathSelector_405","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_405","to":"resolveCliSelector_404","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_404","to":"okAsync_406","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_406","to":"resolveCliSelector_404","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_404","to":"errAsync_407","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_407","to":"resolveCliSelector_404","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_404","to":"asCliTextSelector_408","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_408","to":"resolveCliSelector_404","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_404","to":"match_409","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_409","to":"resolveCliSelector_404","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertEnabled_396","to":"resolveCliSelector_404","edgeType":"call","label":"call","flowType":"ResolvedAssertEnabledCommand"},{"from":"resolveCliSelector_404","to":"handleAssertEnabled_396","edgeType":"return","label":"return","flowType":"ResolvedAssertEnabledCommand"},{"from":"executeResolvedCommand_381","to":"handleAssertEnabled_396","edgeType":"call","label":"call","flowType":"ResolvedAssertEnabledCommand"},{"from":"handleAssertEnabled_396","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedAssertEnabledCommand"},{"from":"getSelectorString_411","to":"match_412","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_412","to":"getSelectorString_411","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertNotVisible_410","to":"getSelectorString_411","edgeType":"call","label":"call","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"getSelectorString_411","to":"handleAssertNotVisible_410","edgeType":"return","label":"return","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"isTextSelector_413","to":"match_414","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_414","to":"isTextSelector_413","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertNotVisible_410","to":"isTextSelector_413","edgeType":"call","label":"call","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"isTextSelector_413","to":"handleAssertNotVisible_410","edgeType":"return","label":"return","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"checkTextNotVisible_416","to":"browserWaitForText_417","edgeType":"call","label":"call","flowType":"string"},{"from":"browserWaitForText_417","to":"checkTextNotVisible_416","edgeType":"return","label":"return","flowType":"string"},{"from":"checkTextNotVisible_416","to":"errAsync_418","edgeType":"call","label":"call","flowType":"{ type: \"assertion_failed\"; message: string; command: string; selector: string; expected: boolean; actual: boolean; }"},{"from":"errAsync_418","to":"checkTextNotVisible_416","edgeType":"return","label":"return","flowType":"{ type: \"assertion_failed\"; message: string; command: string; selector: string; expected: boolean; actual: boolean; }"},{"from":"checkTextNotVisible_416","to":"okAsync_419","edgeType":"call","label":"call","flowType":"{ stdout: string; duration: number; }"},{"from":"okAsync_419","to":"checkTextNotVisible_416","edgeType":"return","label":"return","flowType":"{ stdout: string; duration: number; }"},{"from":"handleTextSelectorNotVisible_415","to":"checkTextNotVisible_416","edgeType":"call","label":"call","flowType":"string"},{"from":"checkTextNotVisible_416","to":"handleTextSelectorNotVisible_415","edgeType":"return","label":"return","flowType":"string"},{"from":"waitForPageStable_420","to":"browserWaitForNetworkIdle_421","edgeType":"call","label":"call","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"browserWaitForNetworkIdle_421","to":"waitForPageStable_420","edgeType":"return","label":"return","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"handleTextSelectorNotVisible_415","to":"waitForPageStable_420","edgeType":"call","label":"call","flowType":"ExecutionContext"},{"from":"waitForPageStable_420","to":"handleTextSelectorNotVisible_415","edgeType":"return","label":"return","flowType":"ExecutionContext"},{"from":"handleAssertNotVisible_410","to":"handleTextSelectorNotVisible_415","edgeType":"call","label":"call","flowType":"string"},{"from":"handleTextSelectorNotVisible_415","to":"handleAssertNotVisible_410","edgeType":"return","label":"return","flowType":"string"},{"from":"getAndCheckNotVisible_422","to":"browserIsVisible_423","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_423","to":"getAndCheckNotVisible_422","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"getSelectorString_425","to":"match_426","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_426","to":"getSelectorString_425","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorForErrorMessage_424","to":"getSelectorString_425","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorString_425","to":"getSelectorForErrorMessage_424","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getAndCheckNotVisible_422","to":"getSelectorForErrorMessage_424","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"getSelectorForErrorMessage_424","to":"getAndCheckNotVisible_422","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"resolveCliSelector_427","to":"asCliXpathSelector_428","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_428","to":"resolveCliSelector_427","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_427","to":"okAsync_429","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_429","to":"resolveCliSelector_427","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_427","to":"errAsync_430","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_430","to":"resolveCliSelector_427","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_427","to":"asCliTextSelector_431","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_431","to":"resolveCliSelector_427","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_427","to":"match_432","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_432","to":"resolveCliSelector_427","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getAndCheckNotVisible_422","to":"resolveCliSelector_427","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"resolveCliSelector_427","to":"getAndCheckNotVisible_422","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"checkNotVisible_433","to":"errAsync_434","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"errAsync_434","to":"checkNotVisible_433","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"checkNotVisible_433","to":"okAsync_435","edgeType":"call","label":"call","flowType":"{ stdout: string; duration: number; }"},{"from":"okAsync_435","to":"checkNotVisible_433","edgeType":"return","label":"return","flowType":"{ stdout: string; duration: number; }"},{"from":"getAndCheckNotVisible_422","to":"checkNotVisible_433","edgeType":"call","label":"call","flowType":"string"},{"from":"checkNotVisible_433","to":"getAndCheckNotVisible_422","edgeType":"return","label":"return","flowType":"string"},{"from":"handleAssertNotVisible_410","to":"getAndCheckNotVisible_422","edgeType":"call","label":"call","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"getAndCheckNotVisible_422","to":"handleAssertNotVisible_410","edgeType":"return","label":"return","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"waitForPageStable_436","to":"browserWaitForNetworkIdle_437","edgeType":"call","label":"call","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"browserWaitForNetworkIdle_437","to":"waitForPageStable_436","edgeType":"return","label":"return","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"handleAssertNotVisible_410","to":"waitForPageStable_436","edgeType":"call","label":"call","flowType":"ExecutionContext"},{"from":"waitForPageStable_436","to":"handleAssertNotVisible_410","edgeType":"return","label":"return","flowType":"ExecutionContext"},{"from":"executeResolvedCommand_381","to":"handleAssertNotVisible_410","edgeType":"call","label":"call","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"handleAssertNotVisible_410","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedAssertNotVisibleCommand"},{"from":"getSelectorString_439","to":"match_440","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_440","to":"getSelectorString_439","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertVisible_438","to":"getSelectorString_439","edgeType":"call","label":"call","flowType":"ResolvedAssertVisibleCommand"},{"from":"getSelectorString_439","to":"handleAssertVisible_438","edgeType":"return","label":"return","flowType":"ResolvedAssertVisibleCommand"},{"from":"isTextSelector_441","to":"match_442","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_442","to":"isTextSelector_441","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleAssertVisible_438","to":"isTextSelector_441","edgeType":"call","label":"call","flowType":"ResolvedAssertVisibleCommand"},{"from":"isTextSelector_441","to":"handleAssertVisible_438","edgeType":"return","label":"return","flowType":"ResolvedAssertVisibleCommand"},{"from":"handleTextSelectorVisible_443","to":"browserWaitForText_444","edgeType":"call","label":"call","flowType":"string"},{"from":"browserWaitForText_444","to":"handleTextSelectorVisible_443","edgeType":"return","label":"return","flowType":"string"},{"from":"handleAssertVisible_438","to":"handleTextSelectorVisible_443","edgeType":"call","label":"call","flowType":"string"},{"from":"handleTextSelectorVisible_443","to":"handleAssertVisible_438","edgeType":"return","label":"return","flowType":"string"},{"from":"isTextSelector_446","to":"match_447","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_447","to":"isTextSelector_446","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"waitForElement_445","to":"isTextSelector_446","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"isTextSelector_446","to":"waitForElement_445","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"getSelectorString_448","to":"match_449","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_449","to":"getSelectorString_448","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"waitForElement_445","to":"getSelectorString_448","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"getSelectorString_448","to":"waitForElement_445","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"waitForElement_445","to":"browserWaitForText_450","edgeType":"call","label":"call","flowType":"string"},{"from":"browserWaitForText_450","to":"waitForElement_445","edgeType":"return","label":"return","flowType":"string"},{"from":"waitForElement_445","to":"browserWaitForSelector_451","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserWaitForSelector_451","to":"waitForElement_445","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_452","to":"asCliXpathSelector_453","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_453","to":"resolveCliSelector_452","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_452","to":"okAsync_454","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_454","to":"resolveCliSelector_452","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_452","to":"errAsync_455","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_455","to":"resolveCliSelector_452","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_452","to":"asCliTextSelector_456","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_456","to":"resolveCliSelector_452","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_452","to":"match_457","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_457","to":"resolveCliSelector_452","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"waitForElement_445","to":"resolveCliSelector_452","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"resolveCliSelector_452","to":"waitForElement_445","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"handleAssertVisible_438","to":"waitForElement_445","edgeType":"call","label":"call","flowType":"ResolvedAssertVisibleCommand"},{"from":"waitForElement_445","to":"handleAssertVisible_438","edgeType":"return","label":"return","flowType":"ResolvedAssertVisibleCommand"},{"from":"getAndCheckVisibility_458","to":"browserIsVisible_459","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_459","to":"getAndCheckVisibility_458","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"getSelectorString_461","to":"match_462","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_462","to":"getSelectorString_461","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorForErrorMessage_460","to":"getSelectorString_461","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getSelectorString_461","to":"getSelectorForErrorMessage_460","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getAndCheckVisibility_458","to":"getSelectorForErrorMessage_460","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"getSelectorForErrorMessage_460","to":"getAndCheckVisibility_458","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"resolveCliSelector_463","to":"asCliXpathSelector_464","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_464","to":"resolveCliSelector_463","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_463","to":"okAsync_465","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_465","to":"resolveCliSelector_463","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_463","to":"errAsync_466","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_466","to":"resolveCliSelector_463","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_463","to":"asCliTextSelector_467","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_467","to":"resolveCliSelector_463","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_463","to":"match_468","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_468","to":"resolveCliSelector_463","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"getAndCheckVisibility_458","to":"resolveCliSelector_463","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec"},{"from":"resolveCliSelector_463","to":"getAndCheckVisibility_458","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec"},{"from":"checkVisibility_469","to":"errAsync_470","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"errAsync_470","to":"checkVisibility_469","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"checkVisibility_469","to":"okAsync_471","edgeType":"call","label":"call","flowType":"{ stdout: string; duration: number; }"},{"from":"okAsync_471","to":"checkVisibility_469","edgeType":"return","label":"return","flowType":"{ stdout: string; duration: number; }"},{"from":"getAndCheckVisibility_458","to":"checkVisibility_469","edgeType":"call","label":"call","flowType":"string"},{"from":"checkVisibility_469","to":"getAndCheckVisibility_458","edgeType":"return","label":"return","flowType":"string"},{"from":"handleAssertVisible_438","to":"getAndCheckVisibility_458","edgeType":"call","label":"call","flowType":"ResolvedAssertVisibleCommand"},{"from":"getAndCheckVisibility_458","to":"handleAssertVisible_438","edgeType":"return","label":"return","flowType":"ResolvedAssertVisibleCommand"},{"from":"executeResolvedCommand_381","to":"handleAssertVisible_438","edgeType":"call","label":"call","flowType":"ResolvedAssertVisibleCommand"},{"from":"handleAssertVisible_438","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedAssertVisibleCommand"},{"from":"handleEval_472","to":"browserEval_473","edgeType":"call","label":"call","flowType":"string & Brand<\"JsExpression\">"},{"from":"browserEval_473","to":"handleEval_472","edgeType":"return","label":"return","flowType":"string & Brand<\"JsExpression\">"},{"from":"executeResolvedCommand_381","to":"handleEval_472","edgeType":"call","label":"call","flowType":"EvalCommand"},{"from":"handleEval_472","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"EvalCommand"},{"from":"handleScreenshot_474","to":"browserScreenshot_475","edgeType":"call","label":"call","flowType":"string & Brand<\"FilePath\">"},{"from":"browserScreenshot_475","to":"handleScreenshot_474","edgeType":"return","label":"return","flowType":"string & Brand<\"FilePath\">"},{"from":"executeResolvedCommand_381","to":"handleScreenshot_474","edgeType":"call","label":"call","flowType":"ScreenshotCommand"},{"from":"handleScreenshot_474","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ScreenshotCommand"},{"from":"handleWait_476","to":"createResultMapper_477","edgeType":"call","label":"call","flowType":"number"},{"from":"createResultMapper_477","to":"handleWait_476","edgeType":"return","label":"return","flowType":"number"},{"from":"handleWait_476","to":"browserWaitForFunction_478","edgeType":"call","label":"call","flowType":"string & Brand<\"JsExpression\">"},{"from":"browserWaitForFunction_478","to":"handleWait_476","edgeType":"return","label":"return","flowType":"string & Brand<\"JsExpression\">"},{"from":"handleWait_476","to":"browserWaitForUrl_479","edgeType":"call","label":"call","flowType":"string"},{"from":"browserWaitForUrl_479","to":"handleWait_476","edgeType":"return","label":"return","flowType":"string"},{"from":"handleWait_476","to":"browserWaitForLoad_480","edgeType":"call","label":"call","flowType":"LoadState"},{"from":"browserWaitForLoad_480","to":"handleWait_476","edgeType":"return","label":"return","flowType":"LoadState"},{"from":"handleWait_476","to":"asCliXpathSelector_481","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_481","to":"handleWait_476","edgeType":"return","label":"return","flowType":"string"},{"from":"handleWait_476","to":"browserWaitForSelector_482","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"browserWaitForSelector_482","to":"handleWait_476","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"handleWait_476","to":"errAsync_483","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_483","to":"handleWait_476","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"handleWait_476","to":"browserWaitForText_484","edgeType":"call","label":"call","flowType":"string & Brand<\"AnyTextSelector\">"},{"from":"browserWaitForText_484","to":"handleWait_476","edgeType":"return","label":"return","flowType":"string & Brand<\"AnyTextSelector\">"},{"from":"handleWait_476","to":"browserWaitForMs_485","edgeType":"call","label":"call","flowType":"number"},{"from":"browserWaitForMs_485","to":"handleWait_476","edgeType":"return","label":"return","flowType":"number"},{"from":"handleWait_476","to":"match_486","edgeType":"call","label":"call","flowType":"WaitCommand"},{"from":"match_486","to":"handleWait_476","edgeType":"return","label":"return","flowType":"WaitCommand"},{"from":"executeResolvedCommand_381","to":"handleWait_476","edgeType":"call","label":"call","flowType":"WaitCommand"},{"from":"handleWait_476","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"WaitCommand"},{"from":"getSelectorString_488","to":"match_489","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_489","to":"getSelectorString_488","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleScrollIntoView_487","to":"getSelectorString_488","edgeType":"call","label":"call","flowType":"ResolvedScrollIntoViewCommand"},{"from":"getSelectorString_488","to":"handleScrollIntoView_487","edgeType":"return","label":"return","flowType":"ResolvedScrollIntoViewCommand"},{"from":"isTextSelector_490","to":"match_491","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_491","to":"isTextSelector_490","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleScrollIntoView_487","to":"isTextSelector_490","edgeType":"call","label":"call","flowType":"ResolvedScrollIntoViewCommand"},{"from":"isTextSelector_490","to":"handleScrollIntoView_487","edgeType":"return","label":"return","flowType":"ResolvedScrollIntoViewCommand"},{"from":"handleTextSelectorScrollIntoView_492","to":"asCliTextSelector_493","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_493","to":"handleTextSelectorScrollIntoView_492","edgeType":"return","label":"return","flowType":"string"},{"from":"handleTextSelectorScrollIntoView_492","to":"browserScrollIntoView_494","edgeType":"call","label":"call","flowType":"string & Brand<\"CliTextSelector\">"},{"from":"browserScrollIntoView_494","to":"handleTextSelectorScrollIntoView_492","edgeType":"return","label":"return","flowType":"string & Brand<\"CliTextSelector\">"},{"from":"handleTextSelectorScrollIntoView_492","to":"errAsync_495","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_495","to":"handleTextSelectorScrollIntoView_492","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"handleTextSelectorScrollIntoView_492","to":"browserWaitForText_496","edgeType":"call","label":"call","flowType":"string"},{"from":"browserWaitForText_496","to":"handleTextSelectorScrollIntoView_492","edgeType":"return","label":"return","flowType":"string"},{"from":"handleScrollIntoView_487","to":"handleTextSelectorScrollIntoView_492","edgeType":"call","label":"call","flowType":"string"},{"from":"handleTextSelectorScrollIntoView_492","to":"handleScrollIntoView_487","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_498","to":"asCliXpathSelector_499","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_499","to":"resolveCliSelector_498","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_498","to":"okAsync_500","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_500","to":"resolveCliSelector_498","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_498","to":"errAsync_501","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_501","to":"resolveCliSelector_498","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_498","to":"asCliTextSelector_502","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_502","to":"resolveCliSelector_498","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_498","to":"match_503","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_503","to":"resolveCliSelector_498","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleCssOrRefScrollIntoView_497","to":"resolveCliSelector_498","edgeType":"call","label":"call","flowType":"ResolvedScrollIntoViewCommand"},{"from":"resolveCliSelector_498","to":"handleCssOrRefScrollIntoView_497","edgeType":"return","label":"return","flowType":"ResolvedScrollIntoViewCommand"},{"from":"handleCssOrRefScrollIntoView_497","to":"browserScrollIntoView_504","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserScrollIntoView_504","to":"handleCssOrRefScrollIntoView_497","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"handleScrollIntoView_487","to":"handleCssOrRefScrollIntoView_497","edgeType":"call","label":"call","flowType":"ResolvedScrollIntoViewCommand"},{"from":"handleCssOrRefScrollIntoView_497","to":"handleScrollIntoView_487","edgeType":"return","label":"return","flowType":"ResolvedScrollIntoViewCommand"},{"from":"executeResolvedCommand_381","to":"handleScrollIntoView_487","edgeType":"call","label":"call","flowType":"ResolvedScrollIntoViewCommand"},{"from":"handleScrollIntoView_487","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedScrollIntoViewCommand"},{"from":"handleScroll_505","to":"browserScroll_506","edgeType":"call","label":"call","flowType":"ScrollDirection"},{"from":"browserScroll_506","to":"handleScroll_505","edgeType":"return","label":"return","flowType":"ScrollDirection"},{"from":"executeResolvedCommand_381","to":"handleScroll_505","edgeType":"call","label":"call","flowType":"ScrollCommand"},{"from":"handleScroll_505","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ScrollCommand"},{"from":"handleSelect_507","to":"browserSelect_508","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserSelect_508","to":"handleSelect_507","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_509","to":"asCliXpathSelector_510","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_510","to":"resolveCliSelector_509","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_509","to":"okAsync_511","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_511","to":"resolveCliSelector_509","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_509","to":"errAsync_512","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_512","to":"resolveCliSelector_509","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_509","to":"asCliTextSelector_513","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_513","to":"resolveCliSelector_509","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_509","to":"match_514","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_514","to":"resolveCliSelector_509","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleSelect_507","to":"resolveCliSelector_509","edgeType":"call","label":"call","flowType":"ResolvedSelectCommand"},{"from":"resolveCliSelector_509","to":"handleSelect_507","edgeType":"return","label":"return","flowType":"ResolvedSelectCommand"},{"from":"executeResolvedCommand_381","to":"handleSelect_507","edgeType":"call","label":"call","flowType":"ResolvedSelectCommand"},{"from":"handleSelect_507","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedSelectCommand"},{"from":"handleHover_515","to":"browserHover_516","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserHover_516","to":"handleHover_515","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_517","to":"asCliXpathSelector_518","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_518","to":"resolveCliSelector_517","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_517","to":"okAsync_519","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_519","to":"resolveCliSelector_517","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_517","to":"errAsync_520","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_520","to":"resolveCliSelector_517","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_517","to":"asCliTextSelector_521","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_521","to":"resolveCliSelector_517","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_517","to":"match_522","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_522","to":"resolveCliSelector_517","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleHover_515","to":"resolveCliSelector_517","edgeType":"call","label":"call","flowType":"ResolvedHoverCommand"},{"from":"resolveCliSelector_517","to":"handleHover_515","edgeType":"return","label":"return","flowType":"ResolvedHoverCommand"},{"from":"executeResolvedCommand_381","to":"handleHover_515","edgeType":"call","label":"call","flowType":"ResolvedHoverCommand"},{"from":"handleHover_515","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedHoverCommand"},{"from":"handlePress_523","to":"browserPress_524","edgeType":"call","label":"call","flowType":"string & Brand<\"KeyboardKey\">"},{"from":"browserPress_524","to":"handlePress_523","edgeType":"return","label":"return","flowType":"string & Brand<\"KeyboardKey\">"},{"from":"executeResolvedCommand_381","to":"handlePress_523","edgeType":"call","label":"call","flowType":"PressCommand"},{"from":"handlePress_523","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"PressCommand"},{"from":"handleFill_525","to":"browserFill_526","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserFill_526","to":"handleFill_525","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_527","to":"asCliXpathSelector_528","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_528","to":"resolveCliSelector_527","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_527","to":"okAsync_529","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_529","to":"resolveCliSelector_527","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_527","to":"errAsync_530","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_530","to":"resolveCliSelector_527","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_527","to":"asCliTextSelector_531","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_531","to":"resolveCliSelector_527","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_527","to":"match_532","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_532","to":"resolveCliSelector_527","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleFill_525","to":"resolveCliSelector_527","edgeType":"call","label":"call","flowType":"ResolvedFillCommand"},{"from":"resolveCliSelector_527","to":"handleFill_525","edgeType":"return","label":"return","flowType":"ResolvedFillCommand"},{"from":"executeResolvedCommand_381","to":"handleFill_525","edgeType":"call","label":"call","flowType":"ResolvedFillCommand"},{"from":"handleFill_525","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedFillCommand"},{"from":"handleType_533","to":"browserType_534","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserType_534","to":"handleType_533","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_535","to":"asCliXpathSelector_536","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_536","to":"resolveCliSelector_535","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_535","to":"okAsync_537","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_537","to":"resolveCliSelector_535","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_535","to":"errAsync_538","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_538","to":"resolveCliSelector_535","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_535","to":"asCliTextSelector_539","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_539","to":"resolveCliSelector_535","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_535","to":"match_540","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_540","to":"resolveCliSelector_535","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleType_533","to":"resolveCliSelector_535","edgeType":"call","label":"call","flowType":"ResolvedTypeCommand"},{"from":"resolveCliSelector_535","to":"handleType_533","edgeType":"return","label":"return","flowType":"ResolvedTypeCommand"},{"from":"executeResolvedCommand_381","to":"handleType_533","edgeType":"call","label":"call","flowType":"ResolvedTypeCommand"},{"from":"handleType_533","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedTypeCommand"},{"from":"handleClick_541","to":"browserClick_542","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserClick_542","to":"handleClick_541","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"resolveCliSelector_543","to":"asCliXpathSelector_544","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_544","to":"resolveCliSelector_543","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_543","to":"okAsync_545","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"okAsync_545","to":"resolveCliSelector_543","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"resolveCliSelector_543","to":"errAsync_546","edgeType":"call","label":"call","flowType":"BrandValidationError"},{"from":"errAsync_546","to":"resolveCliSelector_543","edgeType":"return","label":"return","flowType":"BrandValidationError"},{"from":"resolveCliSelector_543","to":"asCliTextSelector_547","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliTextSelector_547","to":"resolveCliSelector_543","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveCliSelector_543","to":"match_548","edgeType":"call","label":"call","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"match_548","to":"resolveCliSelector_543","edgeType":"return","label":"return","flowType":"ResolvedSelectorSpec | SelectorSpec"},{"from":"handleClick_541","to":"resolveCliSelector_543","edgeType":"call","label":"call","flowType":"ResolvedClickCommand"},{"from":"resolveCliSelector_543","to":"handleClick_541","edgeType":"return","label":"return","flowType":"ResolvedClickCommand"},{"from":"executeResolvedCommand_381","to":"handleClick_541","edgeType":"call","label":"call","flowType":"ResolvedClickCommand"},{"from":"handleClick_541","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedClickCommand"},{"from":"handleOpen_549","to":"browserOpen_550","edgeType":"call","label":"call","flowType":"string & Brand<\"Url\">"},{"from":"browserOpen_550","to":"handleOpen_549","edgeType":"return","label":"return","flowType":"string & Brand<\"Url\">"},{"from":"executeResolvedCommand_381","to":"handleOpen_549","edgeType":"call","label":"call","flowType":"OpenCommand"},{"from":"handleOpen_549","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"OpenCommand"},{"from":"executeResolvedCommand_381","to":"match_551","edgeType":"call","label":"call","flowType":"ResolvedCommand"},{"from":"match_551","to":"executeResolvedCommand_381","edgeType":"return","label":"return","flowType":"ResolvedCommand"},{"from":"executeStep_368","to":"executeResolvedCommand_381","edgeType":"call","label":"call","flowType":"ResolvedCommand"},{"from":"executeResolvedCommand_381","to":"executeStep_368","edgeType":"return","label":"return","flowType":"ResolvedCommand"},{"from":"extractSelectorSpecOrFail_553","to":"errAsync_554","edgeType":"call","label":"call","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"errAsync_554","to":"extractSelectorSpecOrFail_553","edgeType":"return","label":"return","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"extractSelectorSpecOrFail_553","to":"okAsync_555","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"okAsync_555","to":"extractSelectorSpecOrFail_553","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"extractSelectorSpecOrFail_553","to":"match_556","edgeType":"call","label":"call","flowType":"ExtractSelectorResult"},{"from":"match_556","to":"extractSelectorSpecOrFail_553","edgeType":"return","label":"return","flowType":"ExtractSelectorResult"},{"from":"extractSelectorSpec_557","to":"match_558","edgeType":"call","label":"call","flowType":"Command"},{"from":"match_558","to":"extractSelectorSpec_557","edgeType":"return","label":"return","flowType":"Command"},{"from":"extractSelectorSpecOrFail_553","to":"extractSelectorSpec_557","edgeType":"call","label":"call","flowType":"Command"},{"from":"extractSelectorSpec_557","to":"extractSelectorSpecOrFail_553","edgeType":"return","label":"return","flowType":"Command"},{"from":"processSelectorWait_552","to":"extractSelectorSpecOrFail_553","edgeType":"call","label":"call","flowType":"ScrollIntoViewCommand"},{"from":"extractSelectorSpecOrFail_553","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"ScrollIntoViewCommand"},{"from":"toWaitableSelectorSpec_560","to":"errAsync_561","edgeType":"call","label":"call","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"errAsync_561","to":"toWaitableSelectorSpec_560","edgeType":"return","label":"return","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"toWaitableSelectorSpec_560","to":"okAsync_562","edgeType":"call","label":"call","flowType":"{ xpath: string & Brand<\"XpathSelector\">; }"},{"from":"okAsync_562","to":"toWaitableSelectorSpec_560","edgeType":"return","label":"return","flowType":"{ xpath: string & Brand<\"XpathSelector\">; }"},{"from":"toWaitableSelectorSpec_560","to":"match_563","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"match_563","to":"toWaitableSelectorSpec_560","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"processDirectOrWaitSelector_559","to":"toWaitableSelectorSpec_560","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"toWaitableSelectorSpec_560","to":"processDirectOrWaitSelector_559","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"waitResultToResolvedSelectorSpec_565","to":"match_566","edgeType":"call","label":"call","flowType":"WaitResult"},{"from":"match_566","to":"waitResultToResolvedSelectorSpec_565","edgeType":"return","label":"return","flowType":"WaitResult"},{"from":"processWaitableSelector_564","to":"waitResultToResolvedSelectorSpec_565","edgeType":"call","label":"call","flowType":"WaitResult"},{"from":"waitResultToResolvedSelectorSpec_565","to":"processWaitableSelector_564","edgeType":"return","label":"return","flowType":"WaitResult"},{"from":"findMatchingRefId_570","to":"isMatchingElement_571","edgeType":"call","label":"call","flowType":"SnapshotRef"},{"from":"isMatchingElement_571","to":"findMatchingRefId_570","edgeType":"return","label":"return","flowType":"SnapshotRef"},{"from":"createTextToRefCheckFunc_569","to":"findMatchingRefId_570","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"findMatchingRefId_570","to":"createTextToRefCheckFunc_569","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"createTextToRefCheckFunc_569","to":"match_572","edgeType":"call","label":"call","flowType":"MatchResult"},{"from":"match_572","to":"createTextToRefCheckFunc_569","edgeType":"return","label":"return","flowType":"MatchResult"},{"from":"createTextToRefCheckFunc_569","to":"asRefSelector_573","edgeType":"call","label":"call","flowType":"string"},{"from":"asRefSelector_573","to":"createTextToRefCheckFunc_569","edgeType":"return","label":"return","flowType":"string"},{"from":"createTextToRefCheckFunc_569","to":"browserSnapshot_574","edgeType":"call","label":"call","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"browserSnapshot_574","to":"createTextToRefCheckFunc_569","edgeType":"return","label":"return","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"waitForTextAndResolveRef_568","to":"createTextToRefCheckFunc_569","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"createTextToRefCheckFunc_569","to":"waitForTextAndResolveRef_568","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"executePollIteration_577","to":"okAsync_578","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_578","to":"executePollIteration_577","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_577","to":"errAsync_579","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_579","to":"executePollIteration_577","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_577","to":"createTimeoutError_580","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_580","to":"executePollIteration_577","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_576","to":"executePollIteration_577","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_577","to":"pollRecursively_576","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_581","to":"okAsync_582","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_582","to":"handlePollResult_581","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_581","to":"continuePolling_583","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_583","to":"handlePollResult_581","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"handlePollResult_581","to":"sleepAndPollNext_584","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_584","to":"handlePollResult_581","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_576","to":"handlePollResult_581","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_581","to":"pollRecursively_576","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_575","to":"pollRecursively_576","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_576","to":"waitUntil_575","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForTextAndResolveRef_568","to":"waitUntil_575","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"from":"waitUntil_575","to":"waitForTextAndResolveRef_568","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"from":"waitForSelector_567","to":"waitForTextAndResolveRef_568","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"waitForTextAndResolveRef_568","to":"waitForSelector_567","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"waitForXpathSelector_585","to":"asCliXpathSelector_586","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_586","to":"waitForXpathSelector_585","edgeType":"return","label":"return","flowType":"string"},{"from":"waitForXpathSelector_585","to":"okAsync_587","edgeType":"call","label":"call","flowType":"true"},{"from":"okAsync_587","to":"waitForXpathSelector_585","edgeType":"return","label":"return","flowType":"true"},{"from":"createVisibilityCheckFunc_588","to":"browserIsVisible_589","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_589","to":"createVisibilityCheckFunc_588","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"waitForXpathSelector_585","to":"createVisibilityCheckFunc_588","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"createVisibilityCheckFunc_588","to":"waitForXpathSelector_585","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"executePollIteration_592","to":"okAsync_593","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_593","to":"executePollIteration_592","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_592","to":"errAsync_594","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_594","to":"executePollIteration_592","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_592","to":"createTimeoutError_595","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_595","to":"executePollIteration_592","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_591","to":"executePollIteration_592","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_592","to":"pollRecursively_591","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_596","to":"okAsync_597","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_597","to":"handlePollResult_596","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_596","to":"continuePolling_598","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_598","to":"handlePollResult_596","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"handlePollResult_596","to":"sleepAndPollNext_599","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_599","to":"handlePollResult_596","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_591","to":"handlePollResult_596","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_596","to":"pollRecursively_591","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_590","to":"pollRecursively_591","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_591","to":"waitUntil_590","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForXpathSelector_585","to":"waitUntil_590","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitUntil_590","to":"waitForXpathSelector_585","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitForSelector_567","to":"waitForXpathSelector_585","edgeType":"call","label":"call","flowType":"string & Brand<\"XpathSelector\">"},{"from":"waitForXpathSelector_585","to":"waitForSelector_567","edgeType":"return","label":"return","flowType":"string & Brand<\"XpathSelector\">"},{"from":"createVisibilityCheckFunc_601","to":"browserIsVisible_602","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_602","to":"createVisibilityCheckFunc_601","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"waitForCssSelector_600","to":"createVisibilityCheckFunc_601","edgeType":"call","label":"call","flowType":"string & Brand<\"CssSelector\">"},{"from":"createVisibilityCheckFunc_601","to":"waitForCssSelector_600","edgeType":"return","label":"return","flowType":"string & Brand<\"CssSelector\">"},{"from":"executePollIteration_605","to":"okAsync_606","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_606","to":"executePollIteration_605","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_605","to":"errAsync_607","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_607","to":"executePollIteration_605","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_605","to":"createTimeoutError_608","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_608","to":"executePollIteration_605","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_604","to":"executePollIteration_605","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_605","to":"pollRecursively_604","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_609","to":"okAsync_610","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_610","to":"handlePollResult_609","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_609","to":"continuePolling_611","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_611","to":"handlePollResult_609","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"handlePollResult_609","to":"sleepAndPollNext_612","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_612","to":"handlePollResult_609","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_604","to":"handlePollResult_609","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_609","to":"pollRecursively_604","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_603","to":"pollRecursively_604","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_604","to":"waitUntil_603","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForCssSelector_600","to":"waitUntil_603","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitUntil_603","to":"waitForCssSelector_600","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitForSelector_567","to":"waitForCssSelector_600","edgeType":"call","label":"call","flowType":"string & Brand<\"CssSelector\">"},{"from":"waitForCssSelector_600","to":"waitForSelector_567","edgeType":"return","label":"return","flowType":"string & Brand<\"CssSelector\">"},{"from":"waitForSelector_567","to":"match_613","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"match_613","to":"waitForSelector_567","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"processWaitableSelector_564","to":"waitForSelector_567","edgeType":"call","label":"call","flowType":"WaitableSelectorSpec"},{"from":"waitForSelector_567","to":"processWaitableSelector_564","edgeType":"return","label":"return","flowType":"WaitableSelectorSpec"},{"from":"getErrorMessage_614","to":"hasMessageField_615","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"hasMessageField_615","to":"getErrorMessage_614","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getCommandFailedFallback_616","to":"getCommandErrorFallback_617","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandErrorFallback_617","to":"getCommandFailedFallback_616","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandFailedFallback_616","to":"getAssertionFallback_618","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"getAssertionFallback_618","to":"getCommandFailedFallback_616","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"getCommandFailedFallback_616","to":"match_619","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"match_619","to":"getCommandFailedFallback_616","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getErrorMessage_614","to":"getCommandFailedFallback_616","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"getCommandFailedFallback_616","to":"getErrorMessage_614","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"processWaitableSelector_564","to":"getErrorMessage_614","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"getErrorMessage_614","to":"processWaitableSelector_564","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"processDirectOrWaitSelector_559","to":"processWaitableSelector_564","edgeType":"call","label":"call","flowType":"T"},{"from":"processWaitableSelector_564","to":"processDirectOrWaitSelector_559","edgeType":"return","label":"return","flowType":"T"},{"from":"processDirectOrWaitSelector_559","to":"okAsync_620","edgeType":"call","label":"call","flowType":"ResolvedCommand"},{"from":"okAsync_620","to":"processDirectOrWaitSelector_559","edgeType":"return","label":"return","flowType":"ResolvedCommand"},{"from":"processDirectOrWaitSelector_559","to":"match_621","edgeType":"call","label":"call","flowType":"DirectResolveResult"},{"from":"match_621","to":"processDirectOrWaitSelector_559","edgeType":"return","label":"return","flowType":"DirectResolveResult"},{"from":"tryDirectResolve_622","to":"match_623","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"match_623","to":"tryDirectResolve_622","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"processDirectOrWaitSelector_559","to":"tryDirectResolve_622","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"tryDirectResolve_622","to":"processDirectOrWaitSelector_559","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"processSelectorWait_552","to":"processDirectOrWaitSelector_559","edgeType":"call","label":"call","flowType":"ScrollIntoViewCommand"},{"from":"processDirectOrWaitSelector_559","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"ScrollIntoViewCommand"},{"from":"extractWaitableSelectorSpecOrFail_624","to":"errAsync_625","edgeType":"call","label":"call","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"errAsync_625","to":"extractWaitableSelectorSpecOrFail_624","edgeType":"return","label":"return","flowType":"{ _tag: \"SelectorWaitFailure\"; message: string; errorType: \"parse_error\"; }"},{"from":"extractWaitableSelectorSpecOrFail_624","to":"okAsync_626","edgeType":"call","label":"call","flowType":"{ xpath: string & Brand<\"XpathSelector\">; }"},{"from":"okAsync_626","to":"extractWaitableSelectorSpecOrFail_624","edgeType":"return","label":"return","flowType":"{ xpath: string & Brand<\"XpathSelector\">; }"},{"from":"extractWaitableSelectorSpecOrFail_624","to":"match_627","edgeType":"call","label":"call","flowType":"ExtractSelectorResult"},{"from":"match_627","to":"extractWaitableSelectorSpecOrFail_624","edgeType":"return","label":"return","flowType":"ExtractSelectorResult"},{"from":"extractSelectorSpec_628","to":"match_629","edgeType":"call","label":"call","flowType":"Command"},{"from":"match_629","to":"extractSelectorSpec_628","edgeType":"return","label":"return","flowType":"Command"},{"from":"extractWaitableSelectorSpecOrFail_624","to":"extractSelectorSpec_628","edgeType":"call","label":"call","flowType":"Command"},{"from":"extractSelectorSpec_628","to":"extractWaitableSelectorSpecOrFail_624","edgeType":"return","label":"return","flowType":"Command"},{"from":"processSelectorWait_552","to":"extractWaitableSelectorSpecOrFail_624","edgeType":"call","label":"call","flowType":"AssertCheckedCommand"},{"from":"extractWaitableSelectorSpecOrFail_624","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"AssertCheckedCommand"},{"from":"waitResultToResolvedSelectorSpec_631","to":"match_632","edgeType":"call","label":"call","flowType":"WaitResult"},{"from":"match_632","to":"waitResultToResolvedSelectorSpec_631","edgeType":"return","label":"return","flowType":"WaitResult"},{"from":"processWaitableSelector_630","to":"waitResultToResolvedSelectorSpec_631","edgeType":"call","label":"call","flowType":"WaitResult"},{"from":"waitResultToResolvedSelectorSpec_631","to":"processWaitableSelector_630","edgeType":"return","label":"return","flowType":"WaitResult"},{"from":"findMatchingRefId_636","to":"isMatchingElement_637","edgeType":"call","label":"call","flowType":"SnapshotRef"},{"from":"isMatchingElement_637","to":"findMatchingRefId_636","edgeType":"return","label":"return","flowType":"SnapshotRef"},{"from":"createTextToRefCheckFunc_635","to":"findMatchingRefId_636","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"findMatchingRefId_636","to":"createTextToRefCheckFunc_635","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"createTextToRefCheckFunc_635","to":"match_638","edgeType":"call","label":"call","flowType":"MatchResult"},{"from":"match_638","to":"createTextToRefCheckFunc_635","edgeType":"return","label":"return","flowType":"MatchResult"},{"from":"createTextToRefCheckFunc_635","to":"asRefSelector_639","edgeType":"call","label":"call","flowType":"string"},{"from":"asRefSelector_639","to":"createTextToRefCheckFunc_635","edgeType":"return","label":"return","flowType":"string"},{"from":"createTextToRefCheckFunc_635","to":"browserSnapshot_640","edgeType":"call","label":"call","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"browserSnapshot_640","to":"createTextToRefCheckFunc_635","edgeType":"return","label":"return","flowType":"{ sessionName: string; headed: boolean; timeoutMs: number; cwd: string; }"},{"from":"waitForTextAndResolveRef_634","to":"createTextToRefCheckFunc_635","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"createTextToRefCheckFunc_635","to":"waitForTextAndResolveRef_634","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"executePollIteration_643","to":"okAsync_644","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_644","to":"executePollIteration_643","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_643","to":"errAsync_645","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_645","to":"executePollIteration_643","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_643","to":"createTimeoutError_646","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_646","to":"executePollIteration_643","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_642","to":"executePollIteration_643","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_643","to":"pollRecursively_642","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_647","to":"okAsync_648","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_648","to":"handlePollResult_647","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_647","to":"continuePolling_649","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_649","to":"handlePollResult_647","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_650","to":"sleep_651","edgeType":"call","label":"call","flowType":"number"},{"from":"sleep_651","to":"sleepAndPollNext_650","edgeType":"return","label":"return","flowType":"number"},{"from":"handlePollResult_647","to":"sleepAndPollNext_650","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_650","to":"handlePollResult_647","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_642","to":"handlePollResult_647","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_647","to":"pollRecursively_642","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_641","to":"pollRecursively_642","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_642","to":"waitUntil_641","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForTextAndResolveRef_634","to":"waitUntil_641","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"from":"waitUntil_641","to":"waitForTextAndResolveRef_634","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<string & Brand<\"RefSelector\">>, AgentBrowserError>"},{"from":"waitForSelector_633","to":"waitForTextAndResolveRef_634","edgeType":"call","label":"call","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"waitForTextAndResolveRef_634","to":"waitForSelector_633","edgeType":"return","label":"return","flowType":"string & Brand<\"InteractableTextSelector\">"},{"from":"waitForXpathSelector_652","to":"asCliXpathSelector_653","edgeType":"call","label":"call","flowType":"string"},{"from":"asCliXpathSelector_653","to":"waitForXpathSelector_652","edgeType":"return","label":"return","flowType":"string"},{"from":"waitForXpathSelector_652","to":"okAsync_654","edgeType":"call","label":"call","flowType":"true"},{"from":"okAsync_654","to":"waitForXpathSelector_652","edgeType":"return","label":"return","flowType":"true"},{"from":"createVisibilityCheckFunc_655","to":"browserIsVisible_656","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_656","to":"createVisibilityCheckFunc_655","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"waitForXpathSelector_652","to":"createVisibilityCheckFunc_655","edgeType":"call","label":"call","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"createVisibilityCheckFunc_655","to":"waitForXpathSelector_652","edgeType":"return","label":"return","flowType":"string & Brand<\"CliXpathSelector\">"},{"from":"executePollIteration_659","to":"okAsync_660","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_660","to":"executePollIteration_659","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_659","to":"errAsync_661","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_661","to":"executePollIteration_659","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_659","to":"createTimeoutError_662","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_662","to":"executePollIteration_659","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_658","to":"executePollIteration_659","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_659","to":"pollRecursively_658","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_663","to":"okAsync_664","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_664","to":"handlePollResult_663","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_663","to":"continuePolling_665","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_665","to":"handlePollResult_663","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_666","to":"sleep_667","edgeType":"call","label":"call","flowType":"number"},{"from":"sleep_667","to":"sleepAndPollNext_666","edgeType":"return","label":"return","flowType":"number"},{"from":"handlePollResult_663","to":"sleepAndPollNext_666","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_666","to":"handlePollResult_663","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_658","to":"handlePollResult_663","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_663","to":"pollRecursively_658","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_657","to":"pollRecursively_658","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_658","to":"waitUntil_657","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForXpathSelector_652","to":"waitUntil_657","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitUntil_657","to":"waitForXpathSelector_652","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitForSelector_633","to":"waitForXpathSelector_652","edgeType":"call","label":"call","flowType":"string & Brand<\"XpathSelector\">"},{"from":"waitForXpathSelector_652","to":"waitForSelector_633","edgeType":"return","label":"return","flowType":"string & Brand<\"XpathSelector\">"},{"from":"createVisibilityCheckFunc_669","to":"browserIsVisible_670","edgeType":"call","label":"call","flowType":"CliSelector"},{"from":"browserIsVisible_670","to":"createVisibilityCheckFunc_669","edgeType":"return","label":"return","flowType":"CliSelector"},{"from":"waitForCssSelector_668","to":"createVisibilityCheckFunc_669","edgeType":"call","label":"call","flowType":"string & Brand<\"CssSelector\">"},{"from":"createVisibilityCheckFunc_669","to":"waitForCssSelector_668","edgeType":"return","label":"return","flowType":"string & Brand<\"CssSelector\">"},{"from":"executePollIteration_673","to":"okAsync_674","edgeType":"call","label":"call","flowType":"{ type: \"found\"; value: T; }"},{"from":"okAsync_674","to":"executePollIteration_673","edgeType":"return","label":"return","flowType":"{ type: \"found\"; value: T; }"},{"from":"executePollIteration_673","to":"errAsync_675","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"errAsync_675","to":"executePollIteration_673","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"executePollIteration_673","to":"createTimeoutError_676","edgeType":"call","label":"call","flowType":"WaitUntilOptions"},{"from":"createTimeoutError_676","to":"executePollIteration_673","edgeType":"return","label":"return","flowType":"WaitUntilOptions"},{"from":"pollRecursively_672","to":"executePollIteration_673","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"executePollIteration_673","to":"pollRecursively_672","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"handlePollResult_677","to":"okAsync_678","edgeType":"call","label":"call","flowType":"T"},{"from":"okAsync_678","to":"handlePollResult_677","edgeType":"return","label":"return","flowType":"T"},{"from":"handlePollResult_677","to":"continuePolling_679","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"continuePolling_679","to":"handlePollResult_677","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_680","to":"sleep_681","edgeType":"call","label":"call","flowType":"number"},{"from":"sleep_681","to":"sleepAndPollNext_680","edgeType":"return","label":"return","flowType":"number"},{"from":"handlePollResult_677","to":"sleepAndPollNext_680","edgeType":"call","label":"call","flowType":"NextPollContext<T>"},{"from":"sleepAndPollNext_680","to":"handlePollResult_677","edgeType":"return","label":"return","flowType":"NextPollContext<T>"},{"from":"pollRecursively_672","to":"handlePollResult_677","edgeType":"call","label":"call","flowType":"PollIterationResult<T>"},{"from":"handlePollResult_677","to":"pollRecursively_672","edgeType":"return","label":"return","flowType":"PollIterationResult<T>"},{"from":"waitUntil_671","to":"pollRecursively_672","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"pollRecursively_672","to":"waitUntil_671","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<T>, AgentBrowserError>"},{"from":"waitForCssSelector_668","to":"waitUntil_671","edgeType":"call","label":"call","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitUntil_671","to":"waitForCssSelector_668","edgeType":"return","label":"return","flowType":"() => ResultAsync<CheckResult<true>, AgentBrowserError>"},{"from":"waitForSelector_633","to":"waitForCssSelector_668","edgeType":"call","label":"call","flowType":"string & Brand<\"CssSelector\">"},{"from":"waitForCssSelector_668","to":"waitForSelector_633","edgeType":"return","label":"return","flowType":"string & Brand<\"CssSelector\">"},{"from":"waitForSelector_633","to":"match_682","edgeType":"call","label":"call","flowType":"SelectorSpec"},{"from":"match_682","to":"waitForSelector_633","edgeType":"return","label":"return","flowType":"SelectorSpec"},{"from":"processWaitableSelector_630","to":"waitForSelector_633","edgeType":"call","label":"call","flowType":"WaitableSelectorSpec"},{"from":"waitForSelector_633","to":"processWaitableSelector_630","edgeType":"return","label":"return","flowType":"WaitableSelectorSpec"},{"from":"getErrorMessage_683","to":"hasMessageField_684","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"hasMessageField_684","to":"getErrorMessage_683","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getCommandFailedFallback_685","to":"getCommandErrorFallback_686","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandErrorFallback_686","to":"getCommandFailedFallback_685","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; }"},{"from":"getCommandFailedFallback_685","to":"getAssertionFallback_687","edgeType":"call","label":"call","flowType":"AssertionFailedError"},{"from":"getAssertionFallback_687","to":"getCommandFailedFallback_685","edgeType":"return","label":"return","flowType":"AssertionFailedError"},{"from":"getCommandFailedFallback_685","to":"match_688","edgeType":"call","label":"call","flowType":"ExecutorError"},{"from":"match_688","to":"getCommandFailedFallback_685","edgeType":"return","label":"return","flowType":"ExecutorError"},{"from":"getErrorMessage_683","to":"getCommandFailedFallback_685","edgeType":"call","label":"call","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"getCommandFailedFallback_685","to":"getErrorMessage_683","edgeType":"return","label":"return","flowType":"{ type: \"command_failed\"; message: string; command: string; args: readonly string[]; exitCode: number; stderr: string; rawError: string | null; } | AssertionFailedError"},{"from":"processWaitableSelector_630","to":"getErrorMessage_683","edgeType":"call","label":"call","flowType":"AgentBrowserError"},{"from":"getErrorMessage_683","to":"processWaitableSelector_630","edgeType":"return","label":"return","flowType":"AgentBrowserError"},{"from":"processSelectorWait_552","to":"processWaitableSelector_630","edgeType":"call","label":"call","flowType":"AssertCheckedCommand"},{"from":"processWaitableSelector_630","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"AssertCheckedCommand"},{"from":"processSelectorWait_552","to":"okAsync_689","edgeType":"call","label":"call","flowType":"EvalCommand"},{"from":"okAsync_689","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"EvalCommand"},{"from":"processSelectorWait_552","to":"match_690","edgeType":"call","label":"call","flowType":"Command"},{"from":"match_690","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"Command"},{"from":"processSelectorWait_552","to":"resolveClick_691","edgeType":"call","label":"call","flowType":"ClickCommand"},{"from":"resolveClick_691","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"ClickCommand"},{"from":"processSelectorWait_552","to":"resolveType_692","edgeType":"call","label":"call","flowType":"TypeCommand"},{"from":"resolveType_692","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"TypeCommand"},{"from":"processSelectorWait_552","to":"resolveFill_693","edgeType":"call","label":"call","flowType":"FillCommand"},{"from":"resolveFill_693","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"FillCommand"},{"from":"processSelectorWait_552","to":"resolveHover_694","edgeType":"call","label":"call","flowType":"HoverCommand"},{"from":"resolveHover_694","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"HoverCommand"},{"from":"processSelectorWait_552","to":"resolveSelect_695","edgeType":"call","label":"call","flowType":"SelectCommand"},{"from":"resolveSelect_695","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"SelectCommand"},{"from":"processSelectorWait_552","to":"resolveAssertEnabled_696","edgeType":"call","label":"call","flowType":"AssertEnabledCommand"},{"from":"resolveAssertEnabled_696","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"AssertEnabledCommand"},{"from":"processSelectorWait_552","to":"resolveAssertChecked_697","edgeType":"call","label":"call","flowType":"AssertCheckedCommand"},{"from":"resolveAssertChecked_697","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"AssertCheckedCommand"},{"from":"processSelectorWait_552","to":"resolveAssertVisible_698","edgeType":"call","label":"call","flowType":"AssertVisibleCommand"},{"from":"resolveAssertVisible_698","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"AssertVisibleCommand"},{"from":"processSelectorWait_552","to":"resolveAssertNotVisible_699","edgeType":"call","label":"call","flowType":"AssertNotVisibleCommand"},{"from":"resolveAssertNotVisible_699","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"AssertNotVisibleCommand"},{"from":"processSelectorWait_552","to":"resolveScrollIntoView_700","edgeType":"call","label":"call","flowType":"ScrollIntoViewCommand"},{"from":"resolveScrollIntoView_700","to":"processSelectorWait_552","edgeType":"return","label":"return","flowType":"ScrollIntoViewCommand"},{"from":"executeStep_368","to":"processSelectorWait_552","edgeType":"call","label":"call","flowType":"Command"},{"from":"processSelectorWait_552","to":"executeStep_368","edgeType":"return","label":"return","flowType":"Command"},{"from":"executeAllSteps_366","to":"executeStep_368","edgeType":"call","label":"call","flowType":"Command"},{"from":"executeStep_368","to":"executeAllSteps_366","edgeType":"return","label":"return","flowType":"Command"},{"from":"executeAllSteps_366","to":"ok_701","edgeType":"call","label":"call","flowType":"FailedFlowResult"},{"from":"ok_701","to":"executeAllSteps_366","edgeType":"return","label":"return","flowType":"FailedFlowResult"},{"from":"executeAllSteps_366","to":"buildFailedFlowResult_702","edgeType":"call","label":"call","flowType":"Flow"},{"from":"buildFailedFlowResult_702","to":"executeAllSteps_366","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeFlow_359","to":"executeAllSteps_366","edgeType":"call","label":"call","flowType":"Flow"},{"from":"executeAllSteps_366","to":"executeFlow_359","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeSingleFlow_355","to":"executeFlow_359","edgeType":"call","label":"call","flowType":"Flow"},{"from":"executeFlow_359","to":"executeSingleFlow_355","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeSingleFlow_355","to":"browserClose_703","edgeType":"call","label":"call","flowType":"string"},{"from":"browserClose_703","to":"executeSingleFlow_355","edgeType":"return","label":"return","flowType":"string"},{"from":"executeSingleFlow_355","to":"getScreenshotPath_704","edgeType":"call","label":"call","flowType":"ScreenshotResult"},{"from":"getScreenshotPath_704","to":"executeSingleFlow_355","edgeType":"return","label":"return","flowType":"ScreenshotResult"},{"from":"executeAllFlowsSequential_354","to":"executeSingleFlow_355","edgeType":"call","label":"call","flowType":"Flow"},{"from":"executeSingleFlow_355","to":"executeAllFlowsSequential_354","edgeType":"return","label":"return","flowType":"Flow"},{"from":"executeAllFlows_1","to":"executeAllFlowsSequential_354","edgeType":"call","label":"call","flowType":"readonly Flow[]"},{"from":"executeAllFlowsSequential_354","to":"executeAllFlows_1","edgeType":"return","label":"return","flowType":"readonly Flow[]"},{"from":"runFlows_0","to":"executeAllFlows_1","edgeType":"call","label":"call","flowType":"readonly Flow[]"},{"from":"executeAllFlows_1","to":"runFlows_0","edgeType":"return","label":"return","flowType":"readonly Flow[]"},{"from":"resolveEnvVariables_708","to":"mergeEnvMaps_709","edgeType":"call","label":"call","flowType":"Readonly<Record<string, string | undefined>>"},{"from":"mergeEnvMaps_709","to":"resolveEnvVariables_708","edgeType":"return","label":"return","flowType":"Readonly<Record<string, string | undefined>>"},{"from":"resolveStepVariables_710","to":"isRecord_711","edgeType":"call","label":"call","flowType":"unknown"},{"from":"isRecord_711","to":"resolveStepVariables_710","edgeType":"return","label":"return","flowType":"unknown"},{"from":"resolveStepVariables_710","to":"ok_712","edgeType":"call","label":"call","flowType":"unknown"},{"from":"ok_712","to":"resolveStepVariables_710","edgeType":"return","label":"return","flowType":"unknown"},{"from":"resolveStringVariables_714","to":"ok_715","edgeType":"call","label":"call","flowType":"string"},{"from":"ok_715","to":"resolveStringVariables_714","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveStringVariables_714","to":"err_716","edgeType":"call","label":"call","flowType":"{ type: \"undefined_variable\"; message: string; variableName: string; location: string; }"},{"from":"err_716","to":"resolveStringVariables_714","edgeType":"return","label":"return","flowType":"{ type: \"undefined_variable\"; message: string; variableName: string; location: string; }"},{"from":"resolveObjectVariables_713","to":"resolveStringVariables_714","edgeType":"call","label":"call","flowType":"string"},{"from":"resolveStringVariables_714","to":"resolveObjectVariables_713","edgeType":"return","label":"return","flowType":"string"},{"from":"resolveObjectVariables_713","to":"isRecord_717","edgeType":"call","label":"call","flowType":"unknown"},{"from":"isRecord_717","to":"resolveObjectVariables_713","edgeType":"return","label":"return","flowType":"unknown"},{"from":"resolveObjectVariables_713","to":"ok_718","edgeType":"call","label":"call","flowType":"undefined"},{"from":"ok_718","to":"resolveObjectVariables_713","edgeType":"return","label":"return","flowType":"undefined"},{"from":"resolveStepVariables_710","to":"resolveObjectVariables_713","edgeType":"call","label":"call","flowType":"Record<string, unknown>"},{"from":"resolveObjectVariables_713","to":"resolveStepVariables_710","edgeType":"return","label":"return","flowType":"Record<string, unknown>"},{"from":"resolveEnvVariables_708","to":"resolveStepVariables_710","edgeType":"call","label":"call","flowType":"unknown"},{"from":"resolveStepVariables_710","to":"resolveEnvVariables_708","edgeType":"return","label":"return","flowType":"unknown"},{"from":"resolveEnvVariables_708","to":"ok_719","edgeType":"call","label":"call","flowType":"never[]"},{"from":"ok_719","to":"resolveEnvVariables_708","edgeType":"return","label":"return","flowType":"never[]"},{"from":"parseFlowYaml_707","to":"resolveEnvVariables_708","edgeType":"call","label":"call","flowType":"RawFlowData"},{"from":"resolveEnvVariables_708","to":"parseFlowYaml_707","edgeType":"return","label":"return","flowType":"RawFlowData"},{"from":"extractEnvFromRoot_721","to":"isRecord_722","edgeType":"call","label":"call","flowType":"unknown"},{"from":"isRecord_722","to":"extractEnvFromRoot_721","edgeType":"return","label":"return","flowType":"unknown"},{"from":"extractEnvFromRoot_721","to":"buildEnvMap_723","edgeType":"call","label":"call","flowType":"Record<string, unknown>"},{"from":"buildEnvMap_723","to":"extractEnvFromRoot_721","edgeType":"return","label":"return","flowType":"Record<string, unknown>"},{"from":"buildRawFlowData_720","to":"extractEnvFromRoot_721","edgeType":"call","label":"call","flowType":"Record<string, unknown>"},{"from":"extractEnvFromRoot_721","to":"buildRawFlowData_720","edgeType":"return","label":"return","flowType":"Record<string, unknown>"},{"from":"buildRawFlowData_720","to":"extractStepsFromRoot_724","edgeType":"call","label":"call","flowType":"Record<string, unknown>"},{"from":"extractStepsFromRoot_724","to":"buildRawFlowData_720","edgeType":"return","label":"return","flowType":"Record<string, unknown>"},{"from":"parseFlowYaml_707","to":"buildRawFlowData_720","edgeType":"call","label":"call","flowType":"Record<string, unknown>"},{"from":"buildRawFlowData_720","to":"parseFlowYaml_707","edgeType":"return","label":"return","flowType":"Record<string, unknown>"},{"from":"validateRootStructure_725","to":"err_726","edgeType":"call","label":"call","flowType":"{ type: \"invalid_flow_structure\"; message: string; details: string; }"},{"from":"err_726","to":"validateRootStructure_725","edgeType":"return","label":"return","flowType":"{ type: \"invalid_flow_structure\"; message: string; details: string; }"},{"from":"validateRootStructure_725","to":"isRecord_727","edgeType":"call","label":"call","flowType":"unknown"},{"from":"isRecord_727","to":"validateRootStructure_725","edgeType":"return","label":"return","flowType":"unknown"},{"from":"validateRootStructure_725","to":"ok_728","edgeType":"call","label":"call","flowType":"{ [x: string]: unknown; steps: unknown[]; }"},{"from":"ok_728","to":"validateRootStructure_725","edgeType":"return","label":"return","flowType":"{ [x: string]: unknown; steps: unknown[]; }"},{"from":"validateRootStructure_725","to":"match_729","edgeType":"call","label":"call","flowType":"Record<string, unknown>"},{"from":"match_729","to":"validateRootStructure_725","edgeType":"return","label":"return","flowType":"Record<string, unknown>"},{"from":"parseFlowYaml_707","to":"validateRootStructure_725","edgeType":"call","label":"call","flowType":"unknown"},{"from":"validateRootStructure_725","to":"parseFlowYaml_707","edgeType":"return","label":"return","flowType":"unknown"},{"from":"parseFlowYaml_707","to":"safeYamlParse_730","edgeType":"call","label":"call","flowType":"string"},{"from":"safeYamlParse_730","to":"parseFlowYaml_707","edgeType":"return","label":"return","flowType":"string"},{"from":"validateCommand_736","to":"err_737","edgeType":"call","label":"call","flowType":"{ type: \"invalid_command\"; message: string; commandIndex: number; commandContent: null | undefined; }"},{"from":"err_737","to":"validateCommand_736","edgeType":"return","label":"return","flowType":"{ type: \"invalid_command\"; message: string; commandIndex: number; commandContent: null | undefined; }"},{"from":"validateCommand_736","to":"ok_738","edgeType":"call","label":"call","flowType":"Command"},{"from":"ok_738","to":"validateCommand_736","edgeType":"return","label":"return","flowType":"Command"},{"from":"appendValidatedCommand_735","to":"validateCommand_736","edgeType":"call","label":"call","flowType":"unknown"},{"from":"validateCommand_736","to":"appendValidatedCommand_735","edgeType":"return","label":"return","flowType":"unknown"},{"from":"reduceValidateCommand_734","to":"appendValidatedCommand_735","edgeType":"call","label":"call","flowType":"Command[]"},{"from":"appendValidatedCommand_735","to":"reduceValidateCommand_734","edgeType":"return","label":"return","flowType":"Command[]"},{"from":"validateAllCommands_733","to":"reduceValidateCommand_734","edgeType":"call","label":"call","flowType":"Result<Command[], ParseError>"},{"from":"reduceValidateCommand_734","to":"validateAllCommands_733","edgeType":"return","label":"return","flowType":"Result<Command[], ParseError>"},{"from":"validateAllCommands_733","to":"ok_739","edgeType":"call","label":"call","flowType":"never[]"},{"from":"ok_739","to":"validateAllCommands_733","edgeType":"return","label":"return","flowType":"never[]"},{"from":"validateCommands_732","to":"validateAllCommands_733","edgeType":"call","label":"call","flowType":"unknown[]"},{"from":"validateAllCommands_733","to":"validateCommands_732","edgeType":"return","label":"return","flowType":"unknown[]"},{"from":"validateNonEmpty_740","to":"err_741","edgeType":"call","label":"call","flowType":"{ type: \"invalid_flow_structure\"; message: string; details: string; }"},{"from":"err_741","to":"validateNonEmpty_740","edgeType":"return","label":"return","flowType":"{ type: \"invalid_flow_structure\"; message: string; details: string; }"},{"from":"validateNonEmpty_740","to":"ok_742","edgeType":"call","label":"call","flowType":"unknown[]"},{"from":"ok_742","to":"validateNonEmpty_740","edgeType":"return","label":"return","flowType":"unknown[]"},{"from":"validateCommands_732","to":"validateNonEmpty_740","edgeType":"call","label":"call","flowType":"unknown[]"},{"from":"validateNonEmpty_740","to":"validateCommands_732","edgeType":"return","label":"return","flowType":"unknown[]"},{"from":"buildFlow_731","to":"validateCommands_732","edgeType":"call","label":"call","flowType":"unknown[]"},{"from":"validateCommands_732","to":"buildFlow_731","edgeType":"return","label":"return","flowType":"unknown[]"},{"from":"parseFlowYaml_707","to":"buildFlow_731","edgeType":"call","label":"call","flowType":"RawFlowData"},{"from":"buildFlow_731","to":"parseFlowYaml_707","edgeType":"return","label":"return","flowType":"RawFlowData"},{"from":"loadSingleFlow_706","to":"parseFlowYaml_707","edgeType":"call","label":"call","flowType":"string"},{"from":"parseFlowYaml_707","to":"loadSingleFlow_706","edgeType":"return","label":"return","flowType":"string"},{"from":"loadSingleFlow_706","to":"formatParseErrorMessage_743","edgeType":"call","label":"call","flowType":"ParseError"},{"from":"formatParseErrorMessage_743","to":"loadSingleFlow_706","edgeType":"return","label":"return","flowType":"ParseError"},{"from":"loadAllFlows_705","to":"loadSingleFlow_706","edgeType":"call","label":"call","flowType":"string"},{"from":"loadSingleFlow_706","to":"loadAllFlows_705","edgeType":"return","label":"return","flowType":"string"},{"from":"runFlows_0","to":"loadAllFlows_705","edgeType":"call","label":"call","flowType":"readonly string[]"},{"from":"loadAllFlows_705","to":"runFlows_0","edgeType":"return","label":"return","flowType":"readonly string[]"},{"from":"runFlows_0","to":"errAsync_744","edgeType":"call","label":"call","flowType":"{ type: \"no_flows_found\"; message: string; }"},{"from":"errAsync_744","to":"runFlows_0","edgeType":"return","label":"return","flowType":"{ type: \"no_flows_found\"; message: string; }"},{"from":"runFlows_0","to":"okAsync_745","edgeType":"call","label":"call","flowType":"readonly string[]"},{"from":"okAsync_745","to":"runFlows_0","edgeType":"return","label":"return","flowType":"readonly string[]"},{"from":"discoverFlowFiles_746","to":"okAsync_747","edgeType":"call","label":"call","flowType":"string[]"},{"from":"okAsync_747","to":"discoverFlowFiles_746","edgeType":"return","label":"return","flowType":"string[]"},{"from":"discoverFlowFiles_746","to":"glob_748","edgeType":"call","label":"call","flowType":"string"},{"from":"glob_748","to":"discoverFlowFiles_746","edgeType":"return","label":"return","flowType":"string"},{"from":"runFlows_0","to":"discoverFlowFiles_746","edgeType":"call","label":"call","flowType":"string[]"},{"from":"discoverFlowFiles_746","to":"runFlows_0","edgeType":"return","label":"return","flowType":"string[]"},{"from":"checkEnvironment_749","to":"checkAgentBrowser_750","edgeType":"call","label":"call","flowType":"void"},{"from":"checkAgentBrowser_750","to":"checkEnvironment_749","edgeType":"return","label":"return","flowType":"void"},{"from":"runFlows_0","to":"checkEnvironment_749","edgeType":"call","label":"call","flowType":"void"},{"from":"checkEnvironment_749","to":"runFlows_0","edgeType":"return","label":"return","flowType":"void"}]};

    // 現在のオプション
    let currentOptions = {"merge":false,"layerDepth":2,"collapseLevel":9,"visibleExternalLibs":[]};

    /**
     * 元データから外部ライブラリの一覧を取得
     */
    function getExternalLibraries(diagram) {
      const libs = new Set();
      for (const node of diagram.nodes) {
        if (node.isExternal) {
          libs.add(node.filepath);
        }
      }
      return Array.from(libs).sort();
    }

    /**
     * 外部ライブラリUIを初期化
     */
    function initExternalLibsUI() {
      const libs = getExternalLibraries(originalDiagram);
      const container = document.getElementById('externalLibsContainer');
      container.innerHTML = '';

      if (libs.length === 0) {
        container.innerHTML = '<span style="color: #999; font-size: 12px;">外部ライブラリなし</span>';
        return;
      }

      for (const lib of libs) {
        const id = 'lib-' + lib.replace(/[^a-zA-Z0-9]/g, '-');
        const isChecked = currentOptions.visibleExternalLibs.includes(lib);
        const label = document.createElement('label');
        label.className = 'checkbox-label lib-checkbox';
        label.innerHTML = '<input type="checkbox" id="' + id + '" data-lib="' + escapeHtmlInJs(lib) + '"' + (isChecked ? ' checked' : '') + '> ' + escapeHtmlInJs(lib);
        container.appendChild(label);
      }
    }

    // Cytoscape elements
    const elements = [
  {
    "data": {
      "id": "layer-packages/core/src",
      "label": "packages/core/src",
      "parent": null,
      "isLayerGroup": true,
      "depth": 0,
      "isEven": true
    }
  },
  {
    "data": {
      "id": "layer-packages/core/src::orchestrator",
      "label": "orchestrator",
      "parent": "layer-packages/core/src",
      "isLayerGroup": true,
      "depth": 1,
      "isEven": false
    }
  },
  {
    "data": {
      "id": "layer-packages/core/src::executor",
      "label": "executor",
      "parent": "layer-packages/core/src",
      "isLayerGroup": true,
      "depth": 1,
      "isEven": false
    }
  },
  {
    "data": {
      "id": "layer-packages/core/src::executor/commands",
      "label": "executor/commands",
      "parent": "layer-packages/core/src",
      "isLayerGroup": true,
      "depth": 1,
      "isEven": false
    }
  },
  {
    "data": {
      "id": "layer-packages/core/src::parser",
      "label": "parser",
      "parent": "layer-packages/core/src",
      "isLayerGroup": true,
      "depth": 1,
      "isEven": false
    }
  },
  {
    "data": {
      "id": "layer-packages/core/src::parser/validators",
      "label": "parser/validators",
      "parent": "layer-packages/core/src",
      "isLayerGroup": true,
      "depth": 1,
      "isEven": false
    }
  },
  {
    "data": {
      "id": "runFlows_0",
      "parent": "layer-packages/core/src::orchestrator",
      "label": "runFlows (+2)",
      "funcName": "runFlows (+2)",
      "filepath": "packages/core/src/orchestrator/run-flows.ts",
      "line": 412,
      "inType": "RunFlowsInput",
      "outType": "ResultAsync<RunFlowsOutput, OrchestratorError>",
      "layerPath": [
        "packages/core/src",
        "orchestrator"
      ]
    },
    "position": {
      "x": 100,
      "y": 100
    }
  },
  {
    "data": {
      "id": "executeAllFlows_1",
      "parent": "layer-packages/core/src::orchestrator",
      "label": "executeAllFlows",
      "funcName": "executeAllFlows",
      "filepath": "packages/core/src/orchestrator/run-flows.ts",
      "line": 387,
      "inType": "readonly Flow[], RunFlowsInput, number",
      "outType": "Promise<RunFlowsOutput>",
      "layerPath": [
        "packages/core/src",
        "orchestrator"
      ]
    },
    "position": {
      "x": 100,
      "y": 200
    }
  },
  {
    "data": {
      "id": "executeAllFlowsParallel_2",
      "parent": "layer-packages/core/src::orchestrator",
      "label": "executeAllFlowsParallel",
      "funcName": "executeAllFlowsParallel",
      "filepath": "packages/core/src/orchestrator/run-flows.ts",
      "line": 319,
      "inType": "readonly Flow[], RunFlowsInput, number",
      "outType": "Promise<RunFlowsOutput>",
      "layerPath": [
        "packages/core/src",
        "orchestrator"
      ]
    },
    "position": {
      "x": 100,
      "y": 300
    }
  },
  {
    "data": {
      "id": "executeSingleFlow_4",
      "parent": "layer-packages/core/src::orchestrator",
      "label": "executeSingleFlow (+4)",
      "funcName": "executeSingleFlow (+4)",
      "filepath": "packages/core/src/orchestrator/run-flows.ts",
      "line": 255,
      "inType": "Flow, RunFlowsInput",
      "outType": "Promise<FlowRunSummary>",
      "layerPath": [
        "packages/core/src",
        "orchestrator"
      ]
    },
    "position": {
      "x": 100,
      "y": 400
    }
  },
  {
    "data": {
      "id": "executeFlow_8",
      "parent": "layer-packages/core/src::executor",
      "label": "executeFlow (+4)",
      "funcName": "executeFlow (+4)",
      "filepath": "packages/core/src/executor/flow-executor.ts",
      "line": 279,
      "inType": "Flow, FlowExecutionOptions",
      "outType": "ResultAsync<FlowResult, AgentBrowserError>",
      "layerPath": [
        "packages/core/src",
        "executor"
      ]
    },
    "position": {
      "x": 400,
      "y": 100
    }
  },
  {
    "data": {
      "id": "executeAllSteps_15",
      "parent": "layer-packages/core/src::executor",
      "label": "executeAllSteps (+2)",
      "funcName": "executeAllSteps (+2)",
      "filepath": "packages/core/src/executor/flow-executor.ts",
      "line": 174,
      "inType": "Flow, ExecutionContext, boolean, boolean, number, StepProgressCallback | { readonly _brand: \"NoCallback\"; }",
      "outType": "Promise<ExecuteAllStepsResult>",
      "layerPath": [
        "packages/core/src",
        "executor"
      ]
    },
    "position": {
      "x": 400,
      "y": 200
    }
  },
  {
    "data": {
      "id": "executeStep_17",
      "parent": "layer-packages/core/src::executor",
      "label": "executeStep (+1) (+1) (+1)",
      "funcName": "executeStep (+1) (+1) (+1)",
      "filepath": "packages/core/src/executor/execute-step.ts",
      "line": 615,
      "inType": "Command, number, ExecutionContext, boolean",
      "outType": "Promise<StepResult>",
      "layerPath": [
        "packages/core/src",
        "executor"
      ]
    },
    "position": {
      "x": 400,
      "y": 300
    }
  },
  {
    "data": {
      "id": "executeResolvedCommand_30",
      "parent": "layer-packages/core/src::executor/commands",
      "label": "executeResolvedCommand (+5) (+6) (+3) (+2)",
      "funcName": "executeResolvedCommand (+5) (+6) (+3) (+2)",
      "filepath": "packages/core/src/executor/commands/handler-registry.ts",
      "line": 26,
      "inType": "ResolvedCommand, ExecutionContext",
      "outType": "ResultAsync<CommandResult, ExecutorError>",
      "layerPath": [
        "packages/core/src",
        "executor/commands"
      ]
    },
    "position": {
      "x": 700,
      "y": 100
    }
  },
  {
    "data": {
      "id": "executeAllFlowsSequential_354",
      "parent": "layer-packages/core/src::orchestrator",
      "label": "executeAllFlowsSequential",
      "funcName": "executeAllFlowsSequential",
      "filepath": "packages/core/src/orchestrator/run-flows.ts",
      "line": 352,
      "inType": "readonly Flow[], RunFlowsInput, number",
      "outType": "Promise<RunFlowsOutput>",
      "layerPath": [
        "packages/core/src",
        "orchestrator"
      ]
    },
    "position": {
      "x": 100,
      "y": 500
    }
  },
  {
    "data": {
      "id": "executeSingleFlow_355",
      "parent": "layer-packages/core/src::orchestrator",
      "label": "executeSingleFlow (+4)",
      "funcName": "executeSingleFlow (+4)",
      "filepath": "packages/core/src/orchestrator/run-flows.ts",
      "line": 255,
      "inType": "Flow, RunFlowsInput",
      "outType": "Promise<FlowRunSummary>",
      "layerPath": [
        "packages/core/src",
        "orchestrator"
      ]
    },
    "position": {
      "x": 100,
      "y": 600
    }
  },
  {
    "data": {
      "id": "executeFlow_359",
      "parent": "layer-packages/core/src::executor",
      "label": "executeFlow (+4)",
      "funcName": "executeFlow (+4)",
      "filepath": "packages/core/src/executor/flow-executor.ts",
      "line": 279,
      "inType": "Flow, FlowExecutionOptions",
      "outType": "ResultAsync<FlowResult, AgentBrowserError>",
      "layerPath": [
        "packages/core/src",
        "executor"
      ]
    },
    "position": {
      "x": 400,
      "y": 400
    }
  },
  {
    "data": {
      "id": "executeAllSteps_366",
      "parent": "layer-packages/core/src::executor",
      "label": "executeAllSteps (+2)",
      "funcName": "executeAllSteps (+2)",
      "filepath": "packages/core/src/executor/flow-executor.ts",
      "line": 174,
      "inType": "Flow, ExecutionContext, boolean, boolean, number, StepProgressCallback | { readonly _brand: \"NoCallback\"; }",
      "outType": "Promise<ExecuteAllStepsResult>",
      "layerPath": [
        "packages/core/src",
        "executor"
      ]
    },
    "position": {
      "x": 400,
      "y": 500
    }
  },
  {
    "data": {
      "id": "executeStep_368",
      "parent": "layer-packages/core/src::executor",
      "label": "executeStep (+1) (+1) (+1)",
      "funcName": "executeStep (+1) (+1) (+1)",
      "filepath": "packages/core/src/executor/execute-step.ts",
      "line": 615,
      "inType": "Command, number, ExecutionContext, boolean",
      "outType": "Promise<StepResult>",
      "layerPath": [
        "packages/core/src",
        "executor"
      ]
    },
    "position": {
      "x": 400,
      "y": 600
    }
  },
  {
    "data": {
      "id": "executeResolvedCommand_381",
      "parent": "layer-packages/core/src::executor/commands",
      "label": "executeResolvedCommand (+5) (+6) (+3) (+2)",
      "funcName": "executeResolvedCommand (+5) (+6) (+3) (+2)",
      "filepath": "packages/core/src/executor/commands/handler-registry.ts",
      "line": 26,
      "inType": "ResolvedCommand, ExecutionContext",
      "outType": "ResultAsync<CommandResult, ExecutorError>",
      "layerPath": [
        "packages/core/src",
        "executor/commands"
      ]
    },
    "position": {
      "x": 700,
      "y": 200
    }
  },
  {
    "data": {
      "id": "loadAllFlows_705",
      "parent": "layer-packages/core/src::orchestrator",
      "label": "loadAllFlows",
      "funcName": "loadAllFlows",
      "filepath": "packages/core/src/orchestrator/run-flows.ts",
      "line": 160,
      "inType": "readonly string[], Readonly<Record<string, string | undefined>>, Readonly<Record<string, string>>",
      "outType": "ResultAsync<readonly Flow[], OrchestratorError>",
      "layerPath": [
        "packages/core/src",
        "orchestrator"
      ]
    },
    "position": {
      "x": 100,
      "y": 700
    }
  },
  {
    "data": {
      "id": "loadSingleFlow_706",
      "parent": "layer-packages/core/src::orchestrator",
      "label": "loadSingleFlow (+1)",
      "funcName": "loadSingleFlow (+1)",
      "filepath": "packages/core/src/orchestrator/run-flows.ts",
      "line": 109,
      "inType": "string, Readonly<Record<string, string | undefined>>, Readonly<Record<string, string>>",
      "outType": "ResultAsync<Flow, OrchestratorError>",
      "layerPath": [
        "packages/core/src",
        "orchestrator"
      ]
    },
    "position": {
      "x": 100,
      "y": 800
    }
  },
  {
    "data": {
      "id": "parseFlowYaml_707",
      "parent": "layer-packages/core/src::parser",
      "label": "parseFlowYaml (+1) (+1) (+1) (+1)",
      "funcName": "parseFlowYaml (+1) (+1) (+1) (+1)",
      "filepath": "packages/core/src/parser/yaml-parser.ts",
      "line": 428,
      "inType": "string, string, Readonly<Record<string, string | undefined>>, Readonly<Record<string, string>>",
      "outType": "Result<Flow, ParseError>",
      "layerPath": [
        "packages/core/src",
        "parser"
      ]
    },
    "position": {
      "x": 1000,
      "y": 100
    }
  },
  {
    "data": {
      "id": "buildFlow_731",
      "parent": "layer-packages/core/src::parser",
      "label": "buildFlow",
      "funcName": "buildFlow",
      "filepath": "packages/core/src/parser/yaml-parser.ts",
      "line": 421,
      "inType": "RawFlowData, string",
      "outType": "Result<Flow, ParseError>",
      "layerPath": [
        "packages/core/src",
        "parser"
      ]
    },
    "position": {
      "x": 1000,
      "y": 200
    }
  },
  {
    "data": {
      "id": "validateCommands_732",
      "parent": "layer-packages/core/src::parser",
      "label": "validateCommands (+1)",
      "funcName": "validateCommands (+1)",
      "filepath": "packages/core/src/parser/yaml-parser.ts",
      "line": 255,
      "inType": "unknown[]",
      "outType": "Result<readonly Command[], ParseError>",
      "layerPath": [
        "packages/core/src",
        "parser"
      ]
    },
    "position": {
      "x": 1000,
      "y": 300
    }
  },
  {
    "data": {
      "id": "validateAllCommands_733",
      "parent": "layer-packages/core/src::parser",
      "label": "validateAllCommands",
      "funcName": "validateAllCommands",
      "filepath": "packages/core/src/parser/yaml-parser.ts",
      "line": 245,
      "inType": "unknown[]",
      "outType": "Result<Command[], ParseError>",
      "layerPath": [
        "packages/core/src",
        "parser"
      ]
    },
    "position": {
      "x": 1000,
      "y": 400
    }
  },
  {
    "data": {
      "id": "reduceValidateCommand_734",
      "parent": "layer-packages/core/src::parser",
      "label": "reduceValidateCommand",
      "funcName": "reduceValidateCommand",
      "filepath": "packages/core/src/parser/yaml-parser.ts",
      "line": 228,
      "inType": "Result<Command[], ParseError>, unknown, number",
      "outType": "Result<Command[], ParseError>",
      "layerPath": [
        "packages/core/src",
        "parser"
      ]
    },
    "position": {
      "x": 1000,
      "y": 500
    }
  },
  {
    "data": {
      "id": "appendValidatedCommand_735",
      "parent": "layer-packages/core/src::parser",
      "label": "appendValidatedCommand",
      "funcName": "appendValidatedCommand",
      "filepath": "packages/core/src/parser/yaml-parser.ts",
      "line": 212,
      "inType": "Command[], unknown, number",
      "outType": "Result<Command[], ParseError>",
      "layerPath": [
        "packages/core/src",
        "parser"
      ]
    },
    "position": {
      "x": 1000,
      "y": 600
    }
  },
  {
    "data": {
      "id": "validateCommand_736",
      "parent": "layer-packages/core/src::parser/validators",
      "label": "validateCommand",
      "funcName": "validateCommand",
      "filepath": "packages/core/src/parser/validators/command-validator.ts",
      "line": 22,
      "inType": "unknown, number",
      "outType": "Result<Command, ParseError>",
      "layerPath": [
        "packages/core/src",
        "parser/validators"
      ]
    },
    "position": {
      "x": 1300,
      "y": 100
    }
  },
  {
    "data": {
      "id": "edge-0",
      "source": "executeStep_17",
      "target": "executeResolvedCommand_30",
      "edgeType": "call",
      "label": "call",
      "flowType": "ResolvedCommand"
    }
  },
  {
    "data": {
      "id": "edge-1",
      "source": "executeResolvedCommand_30",
      "target": "executeStep_17",
      "edgeType": "return",
      "label": "return",
      "flowType": "ResolvedCommand"
    }
  },
  {
    "data": {
      "id": "edge-2",
      "source": "executeAllSteps_15",
      "target": "executeStep_17",
      "edgeType": "call",
      "label": "call",
      "flowType": "Command"
    }
  },
  {
    "data": {
      "id": "edge-3",
      "source": "executeStep_17",
      "target": "executeAllSteps_15",
      "edgeType": "return",
      "label": "return",
      "flowType": "Command"
    }
  },
  {
    "data": {
      "id": "edge-4",
      "source": "executeFlow_8",
      "target": "executeAllSteps_15",
      "edgeType": "call",
      "label": "call",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-5",
      "source": "executeAllSteps_15",
      "target": "executeFlow_8",
      "edgeType": "return",
      "label": "return",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-6",
      "source": "executeSingleFlow_4",
      "target": "executeFlow_8",
      "edgeType": "call",
      "label": "call",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-7",
      "source": "executeFlow_8",
      "target": "executeSingleFlow_4",
      "edgeType": "return",
      "label": "return",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-8",
      "source": "executeAllFlowsParallel_2",
      "target": "executeSingleFlow_4",
      "edgeType": "call",
      "label": "call",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-9",
      "source": "executeSingleFlow_4",
      "target": "executeAllFlowsParallel_2",
      "edgeType": "return",
      "label": "return",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-10",
      "source": "executeAllFlows_1",
      "target": "executeAllFlowsParallel_2",
      "edgeType": "call",
      "label": "call",
      "flowType": "readonly Flow[]"
    }
  },
  {
    "data": {
      "id": "edge-11",
      "source": "executeAllFlowsParallel_2",
      "target": "executeAllFlows_1",
      "edgeType": "return",
      "label": "return",
      "flowType": "readonly Flow[]"
    }
  },
  {
    "data": {
      "id": "edge-12",
      "source": "executeStep_368",
      "target": "executeResolvedCommand_381",
      "edgeType": "call",
      "label": "call",
      "flowType": "ResolvedCommand"
    }
  },
  {
    "data": {
      "id": "edge-13",
      "source": "executeResolvedCommand_381",
      "target": "executeStep_368",
      "edgeType": "return",
      "label": "return",
      "flowType": "ResolvedCommand"
    }
  },
  {
    "data": {
      "id": "edge-14",
      "source": "executeAllSteps_366",
      "target": "executeStep_368",
      "edgeType": "call",
      "label": "call",
      "flowType": "Command"
    }
  },
  {
    "data": {
      "id": "edge-15",
      "source": "executeStep_368",
      "target": "executeAllSteps_366",
      "edgeType": "return",
      "label": "return",
      "flowType": "Command"
    }
  },
  {
    "data": {
      "id": "edge-16",
      "source": "executeFlow_359",
      "target": "executeAllSteps_366",
      "edgeType": "call",
      "label": "call",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-17",
      "source": "executeAllSteps_366",
      "target": "executeFlow_359",
      "edgeType": "return",
      "label": "return",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-18",
      "source": "executeSingleFlow_355",
      "target": "executeFlow_359",
      "edgeType": "call",
      "label": "call",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-19",
      "source": "executeFlow_359",
      "target": "executeSingleFlow_355",
      "edgeType": "return",
      "label": "return",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-20",
      "source": "executeAllFlowsSequential_354",
      "target": "executeSingleFlow_355",
      "edgeType": "call",
      "label": "call",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-21",
      "source": "executeSingleFlow_355",
      "target": "executeAllFlowsSequential_354",
      "edgeType": "return",
      "label": "return",
      "flowType": "Flow"
    }
  },
  {
    "data": {
      "id": "edge-22",
      "source": "executeAllFlows_1",
      "target": "executeAllFlowsSequential_354",
      "edgeType": "call",
      "label": "call",
      "flowType": "readonly Flow[]"
    }
  },
  {
    "data": {
      "id": "edge-23",
      "source": "executeAllFlowsSequential_354",
      "target": "executeAllFlows_1",
      "edgeType": "return",
      "label": "return",
      "flowType": "readonly Flow[]"
    }
  },
  {
    "data": {
      "id": "edge-24",
      "source": "runFlows_0",
      "target": "executeAllFlows_1",
      "edgeType": "call",
      "label": "call",
      "flowType": "readonly Flow[]"
    }
  },
  {
    "data": {
      "id": "edge-25",
      "source": "executeAllFlows_1",
      "target": "runFlows_0",
      "edgeType": "return",
      "label": "return",
      "flowType": "readonly Flow[]"
    }
  },
  {
    "data": {
      "id": "edge-26",
      "source": "appendValidatedCommand_735",
      "target": "validateCommand_736",
      "edgeType": "call",
      "label": "call",
      "flowType": "unknown"
    }
  },
  {
    "data": {
      "id": "edge-27",
      "source": "validateCommand_736",
      "target": "appendValidatedCommand_735",
      "edgeType": "return",
      "label": "return",
      "flowType": "unknown"
    }
  },
  {
    "data": {
      "id": "edge-28",
      "source": "reduceValidateCommand_734",
      "target": "appendValidatedCommand_735",
      "edgeType": "call",
      "label": "call",
      "flowType": "Command[]"
    }
  },
  {
    "data": {
      "id": "edge-29",
      "source": "appendValidatedCommand_735",
      "target": "reduceValidateCommand_734",
      "edgeType": "return",
      "label": "return",
      "flowType": "Command[]"
    }
  },
  {
    "data": {
      "id": "edge-30",
      "source": "validateAllCommands_733",
      "target": "reduceValidateCommand_734",
      "edgeType": "call",
      "label": "call",
      "flowType": "Result<Command[], ParseError>"
    }
  },
  {
    "data": {
      "id": "edge-31",
      "source": "reduceValidateCommand_734",
      "target": "validateAllCommands_733",
      "edgeType": "return",
      "label": "return",
      "flowType": "Result<Command[], ParseError>"
    }
  },
  {
    "data": {
      "id": "edge-32",
      "source": "validateCommands_732",
      "target": "validateAllCommands_733",
      "edgeType": "call",
      "label": "call",
      "flowType": "unknown[]"
    }
  },
  {
    "data": {
      "id": "edge-33",
      "source": "validateAllCommands_733",
      "target": "validateCommands_732",
      "edgeType": "return",
      "label": "return",
      "flowType": "unknown[]"
    }
  },
  {
    "data": {
      "id": "edge-34",
      "source": "buildFlow_731",
      "target": "validateCommands_732",
      "edgeType": "call",
      "label": "call",
      "flowType": "unknown[]"
    }
  },
  {
    "data": {
      "id": "edge-35",
      "source": "validateCommands_732",
      "target": "buildFlow_731",
      "edgeType": "return",
      "label": "return",
      "flowType": "unknown[]"
    }
  },
  {
    "data": {
      "id": "edge-36",
      "source": "parseFlowYaml_707",
      "target": "buildFlow_731",
      "edgeType": "call",
      "label": "call",
      "flowType": "RawFlowData"
    }
  },
  {
    "data": {
      "id": "edge-37",
      "source": "buildFlow_731",
      "target": "parseFlowYaml_707",
      "edgeType": "return",
      "label": "return",
      "flowType": "RawFlowData"
    }
  },
  {
    "data": {
      "id": "edge-38",
      "source": "loadSingleFlow_706",
      "target": "parseFlowYaml_707",
      "edgeType": "call",
      "label": "call",
      "flowType": "string"
    }
  },
  {
    "data": {
      "id": "edge-39",
      "source": "parseFlowYaml_707",
      "target": "loadSingleFlow_706",
      "edgeType": "return",
      "label": "return",
      "flowType": "string"
    }
  },
  {
    "data": {
      "id": "edge-40",
      "source": "loadAllFlows_705",
      "target": "loadSingleFlow_706",
      "edgeType": "call",
      "label": "call",
      "flowType": "string"
    }
  },
  {
    "data": {
      "id": "edge-41",
      "source": "loadSingleFlow_706",
      "target": "loadAllFlows_705",
      "edgeType": "return",
      "label": "return",
      "flowType": "string"
    }
  },
  {
    "data": {
      "id": "edge-42",
      "source": "runFlows_0",
      "target": "loadAllFlows_705",
      "edgeType": "call",
      "label": "call",
      "flowType": "readonly string[]"
    }
  },
  {
    "data": {
      "id": "edge-43",
      "source": "loadAllFlows_705",
      "target": "runFlows_0",
      "edgeType": "return",
      "label": "return",
      "flowType": "readonly string[]"
    }
  }
];

    // スタイル設定
    const styles = [
  {
    "selector": "node",
    "style": {
      "background-color": "#f5f5f5",
      "border-width": 2,
      "border-color": "#333",
      "label": "data(label)",
      "text-valign": "center",
      "text-halign": "center",
      "width": 180,
      "height": 50,
      "shape": "round-rectangle",
      "font-size": "12px",
      "text-wrap": "ellipsis",
      "text-max-width": "160px"
    }
  },
  {
    "selector": "node[isLayerGroup]",
    "style": {
      "background-opacity": 0.2,
      "border-width": 1,
      "border-color": "#ccc",
      "border-opacity": 0.5,
      "label": "data(label)",
      "text-valign": "top",
      "text-halign": "center",
      "font-size": "14px",
      "font-weight": "bold",
      "color": "#666",
      "text-margin-y": 10,
      "padding": 20,
      "shape": "round-rectangle"
    }
  },
  {
    "selector": "node[isLayerGroup][depth = 0]",
    "style": {
      "background-color": "#e3f2fd",
      "background-opacity": 0.25,
      "border-color": "#90caf9"
    }
  },
  {
    "selector": "node[isLayerGroup][depth = 1]",
    "style": {
      "background-color": "#f3e5f5",
      "background-opacity": 0.3,
      "border-color": "#ce93d8"
    }
  },
  {
    "selector": "node[isLayerGroup][depth = 2]",
    "style": {
      "background-color": "#e8f5e9",
      "background-opacity": 0.35,
      "border-color": "#a5d6a7"
    }
  },
  {
    "selector": "node[isLayerGroup][depth = 3]",
    "style": {
      "background-color": "#fff3e0",
      "background-opacity": 0.4,
      "border-color": "#ffcc80"
    }
  },
  {
    "selector": "node[isLayerGroup][depth >= 4]",
    "style": {
      "background-color": "#e0f7fa",
      "background-opacity": 0.45,
      "border-color": "#80deea"
    }
  },
  {
    "selector": "edge[edgeType != \"return\"]",
    "style": {
      "width": 2,
      "line-color": "#333",
      "target-arrow-color": "#333",
      "target-arrow-shape": "triangle",
      "curve-style": "bezier",
      "label": "data(flowType)",
      "font-size": "10px",
      "text-rotation": "autorotate",
      "text-margin-y": -10,
      "color": "#666",
      "text-background-color": "#fff",
      "text-background-opacity": 0.8,
      "text-background-padding": "2px"
    }
  },
  {
    "selector": "edge[edgeType = \"return\"]",
    "style": {
      "width": 2,
      "line-color": "#999",
      "target-arrow-color": "#999",
      "target-arrow-shape": "triangle",
      "curve-style": "bezier",
      "line-style": "dashed",
      "label": "data(flowType)",
      "font-size": "10px",
      "text-rotation": "autorotate",
      "text-margin-y": 10,
      "color": "#999",
      "text-background-color": "#fff",
      "text-background-opacity": 0.8,
      "text-background-padding": "2px"
    }
  },
  {
    "selector": "node:active",
    "style": {
      "border-color": "#007bff",
      "border-width": 3
    }
  },
  {
    "selector": "edge:active",
    "style": {
      "width": 4
    }
  }
];

    // Cytoscape インスタンス
    let cy = null;

    /**
     * Cytoscape.js を初期化する
     */
    function init() {
      cy = cytoscape({
        container: document.getElementById('cy'),
        elements: elements,
        style: styles,
        layout: { name: 'preset' }, // 初期配置用（後でdagreで再配置）
        minZoom: 0.2,
        maxZoom: 3,
      });

      // dagreレイアウトを実行（compound nodes対応の階層レイアウト）
      runDagreLayout();
      setupInteractions();
    }

    /**
     * dagreレイアウトを実行する
     */
    function runDagreLayout() {
      cy.layout({
        name: 'dagre',
        rankDir: 'LR',
        nodeSep: 50,
        rankSep: 200,
        fit: true,
        padding: 50,
        animate: false,
      }).run();
    }

    /**
     * インタラクション（ホバー、ツールチップ）を設定する
     */
    function setupInteractions() {
      const tooltip = document.getElementById('tooltip');

      // エッジhoverでツールチップ表示
      cy.on('mouseover', 'edge', function(e) {
        const edge = e.target;
        const data = edge.data();
        const tooltipContent = [
          '<div><strong>' + escapeHtmlInJs(data.edgeType) + '</strong></div>'
        ];
        if (data.flowType) {
          tooltipContent.push('<div>Type: ' + escapeHtmlInJs(data.flowType) + '</div>');
        }
        if (data.label) {
          tooltipContent.push('<div>Label: ' + escapeHtmlInJs(data.label) + '</div>');
        }
        tooltip.innerHTML = tooltipContent.join('');
        tooltip.style.display = 'block';
      });

      // ノードhoverでツールチップ表示（レイヤーグループノードは除外）
      cy.on('mouseover', 'node[!isLayerGroup]', function(e) {
        const node = e.target;
        const data = node.data();
        const tooltipContent = [
          '<div><strong>' + escapeHtmlInJs(data.funcName) + '</strong></div>',
          '<div>' + escapeHtmlInJs(data.filepath) + ':' + data.line + '</div>',
          '<div>In: ' + escapeHtmlInJs(data.inType || 'void') + '</div>',
          '<div>Out: ' + escapeHtmlInJs(data.outType || 'void') + '</div>'
        ];
        tooltip.innerHTML = tooltipContent.join('');
        tooltip.style.display = 'block';
      });

      // マウス移動でツールチップ位置更新
      cy.on('mousemove', function(e) {
        if (e.originalEvent) {
          tooltip.style.left = (e.originalEvent.pageX + 10) + 'px';
          tooltip.style.top = (e.originalEvent.pageY + 10) + 'px';
        }
      });

      // マウスアウトでツールチップ非表示
      cy.on('mouseout', 'node, edge', function() {
        tooltip.style.display = 'none';
      });
    }

    /**
     * HTML特殊文字をエスケープする（JavaScript内で使用）
     */
    function escapeHtmlInJs(text) {
      if (text === null || text === undefined) return '';
      return String(text)
        .replace(/&/g, '&amp;')
        .replace(/</g, '&lt;')
        .replace(/>/g, '&gt;')
        .replace(/"/g, '&quot;')
        .replace(/'/g, '&#39;');
    }

    // レイアウト定数
    const LAYOUT_CONSTANTS = {
      LAYER_WIDTH: 300,
      NODE_SPACING: 100,
      INITIAL_OFFSET: { x: 100, y: 100 },
    };

    /**
     * layerPathからレイヤーキーを取得
     */
    function getLayerKey(layerPath, layerDepth) {
      return layerPath.slice(0, layerDepth).join('::');
    }

    /**
     * 2つのノードが同じレイヤーグループに属するか判定
     */
    function isSameLayerGroup(layerPath1, layerPath2, layerDepth) {
      for (let i = 0; i < layerDepth; i++) {
        if (layerPath1[i] !== layerPath2[i]) return false;
      }
      return true;
    }

    /**
     * 階層的なレイヤーグループを構築する
     * layerPathの各レベルでグループを作成し、親子関係を設定する
     * @param nodes - ノード配列
     * @param layerDepth - レイヤー深さ
     * @returns グループ情報の配列 { id, label, parent, depth }
     */
    function buildHierarchicalLayerGroups(nodes, layerDepth) {
      const groups = new Map(); // groupId -> { id, label, parent, depth }

      for (const node of nodes) {
        const layerPath = node.layerPath.slice(0, layerDepth);

        // 各階層レベルでグループを作成
        for (let depth = 0; depth < layerPath.length; depth++) {
          const pathSegment = layerPath.slice(0, depth + 1);
          const groupId = 'layer-' + pathSegment.join('::');

          if (!groups.has(groupId)) {
            const parentPath = pathSegment.slice(0, -1);
            const parentId = parentPath.length > 0 ? 'layer-' + parentPath.join('::') : null;

            groups.set(groupId, {
              id: groupId,
              label: pathSegment[depth], // 最後の要素のみをラベルに
              parent: parentId,
              depth: depth,
            });
          }
        }
      }

      return Array.from(groups.values());
    }

    /**
     * マージ処理（同一関数を1ノードに合成）
     */
    function mergeDiagram(diagram) {
      const mergedNodes = [];
      const nodeKeyToId = new Map();
      const nodeKeyToNode = new Map();

      for (const node of diagram.nodes) {
        const key = node.funcName + '@' + node.filepath;
        if (!nodeKeyToId.has(key)) {
          nodeKeyToId.set(key, node.id);
          nodeKeyToNode.set(key, node);
          mergedNodes.push({ ...node });
        }
      }

      const seenEdges = new Set();
      const mergedEdges = [];
      for (const edge of diagram.edges) {
        const fromNode = diagram.nodes.find(n => n.id === edge.from);
        const toNode = diagram.nodes.find(n => n.id === edge.to);
        if (!fromNode || !toNode) continue;

        const fromKey = fromNode.funcName + '@' + fromNode.filepath;
        const toKey = toNode.funcName + '@' + toNode.filepath;

        const newFromId = nodeKeyToId.get(fromKey);
        const newToId = nodeKeyToId.get(toKey);
        if (!newFromId || !newToId) continue;
        if (newFromId === newToId) continue;

        const edgeKey = newFromId + '->' + newToId;
        if (!seenEdges.has(edgeKey)) {
          seenEdges.add(edgeKey);
          mergedEdges.push({ ...edge, from: newFromId, to: newToId });
        }
      }

      return {
        meta: { ...diagram.meta, totalNodes: mergedNodes.length, totalEdges: mergedEdges.length },
        nodes: mergedNodes,
        edges: mergedEdges,
      };
    }

    /**
     * 折りたたみ処理（リーフノードを親に吸収）
     * callエッジのみで葉ノードを判定（returnエッジは無視）
     */
    function collapseLeafNodes(nodes, edges, layerDepth) {
      // callエッジのみをフィルタ
      const callEdges = edges.filter(function(e) { return e.edgeType === 'call'; });

      const outDegree = new Map();
      for (const node of nodes) outDegree.set(node.id, 0);
      for (const edge of callEdges) outDegree.set(edge.from, (outDegree.get(edge.from) || 0) + 1);

      const leafNodeIds = new Set();
      for (const node of nodes) {
        if (outDegree.get(node.id) === 0) leafNodeIds.add(node.id);
      }

      const nodesToRemove = new Set();
      const nodeMap = new Map(nodes.map(n => [n.id, n]));
      const absorbedBy = new Map();

      for (const leafId of leafNodeIds) {
        // callエッジのみで親を判定
        const parentEdges = callEdges.filter(e => e.to === leafId);
        if (parentEdges.length !== 1) continue;

        const parentId = parentEdges[0].from;
        const parentNode = nodeMap.get(parentId);
        const leafNode = nodeMap.get(leafId);
        if (!parentNode || !leafNode) continue;

        if (!isSameLayerGroup(parentNode.layerPath, leafNode.layerPath, layerDepth)) continue;

        nodesToRemove.add(leafId);
        if (!absorbedBy.has(parentId)) absorbedBy.set(parentId, []);
        absorbedBy.get(parentId).push(leafNode.funcName);
      }

      const newNodes = nodes
        .filter(n => !nodesToRemove.has(n.id))
        .map(n => {
          const absorbed = absorbedBy.get(n.id);
          if (absorbed && absorbed.length > 0) {
            return { ...n, funcName: n.funcName + ' (+' + absorbed.length + ')' };
          }
          return n;
        });

      const newEdges = edges.filter(e => !nodesToRemove.has(e.to) && !nodesToRemove.has(e.from));
      return { nodes: newNodes, edges: newEdges, collapsedCount: nodesToRemove.size };
    }

    /**
     * ノード位置を計算（dagreレイアウトの初期位置として使用）
     */
    function calculatePositions(nodes, layerDepth, edges) {
      const positions = new Map();
      const layerKeyToIndex = new Map();
      const layerKeyToYIndex = new Map();

      // ユニークなレイヤーキーを出現順で収集
      const orderedLayerKeys = [];
      for (const node of nodes) {
        const key = getLayerKey(node.layerPath, layerDepth);
        if (!layerKeyToIndex.has(key)) {
          layerKeyToIndex.set(key, orderedLayerKeys.length);
          orderedLayerKeys.push(key);
          layerKeyToYIndex.set(key, 0);
        }
      }

      // 各ノードの位置を計算
      for (const node of nodes) {
        const layerKey = getLayerKey(node.layerPath, layerDepth);
        const xIndex = layerKeyToIndex.get(layerKey);
        const yIndex = layerKeyToYIndex.get(layerKey);
        layerKeyToYIndex.set(layerKey, yIndex + 1);

        positions.set(node.id, {
          x: LAYOUT_CONSTANTS.INITIAL_OFFSET.x + xIndex * LAYOUT_CONSTANTS.LAYER_WIDTH,
          y: LAYOUT_CONSTANTS.INITIAL_OFFSET.y + yIndex * LAYOUT_CONSTANTS.NODE_SPACING,
        });
      }

      return positions;
    }

    /**
     * diagramとオプションからCytoscape elementsを生成
     */
    function buildElements(diagram, options) {
      let processedDiagram = JSON.parse(JSON.stringify(diagram)); // deep copy

      // 外部ライブラリをフィルタ（選択されていないライブラリを非表示）
      const visibleLibsSet = new Set(options.visibleExternalLibs);
      const hiddenNodeIds = new Set();

      processedDiagram.nodes = processedDiagram.nodes.filter(function(n) {
        if (n.isExternal && !visibleLibsSet.has(n.filepath)) {
          hiddenNodeIds.add(n.id);
          return false;
        }
        return true;
      });

      processedDiagram.edges = processedDiagram.edges.filter(
        function(e) { return !hiddenNodeIds.has(e.from) && !hiddenNodeIds.has(e.to); }
      );
      processedDiagram.meta.totalNodes = processedDiagram.nodes.length;
      processedDiagram.meta.totalEdges = processedDiagram.edges.length;

      // マージ処理
      if (options.merge) {
        processedDiagram = mergeDiagram(processedDiagram);
      }

      // 折りたたみ処理
      if (options.collapseLevel > 0) {
        let nodes = processedDiagram.nodes;
        let edges = processedDiagram.edges;
        for (let i = 0; i < options.collapseLevel; i++) {
          const result = collapseLeafNodes(nodes, edges, options.layerDepth);
          if (result.collapsedCount === 0) break;
          nodes = result.nodes;
          edges = result.edges;
        }
        processedDiagram.nodes = nodes;
        processedDiagram.edges = edges;
        processedDiagram.meta.totalNodes = nodes.length;
        processedDiagram.meta.totalEdges = edges.length;
      }

      // 位置計算（エッジ構造を考慮）
      const positions = calculatePositions(processedDiagram.nodes, options.layerDepth, processedDiagram.edges);

      // 階層的なレイヤーグループを構築
      const hierarchicalGroups = buildHierarchicalLayerGroups(processedDiagram.nodes, options.layerDepth);

      // レイヤーグループ（親ノード）を生成
      // compound nodes として子ノードを包含し、ネストされた階層構造を表現
      const layerGroupElements = hierarchicalGroups.map(group => ({
        data: {
          id: group.id,
          label: group.label,
          parent: group.parent, // 親グループのID（nullなら最上位）
          isLayerGroup: true,
          depth: group.depth,
          isEven: group.depth % 2 === 0, // 深さで交互色
        },
        // 位置は子ノードに基づいて自動計算されるため指定しない
      }));

      // Cytoscape elements 生成
      const nodeElements = processedDiagram.nodes.map(node => {
        const layerPath = node.layerPath.slice(0, options.layerDepth);
        const layerKey = layerPath.join('::');
        const parentGroupId = layerPath.length > 0 ? 'layer-' + layerPath.join('::') : null;
        const pos = positions.get(node.id) || { x: 0, y: 0 };
        return {
          data: {
            id: node.id,
            parent: parentGroupId,
            label: node.funcName,
            funcName: node.funcName,
            filepath: node.filepath,
            line: node.line,
            inType: node.inType,
            outType: node.outType,
            layerPath: node.layerPath,
            layerKey: layerKey,
          },
          position: { x: pos.x, y: pos.y },
        };
      });

      const edgeElements = processedDiagram.edges.map((edge, index) => ({
        data: {
          id: 'edge-' + index,
          source: edge.from,
          target: edge.to,
          edgeType: edge.edgeType,
          label: edge.label,
          flowType: edge.flowType,
        },
      }));

      // レイヤーグループ、ノード、エッジを返す
      return { elements: [...layerGroupElements, ...nodeElements, ...edgeElements], meta: processedDiagram.meta };
    }

    /**
     * Cytoscapeを再描画
     */
    function redraw(options) {
      const result = buildElements(originalDiagram, options);

      // メタ情報を更新
      document.querySelector('.meta').innerHTML =
        '<p><strong>Entry:</strong> ' + escapeHtmlInJs(result.meta.entryPoint) + '</p>' +
        '<p><strong>Nodes:</strong> ' + result.meta.totalNodes + '</p>' +
        '<p><strong>Edges:</strong> ' + result.meta.totalEdges + '</p>' +
        '<p><strong>Generated:</strong> ' + escapeHtmlInJs(formatDateTime(result.meta.generatedAt)) + '</p>';

      // Cytoscape再初期化
      cy.destroy();
      cy = cytoscape({
        container: document.getElementById('cy'),
        elements: result.elements,
        style: styles,
        layout: { name: 'preset' }, // 初期配置用（後でdagreで再配置）
        minZoom: 0.2,
        maxZoom: 3,
      });

      // dagreレイアウトを実行
      runDagreLayout();
      setupInteractions();
      currentOptions = { ...options };
    }

    /**
     * formatDateTime関数（JS側）
     */
    function formatDateTime(isoString) {
      const date = new Date(isoString);
      const year = date.getFullYear();
      const month = String(date.getMonth() + 1).padStart(2, '0');
      const day = String(date.getDate()).padStart(2, '0');
      const hours = String(date.getHours()).padStart(2, '0');
      const minutes = String(date.getMinutes()).padStart(2, '0');
      return year + '/' + month + '/' + day + ' ' + hours + ':' + minutes;
    }

    // Apply ボタン
    document.getElementById('apply').addEventListener('click', function() {
      const visibleExternalLibs = [];
      document.querySelectorAll('#externalLibsContainer input:checked').forEach(function(input) {
        visibleExternalLibs.push(input.dataset.lib);
      });

      const newOptions = {
        merge: document.getElementById('merge').checked,
        layerDepth: parseInt(document.getElementById('layerDepth').value, 10),
        collapseLevel: parseInt(document.getElementById('collapseLevel').value, 10),
        visibleExternalLibs: visibleExternalLibs,
      };
      redraw(newOptions);
    });

    // すべて選択ボタン
    document.getElementById('selectAllLibs').addEventListener('click', function() {
      document.querySelectorAll('#externalLibsContainer input').forEach(function(input) {
        input.checked = true;
      });
    });

    // すべて解除ボタン
    document.getElementById('deselectAllLibs').addEventListener('click', function() {
      document.querySelectorAll('#externalLibsContainer input').forEach(function(input) {
        input.checked = false;
      });
    });

    // 初期化実行
    initExternalLibsUI();
    init();
  </script>
</body>
</html>